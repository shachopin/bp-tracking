(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var be={},hG={get exports(){return be},set exports(t){be=t}},Ym={},ut={},fG={get exports(){return ut},set exports(t){ut=t}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=Symbol.for("react.element"),dG=Symbol.for("react.portal"),pG=Symbol.for("react.fragment"),vG=Symbol.for("react.strict_mode"),gG=Symbol.for("react.profiler"),mG=Symbol.for("react.provider"),yG=Symbol.for("react.context"),wG=Symbol.for("react.forward_ref"),xG=Symbol.for("react.suspense"),bG=Symbol.for("react.memo"),_G=Symbol.for("react.lazy"),CR=Symbol.iterator;function SG(t){return t===null||typeof t!="object"?null:(t=CR&&t[CR]||t["@@iterator"],typeof t=="function"?t:null)}var bL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_L=Object.assign,SL={};function Dc(t,e,n){this.props=t,this.context=e,this.refs=SL,this.updater=n||bL}Dc.prototype.isReactComponent={};Dc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EL(){}EL.prototype=Dc.prototype;function sE(t,e,n){this.props=t,this.context=e,this.refs=SL,this.updater=n||bL}var aE=sE.prototype=new EL;aE.constructor=sE;_L(aE,Dc.prototype);aE.isPureReactComponent=!0;var IR=Array.isArray,TL=Object.prototype.hasOwnProperty,uE={current:null},kL={key:!0,ref:!0,__self:!0,__source:!0};function CL(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)TL.call(e,r)&&!kL.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Od,type:t,key:o,ref:a,props:i,_owner:uE.current}}function EG(t,e){return{$$typeof:Od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Od}function TG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var AR=/\/+/g;function ub(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TG(""+t.key):e.toString(36)}function ug(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Od:case dG:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ub(a,0):r,IR(i)?(n="",t!=null&&(n=t.replace(AR,"$&/")+"/"),ug(i,e,n,"",function(h){return h})):i!=null&&(lE(i)&&(i=EG(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(AR,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",IR(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+ub(o,u);a+=ug(o,e,n,c,i)}else if(c=SG(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+ub(o,u++),a+=ug(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function kv(t,e,n){if(t==null)return t;var r=[],i=0;return ug(t,r,"","",function(o){return e.call(n,o,i++)}),r}function kG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},lg={transition:null},CG={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:lg,ReactCurrentOwner:uE};ge.Children={map:kv,forEach:function(t,e,n){kv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kv(t,function(){e++}),e},toArray:function(t){return kv(t,function(e){return e})||[]},only:function(t){if(!lE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Dc;ge.Fragment=pG;ge.Profiler=gG;ge.PureComponent=sE;ge.StrictMode=vG;ge.Suspense=xG;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CG;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_L({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=uE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)TL.call(e,c)&&!kL.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Od,type:t.type,key:i,ref:o,props:r,_owner:a}};ge.createContext=function(t){return t={$$typeof:yG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mG,_context:t},t.Consumer=t};ge.createElement=CL;ge.createFactory=function(t){var e=CL.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:wG,render:t}};ge.isValidElement=lE;ge.lazy=function(t){return{$$typeof:_G,_payload:{_status:-1,_result:t},_init:kG}};ge.memo=function(t,e){return{$$typeof:bG,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=lg.transition;lg.transition={};try{t()}finally{lg.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return Pr.current.useCallback(t,e)};ge.useContext=function(t){return Pr.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Pr.current.useEffect(t,e)};ge.useId=function(){return Pr.current.useId()};ge.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Pr.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};ge.useRef=function(t){return Pr.current.useRef(t)};ge.useState=function(t){return Pr.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Pr.current.useTransition()};ge.version="18.2.0";(function(t){t.exports=ge})(fG);const $e=oE(ut);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IG=ut,AG=Symbol.for("react.element"),PG=Symbol.for("react.fragment"),RG=Object.prototype.hasOwnProperty,MG=IG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OG={key:!0,ref:!0,__self:!0,__source:!0};function IL(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)RG.call(e,r)&&!OG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AG,type:t,key:o,ref:a,props:i,_owner:MG.current}}Ym.Fragment=PG;Ym.jsx=IL;Ym.jsxs=IL;(function(t){t.exports=Ym})(hG);var Ai={},NG={get exports(){return Ai},set exports(t){Ai=t}},hi={},U1={},DG={get exports(){return U1},set exports(t){U1=t}},AL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,L){var z=_.length;_.push(L);t:for(;0<z;){var K=z-1>>>1,X=_[K];if(0<i(X,L))_[K]=L,_[z]=X,z=K;else break t}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var L=_[0],z=_.pop();if(z!==L){_[0]=z;t:for(var K=0,X=_.length,O=X>>>1;K<O;){var j=2*(K+1)-1,W=_[j],q=j+1,Q=_[q];if(0>i(W,z))q<X&&0>i(Q,W)?(_[K]=Q,_[q]=z,K=q):(_[K]=W,_[j]=z,K=j);else if(q<X&&0>i(Q,z))_[K]=Q,_[q]=z,K=q;else break t}}return L}function i(_,L){var z=_.sortIndex-L.sortIndex;return z!==0?z:_.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],f=1,v=null,g=3,b=!1,w=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(_){for(var L=n(h);L!==null;){if(L.callback===null)r(h);else if(L.startTime<=_)r(h),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(h)}}function D(_){if(T=!1,C(_),!w)if(n(c)!==null)w=!0,y(U);else{var L=n(h);L!==null&&R(D,L.startTime-_)}}function U(_,L){w=!1,T&&(T=!1,k(F),F=-1),b=!0;var z=g;try{for(C(L),v=n(c);v!==null&&(!(v.expirationTime>L)||_&&!A());){var K=v.callback;if(typeof K=="function"){v.callback=null,g=v.priorityLevel;var X=K(v.expirationTime<=L);L=t.unstable_now(),typeof X=="function"?v.callback=X:v===n(c)&&r(c),C(L)}else r(c);v=n(c)}if(v!==null)var O=!0;else{var j=n(h);j!==null&&R(D,j.startTime-L),O=!1}return O}finally{v=null,g=z,b=!1}}var $=!1,H=null,F=-1,M=5,I=-1;function A(){return!(t.unstable_now()-I<M)}function E(){if(H!==null){var _=t.unstable_now();I=_;var L=!0;try{L=H(!0,_)}finally{L?x():($=!1,H=null)}}else $=!1}var x;if(typeof S=="function")x=function(){S(E)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,p=m.port2;m.port1.onmessage=E,x=function(){p.postMessage(null)}}else x=function(){P(E,0)};function y(_){H=_,$||($=!0,x())}function R(_,L){F=P(function(){_(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,y(U))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(_){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var z=g;g=L;try{return _()}finally{g=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,L){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var z=g;g=_;try{return L()}finally{g=z}},t.unstable_scheduleCallback=function(_,L,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,_){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,_={id:f++,callback:L,priorityLevel:_,startTime:z,expirationTime:X,sortIndex:-1},z>K?(_.sortIndex=z,e(h,_),n(c)===null&&_===n(h)&&(T?(k(F),F=-1):T=!0,R(D,z-K))):(_.sortIndex=X,e(c,_),w||b||(w=!0,y(U))),_},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(_){var L=g;return function(){var z=g;g=L;try{return _.apply(this,arguments)}finally{g=z}}}})(AL);(function(t){t.exports=AL})(DG);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL=ut,ai=U1;function Ot(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RL=new Set,Uf={};function Ou(t,e){ec(t,e),ec(t+"Capture",e)}function ec(t,e){for(Uf[t]=e,t=0;t<e.length;t++)RL.add(e[t])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z1=Object.prototype.hasOwnProperty,LG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PR={},RR={};function FG(t){return z1.call(RR,t)?!0:z1.call(PR,t)?!1:LG.test(t)?RR[t]=!0:(PR[t]=!0,!1)}function jG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BG(t,e,n,r){if(e===null||typeof e>"u"||jG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jn[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jn[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jn[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jn[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jn[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jn[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jn[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jn[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jn[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var cE=/[\-:]([a-z])/g;function hE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cE,hE);Jn[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cE,hE);Jn[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cE,hE);Jn[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fE(t,e,n,r){var i=Jn.hasOwnProperty(e)?Jn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BG(e,n,i,r)&&(n=null),r||i===null?FG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=PL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cv=Symbol.for("react.element"),Al=Symbol.for("react.portal"),Pl=Symbol.for("react.fragment"),dE=Symbol.for("react.strict_mode"),$1=Symbol.for("react.profiler"),ML=Symbol.for("react.provider"),OL=Symbol.for("react.context"),pE=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),W1=Symbol.for("react.suspense_list"),vE=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),NL=Symbol.for("react.offscreen"),MR=Symbol.iterator;function Uh(t){return t===null||typeof t!="object"?null:(t=MR&&t[MR]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,lb;function rf(t){if(lb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lb=e&&e[1]||""}return`
`+lb+t}var cb=!1;function hb(t,e){if(!t||cb)return"";cb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{cb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rf(t):""}function UG(t){switch(t.tag){case 5:return rf(t.type);case 16:return rf("Lazy");case 13:return rf("Suspense");case 19:return rf("SuspenseList");case 0:case 2:case 15:return t=hb(t.type,!1),t;case 11:return t=hb(t.type.render,!1),t;case 1:return t=hb(t.type,!0),t;default:return""}}function G1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pl:return"Fragment";case Al:return"Portal";case $1:return"Profiler";case dE:return"StrictMode";case V1:return"Suspense";case W1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OL:return(t.displayName||"Context")+".Consumer";case ML:return(t._context.displayName||"Context")+".Provider";case pE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vE:return e=t.displayName||null,e!==null?e:G1(t.type)||"Memo";case Ts:e=t._payload,t=t._init;try{return G1(t(e))}catch{}}return null}function zG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G1(e);case 8:return e===dE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $G(t){var e=DL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Iv(t){t._valueTracker||(t._valueTracker=$G(t))}function LL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function H1(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function OR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FL(t,e){e=e.checked,e!=null&&fE(t,"checked",e,!1)}function K1(t,e){FL(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?X1(t,e.type,n):e.hasOwnProperty("defaultValue")&&X1(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function X1(t,e,n){(e!=="number"||Pg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var of=Array.isArray;function Wl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Y1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ot(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ot(92));if(of(n)){if(1<n.length)throw Error(Ot(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function jL(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function LR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Av,UL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Av=Av||document.createElement("div"),Av.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Av.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VG=["Webkit","ms","Moz","O"];Object.keys(pf).forEach(function(t){VG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pf[e]=pf[t]})});function zL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pf.hasOwnProperty(t)&&pf[t]?(""+e).trim():e+"px"}function $L(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WG=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q1(t,e){if(e){if(WG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ot(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ot(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ot(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ot(62))}}function J1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z1=null;function gE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var t_=null,Gl=null,Hl=null;function FR(t){if(t=Ld(t)){if(typeof t_!="function")throw Error(Ot(280));var e=t.stateNode;e&&(e=ty(e),t_(t.stateNode,t.type,e))}}function VL(t){Gl?Hl?Hl.push(t):Hl=[t]:Gl=t}function WL(){if(Gl){var t=Gl,e=Hl;if(Hl=Gl=null,FR(t),e)for(t=0;t<e.length;t++)FR(e[t])}}function GL(t,e){return t(e)}function HL(){}var fb=!1;function KL(t,e,n){if(fb)return t(e,n);fb=!0;try{return GL(t,e,n)}finally{fb=!1,(Gl!==null||Hl!==null)&&(HL(),WL())}}function $f(t,e){var n=t.stateNode;if(n===null)return null;var r=ty(n);if(r===null)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ot(231,e,typeof n));return n}var e_=!1;if(Yo)try{var zh={};Object.defineProperty(zh,"passive",{get:function(){e_=!0}}),window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{e_=!1}function GG(t,e,n,r,i,o,a,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var vf=!1,Rg=null,Mg=!1,n_=null,HG={onError:function(t){vf=!0,Rg=t}};function KG(t,e,n,r,i,o,a,u,c){vf=!1,Rg=null,GG.apply(HG,arguments)}function XG(t,e,n,r,i,o,a,u,c){if(KG.apply(this,arguments),vf){if(vf){var h=Rg;vf=!1,Rg=null}else throw Error(Ot(198));Mg||(Mg=!0,n_=h)}}function Nu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jR(t){if(Nu(t)!==t)throw Error(Ot(188))}function YG(t){var e=t.alternate;if(!e){if(e=Nu(t),e===null)throw Error(Ot(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return jR(i),t;if(o===r)return jR(i),e;o=o.sibling}throw Error(Ot(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(Ot(189))}}if(n.alternate!==r)throw Error(Ot(190))}if(n.tag!==3)throw Error(Ot(188));return n.stateNode.current===n?t:e}function YL(t){return t=YG(t),t!==null?qL(t):null}function qL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qL(t);if(e!==null)return e;t=t.sibling}return null}var QL=ai.unstable_scheduleCallback,BR=ai.unstable_cancelCallback,qG=ai.unstable_shouldYield,QG=ai.unstable_requestPaint,ln=ai.unstable_now,JG=ai.unstable_getCurrentPriorityLevel,mE=ai.unstable_ImmediatePriority,JL=ai.unstable_UserBlockingPriority,Og=ai.unstable_NormalPriority,ZG=ai.unstable_LowPriority,ZL=ai.unstable_IdlePriority,qm=null,yo=null;function tH(t){if(yo&&typeof yo.onCommitFiberRoot=="function")try{yo.onCommitFiberRoot(qm,t,void 0,(t.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:rH,eH=Math.log,nH=Math.LN2;function rH(t){return t>>>=0,t===0?32:31-(eH(t)/nH|0)|0}var Pv=64,Rv=4194304;function sf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ng(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=sf(u):(o&=a,o!==0&&(r=sf(o)))}else a=n&~i,a!==0?r=sf(a):o!==0&&(r=sf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qi(e),i=1<<n,r|=t[n],e&=~i;return r}function iH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Qi(o),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=iH(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function r_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t2(){var t=Pv;return Pv<<=1,!(Pv&4194240)&&(Pv=64),t}function db(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qi(e),t[e]=n}function sH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function e2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n2,wE,r2,i2,o2,i_=!1,Mv=[],Fs=null,js=null,Bs=null,Vf=new Map,Wf=new Map,Is=[],aH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UR(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(e.pointerId)}}function $h(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ld(e),e!==null&&wE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uH(t,e,n,r,i){switch(e){case"focusin":return Fs=$h(Fs,t,e,n,r,i),!0;case"dragenter":return js=$h(js,t,e,n,r,i),!0;case"mouseover":return Bs=$h(Bs,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vf.set(o,$h(Vf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Wf.set(o,$h(Wf.get(o)||null,t,e,n,r,i)),!0}return!1}function s2(t){var e=Ha(t.target);if(e!==null){var n=Nu(e);if(n!==null){if(e=n.tag,e===13){if(e=XL(n),e!==null){t.blockedOn=e,o2(t.priority,function(){r2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=o_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Z1=r,n.target.dispatchEvent(r),Z1=null}else return e=Ld(n),e!==null&&wE(e),t.blockedOn=n,!1;e.shift()}return!0}function zR(t,e,n){cg(t)&&n.delete(e)}function lH(){i_=!1,Fs!==null&&cg(Fs)&&(Fs=null),js!==null&&cg(js)&&(js=null),Bs!==null&&cg(Bs)&&(Bs=null),Vf.forEach(zR),Wf.forEach(zR)}function Vh(t,e){t.blockedOn===e&&(t.blockedOn=null,i_||(i_=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,lH)))}function Gf(t){function e(i){return Vh(i,t)}if(0<Mv.length){Vh(Mv[0],t);for(var n=1;n<Mv.length;n++){var r=Mv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&Vh(Fs,t),js!==null&&Vh(js,t),Bs!==null&&Vh(Bs,t),Vf.forEach(e),Wf.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)s2(n),n.blockedOn===null&&Is.shift()}var Kl=is.ReactCurrentBatchConfig,Dg=!0;function cH(t,e,n,r){var i=Me,o=Kl.transition;Kl.transition=null;try{Me=1,xE(t,e,n,r)}finally{Me=i,Kl.transition=o}}function hH(t,e,n,r){var i=Me,o=Kl.transition;Kl.transition=null;try{Me=4,xE(t,e,n,r)}finally{Me=i,Kl.transition=o}}function xE(t,e,n,r){if(Dg){var i=o_(t,e,n,r);if(i===null)Sb(t,e,r,Lg,n),UR(t,r);else if(uH(i,t,e,n,r))r.stopPropagation();else if(UR(t,r),e&4&&-1<aH.indexOf(t)){for(;i!==null;){var o=Ld(i);if(o!==null&&n2(o),o=o_(t,e,n,r),o===null&&Sb(t,e,r,Lg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sb(t,e,r,null,n)}}var Lg=null;function o_(t,e,n,r){if(Lg=null,t=gE(r),t=Ha(t),t!==null)if(e=Nu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lg=t,null}function a2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JG()){case mE:return 1;case JL:return 4;case Og:case ZG:return 16;case ZL:return 536870912;default:return 16}default:return 16}}var Ns=null,bE=null,hg=null;function u2(){if(hg)return hg;var t,e=bE,n=e.length,r,i="value"in Ns?Ns.value:Ns.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return hg=i.slice(t,1<r?1-r:void 0)}function fg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ov(){return!0}function $R(){return!1}function fi(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ov:$R,this.isPropagationStopped=$R,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ov)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ov)},persist:function(){},isPersistent:Ov}),e}var Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_E=fi(Lc),Dd=en({},Lc,{view:0,detail:0}),fH=fi(Dd),pb,vb,Wh,Qm=en({},Dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wh&&(Wh&&t.type==="mousemove"?(pb=t.screenX-Wh.screenX,vb=t.screenY-Wh.screenY):vb=pb=0,Wh=t),pb)},movementY:function(t){return"movementY"in t?t.movementY:vb}}),VR=fi(Qm),dH=en({},Qm,{dataTransfer:0}),pH=fi(dH),vH=en({},Dd,{relatedTarget:0}),gb=fi(vH),gH=en({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0}),mH=fi(gH),yH=en({},Lc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wH=fi(yH),xH=en({},Lc,{data:0}),WR=fi(xH),bH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SH[t])?!!e[t]:!1}function SE(){return EH}var TH=en({},Dd,{key:function(t){if(t.key){var e=bH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_H[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SE,charCode:function(t){return t.type==="keypress"?fg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kH=fi(TH),CH=en({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GR=fi(CH),IH=en({},Dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SE}),AH=fi(IH),PH=en({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),RH=fi(PH),MH=en({},Qm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OH=fi(MH),NH=[9,13,27,32],EE=Yo&&"CompositionEvent"in window,gf=null;Yo&&"documentMode"in document&&(gf=document.documentMode);var DH=Yo&&"TextEvent"in window&&!gf,l2=Yo&&(!EE||gf&&8<gf&&11>=gf),HR=String.fromCharCode(32),KR=!1;function c2(t,e){switch(t){case"keyup":return NH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rl=!1;function LH(t,e){switch(t){case"compositionend":return h2(e);case"keypress":return e.which!==32?null:(KR=!0,HR);case"textInput":return t=e.data,t===HR&&KR?null:t;default:return null}}function FH(t,e){if(Rl)return t==="compositionend"||!EE&&c2(t,e)?(t=u2(),hg=bE=Ns=null,Rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l2&&e.locale!=="ko"?null:e.data;default:return null}}var jH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jH[t.type]:e==="textarea"}function f2(t,e,n,r){VL(r),e=Fg(e,"onChange"),0<e.length&&(n=new _E("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mf=null,Hf=null;function BH(t){S2(t,0)}function Jm(t){var e=Nl(t);if(LL(e))return t}function UH(t,e){if(t==="change")return e}var d2=!1;if(Yo){var mb;if(Yo){var yb="oninput"in document;if(!yb){var YR=document.createElement("div");YR.setAttribute("oninput","return;"),yb=typeof YR.oninput=="function"}mb=yb}else mb=!1;d2=mb&&(!document.documentMode||9<document.documentMode)}function qR(){mf&&(mf.detachEvent("onpropertychange",p2),Hf=mf=null)}function p2(t){if(t.propertyName==="value"&&Jm(Hf)){var e=[];f2(e,Hf,t,gE(t)),KL(BH,e)}}function zH(t,e,n){t==="focusin"?(qR(),mf=e,Hf=n,mf.attachEvent("onpropertychange",p2)):t==="focusout"&&qR()}function $H(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jm(Hf)}function VH(t,e){if(t==="click")return Jm(e)}function WH(t,e){if(t==="input"||t==="change")return Jm(e)}function GH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eo=typeof Object.is=="function"?Object.is:GH;function Kf(t,e){if(eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!z1.call(e,i)||!eo(t[i],e[i]))return!1}return!0}function QR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function JR(t,e){var n=QR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=QR(n)}}function v2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g2(){for(var t=window,e=Pg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pg(t.document)}return e}function TE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HH(t){var e=g2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v2(n.ownerDocument.documentElement,n)){if(r!==null&&TE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=JR(n,o);var a=JR(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KH=Yo&&"documentMode"in document&&11>=document.documentMode,Ml=null,s_=null,yf=null,a_=!1;function ZR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a_||Ml==null||Ml!==Pg(r)||(r=Ml,"selectionStart"in r&&TE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yf&&Kf(yf,r)||(yf=r,r=Fg(s_,"onSelect"),0<r.length&&(e=new _E("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ml)))}function Nv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ol={animationend:Nv("Animation","AnimationEnd"),animationiteration:Nv("Animation","AnimationIteration"),animationstart:Nv("Animation","AnimationStart"),transitionend:Nv("Transition","TransitionEnd")},wb={},m2={};Yo&&(m2=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Zm(t){if(wb[t])return wb[t];if(!Ol[t])return t;var e=Ol[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m2)return wb[t]=e[n];return t}var y2=Zm("animationend"),w2=Zm("animationiteration"),x2=Zm("animationstart"),b2=Zm("transitionend"),_2=new Map,tM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){_2.set(t,e),Ou(e,[t])}for(var xb=0;xb<tM.length;xb++){var bb=tM[xb],XH=bb.toLowerCase(),YH=bb[0].toUpperCase()+bb.slice(1);sa(XH,"on"+YH)}sa(y2,"onAnimationEnd");sa(w2,"onAnimationIteration");sa(x2,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(b2,"onTransitionEnd");ec("onMouseEnter",["mouseout","mouseover"]);ec("onMouseLeave",["mouseout","mouseover"]);ec("onPointerEnter",["pointerout","pointerover"]);ec("onPointerLeave",["pointerout","pointerover"]);Ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qH=new Set("cancel close invalid load scroll toggle".split(" ").concat(af));function eM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XG(r,e,void 0,t),t.currentTarget=null}function S2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break t;eM(i,u,h),o=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,h=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break t;eM(i,u,h),o=c}}}if(Mg)throw t=n_,Mg=!1,n_=null,t}function Ue(t,e){var n=e[f_];n===void 0&&(n=e[f_]=new Set);var r=t+"__bubble";n.has(r)||(E2(e,t,2,!1),n.add(r))}function _b(t,e,n){var r=0;e&&(r|=4),E2(n,t,r,e)}var Dv="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[Dv]){t[Dv]=!0,RL.forEach(function(n){n!=="selectionchange"&&(qH.has(n)||_b(n,!1,t),_b(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dv]||(e[Dv]=!0,_b("selectionchange",!1,e))}}function E2(t,e,n,r){switch(a2(e)){case 1:var i=cH;break;case 4:i=hH;break;default:i=xE}n=i.bind(null,e,n,t),i=void 0,!e_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)t:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Ha(u),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue t}u=u.parentNode}}r=r.return}KL(function(){var h=o,f=gE(n),v=[];t:{var g=_2.get(t);if(g!==void 0){var b=_E,w=t;switch(t){case"keypress":if(fg(n)===0)break t;case"keydown":case"keyup":b=kH;break;case"focusin":w="focus",b=gb;break;case"focusout":w="blur",b=gb;break;case"beforeblur":case"afterblur":b=gb;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=VR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=pH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=AH;break;case y2:case w2:case x2:b=mH;break;case b2:b=RH;break;case"scroll":b=fH;break;case"wheel":b=OH;break;case"copy":case"cut":case"paste":b=wH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=GR}var T=(e&4)!==0,P=!T&&t==="scroll",k=T?g!==null?g+"Capture":null:g;T=[];for(var S=h,C;S!==null;){C=S;var D=C.stateNode;if(C.tag===5&&D!==null&&(C=D,k!==null&&(D=$f(S,k),D!=null&&T.push(Yf(S,D,C)))),P)break;S=S.return}0<T.length&&(g=new b(g,w,null,n,f),v.push({event:g,listeners:T}))}}if(!(e&7)){t:{if(g=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",g&&n!==Z1&&(w=n.relatedTarget||n.fromElement)&&(Ha(w)||w[qo]))break t;if((b||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,b?(w=n.relatedTarget||n.toElement,b=h,w=w?Ha(w):null,w!==null&&(P=Nu(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(b=null,w=h),b!==w)){if(T=VR,D="onMouseLeave",k="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(T=GR,D="onPointerLeave",k="onPointerEnter",S="pointer"),P=b==null?g:Nl(b),C=w==null?g:Nl(w),g=new T(D,S+"leave",b,n,f),g.target=P,g.relatedTarget=C,D=null,Ha(f)===h&&(T=new T(k,S+"enter",w,n,f),T.target=C,T.relatedTarget=P,D=T),P=D,b&&w)e:{for(T=b,k=w,S=0,C=T;C;C=ml(C))S++;for(C=0,D=k;D;D=ml(D))C++;for(;0<S-C;)T=ml(T),S--;for(;0<C-S;)k=ml(k),C--;for(;S--;){if(T===k||k!==null&&T===k.alternate)break e;T=ml(T),k=ml(k)}T=null}else T=null;b!==null&&nM(v,g,b,T,!1),w!==null&&P!==null&&nM(v,P,w,T,!0)}}t:{if(g=h?Nl(h):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var U=UH;else if(XR(g))if(d2)U=WH;else{U=$H;var $=zH}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=VH);if(U&&(U=U(t,h))){f2(v,U,n,f);break t}$&&$(t,g,h),t==="focusout"&&($=g._wrapperState)&&$.controlled&&g.type==="number"&&X1(g,"number",g.value)}switch($=h?Nl(h):window,t){case"focusin":(XR($)||$.contentEditable==="true")&&(Ml=$,s_=h,yf=null);break;case"focusout":yf=s_=Ml=null;break;case"mousedown":a_=!0;break;case"contextmenu":case"mouseup":case"dragend":a_=!1,ZR(v,n,f);break;case"selectionchange":if(KH)break;case"keydown":case"keyup":ZR(v,n,f)}var H;if(EE)t:{switch(t){case"compositionstart":var F="onCompositionStart";break t;case"compositionend":F="onCompositionEnd";break t;case"compositionupdate":F="onCompositionUpdate";break t}F=void 0}else Rl?c2(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(l2&&n.locale!=="ko"&&(Rl||F!=="onCompositionStart"?F==="onCompositionEnd"&&Rl&&(H=u2()):(Ns=f,bE="value"in Ns?Ns.value:Ns.textContent,Rl=!0)),$=Fg(h,F),0<$.length&&(F=new WR(F,t,null,n,f),v.push({event:F,listeners:$}),H?F.data=H:(H=h2(n),H!==null&&(F.data=H)))),(H=DH?LH(t,n):FH(t,n))&&(h=Fg(h,"onBeforeInput"),0<h.length&&(f=new WR("onBeforeInput","beforeinput",null,n,f),v.push({event:f,listeners:h}),f.data=H))}S2(v,e)})}function Yf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$f(t,n),o!=null&&r.unshift(Yf(t,o,i)),o=$f(t,e),o!=null&&r.push(Yf(t,o,i))),t=t.return}return r}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nM(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=$f(n,o),c!=null&&a.unshift(Yf(n,c,u))):i||(c=$f(n,o),c!=null&&a.push(Yf(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var QH=/\r\n?/g,JH=/\u0000|\uFFFD/g;function rM(t){return(typeof t=="string"?t:""+t).replace(QH,`
`).replace(JH,"")}function Lv(t,e,n){if(e=rM(e),rM(t)!==e&&n)throw Error(Ot(425))}function jg(){}var u_=null,l_=null;function c_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h_=typeof setTimeout=="function"?setTimeout:void 0,ZH=typeof clearTimeout=="function"?clearTimeout:void 0,iM=typeof Promise=="function"?Promise:void 0,t6=typeof queueMicrotask=="function"?queueMicrotask:typeof iM<"u"?function(t){return iM.resolve(null).then(t).catch(e6)}:h_;function e6(t){setTimeout(function(){throw t})}function Eb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gf(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fc=Math.random().toString(36).slice(2),go="__reactFiber$"+Fc,qf="__reactProps$"+Fc,qo="__reactContainer$"+Fc,f_="__reactEvents$"+Fc,n6="__reactListeners$"+Fc,r6="__reactHandles$"+Fc;function Ha(t){var e=t[go];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qo]||n[go]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oM(t);t!==null;){if(n=t[go])return n;t=oM(t)}return e}t=n,n=t.parentNode}return null}function Ld(t){return t=t[go]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ot(33))}function ty(t){return t[qf]||null}var d_=[],Dl=-1;function aa(t){return{current:t}}function Ve(t){0>Dl||(t.current=d_[Dl],d_[Dl]=null,Dl--)}function Fe(t,e){Dl++,d_[Dl]=t.current,t.current=e}var Js={},fr=aa(Js),Ur=aa(!1),du=Js;function nc(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function Bg(){Ve(Ur),Ve(fr)}function sM(t,e,n){if(fr.current!==Js)throw Error(Ot(168));Fe(fr,e),Fe(Ur,n)}function T2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ot(108,zG(t)||"Unknown",i));return en({},n,r)}function Ug(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,du=fr.current,Fe(fr,t),Fe(Ur,Ur.current),!0}function aM(t,e,n){var r=t.stateNode;if(!r)throw Error(Ot(169));n?(t=T2(t,e,du),r.__reactInternalMemoizedMergedChildContext=t,Ve(Ur),Ve(fr),Fe(fr,t)):Ve(Ur),Fe(Ur,n)}var Bo=null,ey=!1,Tb=!1;function k2(t){Bo===null?Bo=[t]:Bo.push(t)}function i6(t){ey=!0,k2(t)}function ua(){if(!Tb&&Bo!==null){Tb=!0;var t=0,e=Me;try{var n=Bo;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bo=null,ey=!1}catch(i){throw Bo!==null&&(Bo=Bo.slice(t+1)),QL(mE,ua),i}finally{Me=e,Tb=!1}}return null}var Ll=[],Fl=0,zg=null,$g=0,yi=[],wi=0,pu=null,Uo=1,zo="";function La(t,e){Ll[Fl++]=$g,Ll[Fl++]=zg,zg=t,$g=e}function C2(t,e,n){yi[wi++]=Uo,yi[wi++]=zo,yi[wi++]=pu,pu=t;var r=Uo;t=zo;var i=32-Qi(r)-1;r&=~(1<<i),n+=1;var o=32-Qi(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Uo=1<<32-Qi(e)+i|n<<i|r,zo=o+t}else Uo=1<<o|n<<i|r,zo=t}function kE(t){t.return!==null&&(La(t,1),C2(t,1,0))}function CE(t){for(;t===zg;)zg=Ll[--Fl],Ll[Fl]=null,$g=Ll[--Fl],Ll[Fl]=null;for(;t===pu;)pu=yi[--wi],yi[wi]=null,zo=yi[--wi],yi[wi]=null,Uo=yi[--wi],yi[wi]=null}var si=null,ni=null,Ke=!1,Yi=null;function I2(t,e){var n=xi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ni=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pu!==null?{id:Uo,overflow:zo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,si=t,ni=null,!0):!1;default:return!1}}function p_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function v_(t){if(Ke){var e=ni;if(e){var n=e;if(!uM(t,e)){if(p_(t))throw Error(Ot(418));e=Us(n.nextSibling);var r=si;e&&uM(t,e)?I2(r,n):(t.flags=t.flags&-4097|2,Ke=!1,si=t)}}else{if(p_(t))throw Error(Ot(418));t.flags=t.flags&-4097|2,Ke=!1,si=t}}}function lM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function Fv(t){if(t!==si)return!1;if(!Ke)return lM(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c_(t.type,t.memoizedProps)),e&&(e=ni)){if(p_(t))throw A2(),Error(Ot(418));for(;e;)I2(t,e),e=Us(e.nextSibling)}if(lM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ot(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ni=Us(t.nextSibling);break t}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ni=null}}else ni=si?Us(t.stateNode.nextSibling):null;return!0}function A2(){for(var t=ni;t;)t=Us(t.nextSibling)}function rc(){ni=si=null,Ke=!1}function IE(t){Yi===null?Yi=[t]:Yi.push(t)}var o6=is.ReactCurrentBatchConfig;function Hi(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Vg=aa(null),Wg=null,jl=null,AE=null;function PE(){AE=jl=Wg=null}function RE(t){var e=Vg.current;Ve(Vg),t._currentValue=e}function g_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xl(t,e){Wg=t,AE=jl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jr=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(AE!==t)if(t={context:t,memoizedValue:e,next:null},jl===null){if(Wg===null)throw Error(Ot(308));jl=t,Wg.dependencies={lanes:0,firstContext:t}}else jl=jl.next=t;return e}var Ka=null;function ME(t){Ka===null?Ka=[t]:Ka.push(t)}function P2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ME(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ks=!1;function OE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qo(t,n)}return i=r.interleaved,i===null?(e.next=e,ME(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qo(t,n)}function dg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yE(t,n)}}function cM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gg(t,e,n,r){var i=t.updateQueue;ks=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,a===null?o=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=c))}if(o!==null){var v=i.baseState;a=0,f=h=c=null,u=o;do{var g=u.lane,b=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var w=t,T=u;switch(g=e,b=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){v=w.call(b,v,g);break t}v=w;break t;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,g=typeof w=="function"?w.call(b,v,g):w,g==null)break t;v=en({},v,g);break t;case 2:ks=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else b={eventTime:b,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=b,c=v):f=f.next=b,a|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);gu|=a,t.lanes=a,t.memoizedState=v}}function hM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ot(191,i));i.call(r)}}}var M2=new PL.Component().refs;function m_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ny={isMounted:function(t){return(t=t._reactInternals)?Nu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cr(),i=Vs(t),o=Go(r,i);o.payload=e,n!=null&&(o.callback=n),e=zs(t,o,i),e!==null&&(Ji(e,t,i,r),dg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cr(),i=Vs(t),o=Go(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zs(t,o,i),e!==null&&(Ji(e,t,i,r),dg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cr(),r=Vs(t),i=Go(n,r);i.tag=2,e!=null&&(i.callback=e),e=zs(t,i,r),e!==null&&(Ji(e,t,r,n),dg(e,t,r))}};function fM(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Kf(n,r)||!Kf(i,o):!0}function O2(t,e,n){var r=!1,i=Js,o=e.contextType;return typeof o=="object"&&o!==null?o=Pi(o):(i=zr(e)?du:fr.current,r=e.contextTypes,o=(r=r!=null)?nc(t,i):Js),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ny,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function dM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ny.enqueueReplaceState(e,e.state,null)}function y_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=M2,OE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pi(o):(o=zr(e)?du:fr.current,i.context=nc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(m_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ny.enqueueReplaceState(i,i.state,null),Gg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ot(309));var r=n.stateNode}if(!r)throw Error(Ot(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=i.refs;u===M2&&(u=i.refs={}),a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ot(284));if(!n._owner)throw Error(Ot(290,t))}return t}function jv(t,e){throw t=Object.prototype.toString.call(e),Error(Ot(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pM(t){var e=t._init;return e(t._payload)}function N2(t){function e(k,S){if(t){var C=k.deletions;C===null?(k.deletions=[S],k.flags|=16):C.push(S)}}function n(k,S){if(!t)return null;for(;S!==null;)e(k,S),S=S.sibling;return null}function r(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function i(k,S){return k=Ws(k,S),k.index=0,k.sibling=null,k}function o(k,S,C){return k.index=C,t?(C=k.alternate,C!==null?(C=C.index,C<S?(k.flags|=2,S):C):(k.flags|=2,S)):(k.flags|=1048576,S)}function a(k){return t&&k.alternate===null&&(k.flags|=2),k}function u(k,S,C,D){return S===null||S.tag!==6?(S=Mb(C,k.mode,D),S.return=k,S):(S=i(S,C),S.return=k,S)}function c(k,S,C,D){var U=C.type;return U===Pl?f(k,S,C.props.children,D,C.key):S!==null&&(S.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ts&&pM(U)===S.type)?(D=i(S,C.props),D.ref=Gh(k,S,C),D.return=k,D):(D=wg(C.type,C.key,C.props,null,k.mode,D),D.ref=Gh(k,S,C),D.return=k,D)}function h(k,S,C,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=Ob(C,k.mode,D),S.return=k,S):(S=i(S,C.children||[]),S.return=k,S)}function f(k,S,C,D,U){return S===null||S.tag!==7?(S=ou(C,k.mode,D,U),S.return=k,S):(S=i(S,C),S.return=k,S)}function v(k,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Mb(""+S,k.mode,C),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cv:return C=wg(S.type,S.key,S.props,null,k.mode,C),C.ref=Gh(k,null,S),C.return=k,C;case Al:return S=Ob(S,k.mode,C),S.return=k,S;case Ts:var D=S._init;return v(k,D(S._payload),C)}if(of(S)||Uh(S))return S=ou(S,k.mode,C,null),S.return=k,S;jv(k,S)}return null}function g(k,S,C,D){var U=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return U!==null?null:u(k,S,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cv:return C.key===U?c(k,S,C,D):null;case Al:return C.key===U?h(k,S,C,D):null;case Ts:return U=C._init,g(k,S,U(C._payload),D)}if(of(C)||Uh(C))return U!==null?null:f(k,S,C,D,null);jv(k,C)}return null}function b(k,S,C,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return k=k.get(C)||null,u(S,k,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Cv:return k=k.get(D.key===null?C:D.key)||null,c(S,k,D,U);case Al:return k=k.get(D.key===null?C:D.key)||null,h(S,k,D,U);case Ts:var $=D._init;return b(k,S,C,$(D._payload),U)}if(of(D)||Uh(D))return k=k.get(C)||null,f(S,k,D,U,null);jv(S,D)}return null}function w(k,S,C,D){for(var U=null,$=null,H=S,F=S=0,M=null;H!==null&&F<C.length;F++){H.index>F?(M=H,H=null):M=H.sibling;var I=g(k,H,C[F],D);if(I===null){H===null&&(H=M);break}t&&H&&I.alternate===null&&e(k,H),S=o(I,S,F),$===null?U=I:$.sibling=I,$=I,H=M}if(F===C.length)return n(k,H),Ke&&La(k,F),U;if(H===null){for(;F<C.length;F++)H=v(k,C[F],D),H!==null&&(S=o(H,S,F),$===null?U=H:$.sibling=H,$=H);return Ke&&La(k,F),U}for(H=r(k,H);F<C.length;F++)M=b(H,k,F,C[F],D),M!==null&&(t&&M.alternate!==null&&H.delete(M.key===null?F:M.key),S=o(M,S,F),$===null?U=M:$.sibling=M,$=M);return t&&H.forEach(function(A){return e(k,A)}),Ke&&La(k,F),U}function T(k,S,C,D){var U=Uh(C);if(typeof U!="function")throw Error(Ot(150));if(C=U.call(C),C==null)throw Error(Ot(151));for(var $=U=null,H=S,F=S=0,M=null,I=C.next();H!==null&&!I.done;F++,I=C.next()){H.index>F?(M=H,H=null):M=H.sibling;var A=g(k,H,I.value,D);if(A===null){H===null&&(H=M);break}t&&H&&A.alternate===null&&e(k,H),S=o(A,S,F),$===null?U=A:$.sibling=A,$=A,H=M}if(I.done)return n(k,H),Ke&&La(k,F),U;if(H===null){for(;!I.done;F++,I=C.next())I=v(k,I.value,D),I!==null&&(S=o(I,S,F),$===null?U=I:$.sibling=I,$=I);return Ke&&La(k,F),U}for(H=r(k,H);!I.done;F++,I=C.next())I=b(H,k,F,I.value,D),I!==null&&(t&&I.alternate!==null&&H.delete(I.key===null?F:I.key),S=o(I,S,F),$===null?U=I:$.sibling=I,$=I);return t&&H.forEach(function(E){return e(k,E)}),Ke&&La(k,F),U}function P(k,S,C,D){if(typeof C=="object"&&C!==null&&C.type===Pl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Cv:t:{for(var U=C.key,$=S;$!==null;){if($.key===U){if(U=C.type,U===Pl){if($.tag===7){n(k,$.sibling),S=i($,C.props.children),S.return=k,k=S;break t}}else if($.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ts&&pM(U)===$.type){n(k,$.sibling),S=i($,C.props),S.ref=Gh(k,$,C),S.return=k,k=S;break t}n(k,$);break}else e(k,$);$=$.sibling}C.type===Pl?(S=ou(C.props.children,k.mode,D,C.key),S.return=k,k=S):(D=wg(C.type,C.key,C.props,null,k.mode,D),D.ref=Gh(k,S,C),D.return=k,k=D)}return a(k);case Al:t:{for($=C.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(k,S.sibling),S=i(S,C.children||[]),S.return=k,k=S;break t}else{n(k,S);break}else e(k,S);S=S.sibling}S=Ob(C,k.mode,D),S.return=k,k=S}return a(k);case Ts:return $=C._init,P(k,S,$(C._payload),D)}if(of(C))return w(k,S,C,D);if(Uh(C))return T(k,S,C,D);jv(k,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(k,S.sibling),S=i(S,C),S.return=k,k=S):(n(k,S),S=Mb(C,k.mode,D),S.return=k,k=S),a(k)):n(k,S)}return P}var ic=N2(!0),D2=N2(!1),Fd={},wo=aa(Fd),Qf=aa(Fd),Jf=aa(Fd);function Xa(t){if(t===Fd)throw Error(Ot(174));return t}function NE(t,e){switch(Fe(Jf,e),Fe(Qf,t),Fe(wo,Fd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:q1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=q1(e,t)}Ve(wo),Fe(wo,e)}function oc(){Ve(wo),Ve(Qf),Ve(Jf)}function L2(t){Xa(Jf.current);var e=Xa(wo.current),n=q1(e,t.type);e!==n&&(Fe(Qf,t),Fe(wo,n))}function DE(t){Qf.current===t&&(Ve(wo),Ve(Qf))}var Qe=aa(0);function Hg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kb=[];function LE(){for(var t=0;t<kb.length;t++)kb[t]._workInProgressVersionPrimary=null;kb.length=0}var pg=is.ReactCurrentDispatcher,Cb=is.ReactCurrentBatchConfig,vu=0,tn=null,bn=null,Pn=null,Kg=!1,wf=!1,Zf=0,s6=0;function nr(){throw Error(Ot(321))}function FE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!eo(t[n],e[n]))return!1;return!0}function jE(t,e,n,r,i,o){if(vu=o,tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pg.current=t===null||t.memoizedState===null?c6:h6,t=n(r,i),wf){o=0;do{if(wf=!1,Zf=0,25<=o)throw Error(Ot(301));o+=1,Pn=bn=null,e.updateQueue=null,pg.current=f6,t=n(r,i)}while(wf)}if(pg.current=Xg,e=bn!==null&&bn.next!==null,vu=0,Pn=bn=tn=null,Kg=!1,e)throw Error(Ot(300));return t}function BE(){var t=Zf!==0;return Zf=0,t}function po(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?tn.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Ri(){if(bn===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Pn===null?tn.memoizedState:Pn.next;if(e!==null)Pn=e,bn=t;else{if(t===null)throw Error(Ot(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Pn===null?tn.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function td(t,e){return typeof e=="function"?e(t):e}function Ib(t){var e=Ri(),n=e.queue;if(n===null)throw Error(Ot(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=a=null,c=null,h=o;do{var f=h.lane;if((vu&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var v={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=v,a=r):c=c.next=v,tn.lanes|=f,gu|=f}h=h.next}while(h!==null&&h!==o);c===null?a=r:c.next=u,eo(r,e.memoizedState)||(jr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,tn.lanes|=o,gu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ab(t){var e=Ri(),n=e.queue;if(n===null)throw Error(Ot(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);eo(o,e.memoizedState)||(jr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function F2(){}function j2(t,e){var n=tn,r=Ri(),i=e(),o=!eo(r.memoizedState,i);if(o&&(r.memoizedState=i,jr=!0),r=r.queue,UE(z2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,ed(9,U2.bind(null,n,r,i,e),void 0,null),Ln===null)throw Error(Ot(349));vu&30||B2(n,e,i)}return i}function B2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U2(t,e,n,r){e.value=n,e.getSnapshot=r,$2(e)&&V2(t)}function z2(t,e,n){return n(function(){$2(e)&&V2(t)})}function $2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eo(t,n)}catch{return!0}}function V2(t){var e=Qo(t,1);e!==null&&Ji(e,t,1,-1)}function vM(t){var e=po();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},e.queue=t,t=t.dispatch=l6.bind(null,tn,t),[e.memoizedState,t]}function ed(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function W2(){return Ri().memoizedState}function vg(t,e,n,r){var i=po();tn.flags|=t,i.memoizedState=ed(1|e,n,void 0,r===void 0?null:r)}function ry(t,e,n,r){var i=Ri();r=r===void 0?null:r;var o=void 0;if(bn!==null){var a=bn.memoizedState;if(o=a.destroy,r!==null&&FE(r,a.deps)){i.memoizedState=ed(e,n,o,r);return}}tn.flags|=t,i.memoizedState=ed(1|e,n,o,r)}function gM(t,e){return vg(8390656,8,t,e)}function UE(t,e){return ry(2048,8,t,e)}function G2(t,e){return ry(4,2,t,e)}function H2(t,e){return ry(4,4,t,e)}function K2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X2(t,e,n){return n=n!=null?n.concat([t]):null,ry(4,4,K2.bind(null,e,t),n)}function zE(){}function Y2(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&FE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function q2(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&FE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q2(t,e,n){return vu&21?(eo(n,e)||(n=t2(),tn.lanes|=n,gu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jr=!0),t.memoizedState=n)}function a6(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Cb.transition;Cb.transition={};try{t(!1),e()}finally{Me=n,Cb.transition=r}}function J2(){return Ri().memoizedState}function u6(t,e,n){var r=Vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z2(t))tF(e,n);else if(n=P2(t,e,n,r),n!==null){var i=Cr();Ji(n,t,r,i),eF(n,e,r)}}function l6(t,e,n){var r=Vs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z2(t))tF(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,eo(u,a)){var c=e.interleaved;c===null?(i.next=i,ME(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=P2(t,e,i,r),n!==null&&(i=Cr(),Ji(n,t,r,i),eF(n,e,r))}}function Z2(t){var e=t.alternate;return t===tn||e!==null&&e===tn}function tF(t,e){wf=Kg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yE(t,n)}}var Xg={readContext:Pi,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},c6={readContext:Pi,useCallback:function(t,e){return po().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:gM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vg(4194308,4,K2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vg(4194308,4,t,e)},useInsertionEffect:function(t,e){return vg(4,2,t,e)},useMemo:function(t,e){var n=po();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=po();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u6.bind(null,tn,t),[r.memoizedState,t]},useRef:function(t){var e=po();return t={current:t},e.memoizedState=t},useState:vM,useDebugValue:zE,useDeferredValue:function(t){return po().memoizedState=t},useTransition:function(){var t=vM(!1),e=t[0];return t=a6.bind(null,t[1]),po().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tn,i=po();if(Ke){if(n===void 0)throw Error(Ot(407));n=n()}else{if(n=e(),Ln===null)throw Error(Ot(349));vu&30||B2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,gM(z2.bind(null,r,o,t),[t]),r.flags|=2048,ed(9,U2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=po(),e=Ln.identifierPrefix;if(Ke){var n=zo,r=Uo;n=(r&~(1<<32-Qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=s6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h6={readContext:Pi,useCallback:Y2,useContext:Pi,useEffect:UE,useImperativeHandle:X2,useInsertionEffect:G2,useLayoutEffect:H2,useMemo:q2,useReducer:Ib,useRef:W2,useState:function(){return Ib(td)},useDebugValue:zE,useDeferredValue:function(t){var e=Ri();return Q2(e,bn.memoizedState,t)},useTransition:function(){var t=Ib(td)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:F2,useSyncExternalStore:j2,useId:J2,unstable_isNewReconciler:!1},f6={readContext:Pi,useCallback:Y2,useContext:Pi,useEffect:UE,useImperativeHandle:X2,useInsertionEffect:G2,useLayoutEffect:H2,useMemo:q2,useReducer:Ab,useRef:W2,useState:function(){return Ab(td)},useDebugValue:zE,useDeferredValue:function(t){var e=Ri();return bn===null?e.memoizedState=t:Q2(e,bn.memoizedState,t)},useTransition:function(){var t=Ab(td)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:F2,useSyncExternalStore:j2,useId:J2,unstable_isNewReconciler:!1};function sc(t,e){try{var n="",r=e;do n+=UG(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function w_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var d6=typeof WeakMap=="function"?WeakMap:Map;function nF(t,e,n){n=Go(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qg||(qg=!0,A_=r),w_(t,e)},n}function rF(t,e,n){n=Go(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){w_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){w_(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function mM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new d6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=C6.bind(null,t,e,n),e.then(t,t))}function yM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Go(-1,1),e.tag=2,zs(n,e,1))),n.lanes|=1),t)}var p6=is.ReactCurrentOwner,jr=!1;function xr(t,e,n,r){e.child=t===null?D2(e,null,n,r):ic(e,t.child,n,r)}function xM(t,e,n,r,i){n=n.render;var o=e.ref;return Xl(e,i),r=jE(t,e,n,r,o,i),n=BE(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Ke&&n&&kE(e),e.flags|=1,xr(t,e,r,i),e.child)}function bM(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!YE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,iF(t,e,o,r,i)):(t=wg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Kf,n(a,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=Ws(o,r),t.ref=e.ref,t.return=e,e.child=t}function iF(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Kf(o,r)&&t.ref===e.ref)if(jr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(jr=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return x_(t,e,n,r,i)}function oF(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ul,Qr),Qr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Ul,Qr),Qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(Ul,Qr),Qr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(Ul,Qr),Qr|=r;return xr(t,e,i,n),e.child}function sF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x_(t,e,n,r,i){var o=zr(n)?du:fr.current;return o=nc(e,o),Xl(e,i),n=jE(t,e,n,r,o,i),r=BE(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Ke&&r&&kE(e),e.flags|=1,xr(t,e,n,i),e.child)}function _M(t,e,n,r,i){if(zr(n)){var o=!0;Ug(e)}else o=!1;if(Xl(e,i),e.stateNode===null)gg(t,e),O2(e,n,r),y_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Pi(h):(h=zr(n)?du:fr.current,h=nc(e,h));var f=n.getDerivedStateFromProps,v=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==h)&&dM(e,a,r,h),ks=!1;var g=e.memoizedState;a.state=g,Gg(e,r,a,i),c=e.memoizedState,u!==r||g!==c||Ur.current||ks?(typeof f=="function"&&(m_(e,n,f,r),c=e.memoizedState),(u=ks||fM(e,n,u,r,g,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,R2(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Hi(e.type,u),a.props=h,v=e.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pi(c):(c=zr(n)?du:fr.current,c=nc(e,c));var b=n.getDerivedStateFromProps;(f=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==v||g!==c)&&dM(e,a,r,c),ks=!1,g=e.memoizedState,a.state=g,Gg(e,r,a,i);var w=e.memoizedState;u!==v||g!==w||Ur.current||ks?(typeof b=="function"&&(m_(e,n,b,r),w=e.memoizedState),(h=ks||fM(e,n,h,r,g,w,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return b_(t,e,n,r,o,i)}function b_(t,e,n,r,i,o){sF(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&aM(e,n,!1),Jo(t,e,o);r=e.stateNode,p6.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ic(e,t.child,null,o),e.child=ic(e,null,u,o)):xr(t,e,u,o),e.memoizedState=r.state,i&&aM(e,n,!0),e.child}function aF(t){var e=t.stateNode;e.pendingContext?sM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sM(t,e.context,!1),NE(t,e.containerInfo)}function SM(t,e,n,r,i){return rc(),IE(i),e.flags|=256,xr(t,e,n,r),e.child}var __={dehydrated:null,treeContext:null,retryLane:0};function S_(t){return{baseLanes:t,cachePool:null,transitions:null}}function uF(t,e,n){var r=e.pendingProps,i=Qe.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Qe,i&1),t===null)return v_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=sy(a,r,0,null),t=ou(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=S_(n),e.memoizedState=__,t):$E(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return v6(t,e,a,r,u,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ws(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Ws(u,o):(o=ou(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?S_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=__,r}return o=t.child,t=o.sibling,r=Ws(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $E(t,e){return e=sy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bv(t,e,n,r){return r!==null&&IE(r),ic(e,t.child,null,n),t=$E(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v6(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Pb(Error(Ot(422))),Bv(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=sy({mode:"visible",children:r.children},i,0,null),o=ou(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ic(e,t.child,null,a),e.child.memoizedState=S_(a),e.memoizedState=__,o);if(!(e.mode&1))return Bv(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(Ot(419)),r=Pb(o,r,void 0),Bv(t,e,a,r)}if(u=(a&t.childLanes)!==0,jr||u){if(r=Ln,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qo(t,i),Ji(r,t,i,-1))}return XE(),r=Pb(Error(Ot(421))),Bv(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ni=Us(i.nextSibling),si=e,Ke=!0,Yi=null,t!==null&&(yi[wi++]=Uo,yi[wi++]=zo,yi[wi++]=pu,Uo=t.id,zo=t.overflow,pu=e),e=$E(e,r.children),e.flags|=4096,e)}function EM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g_(t.return,e,n)}function Rb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function lF(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xr(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&EM(t,n,e);else if(t.tag===19)EM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rb(e,!0,n,null,o);break;case"together":Rb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ot(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function g6(t,e,n){switch(e.tag){case 3:aF(e),rc();break;case 5:L2(e);break;case 1:zr(e.type)&&Ug(e);break;case 4:NE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Vg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?uF(t,e,n):(Fe(Qe,Qe.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,oF(t,e,n)}return Jo(t,e,n)}var cF,E_,hF,fF;cF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E_=function(){};hF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xa(wo.current);var o=null;switch(n){case"input":i=H1(t,i),r=H1(t,r),o=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),o=[];break;case"textarea":i=Y1(t,i),r=Y1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jg)}Q1(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Uf.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Uf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ue("scroll",t),o||u===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};fF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hh(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function m6(t,e,n){var r=e.pendingProps;switch(CE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(e),null;case 1:return zr(e.type)&&Bg(),rr(e),null;case 3:return r=e.stateNode,oc(),Ve(Ur),Ve(fr),LE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yi!==null&&(M_(Yi),Yi=null))),E_(t,e),rr(e),null;case 5:DE(e);var i=Xa(Jf.current);if(n=e.type,t!==null&&e.stateNode!=null)hF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ot(166));return rr(e),null}if(t=Xa(wo.current),Fv(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[go]=e,r[qf]=o,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<af.length;i++)Ue(af[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":OR(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":DR(r,o),Ue("invalid",r)}Q1(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Lv(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Lv(r.textContent,u,t),i=["children",""+u]):Uf.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Iv(r),NR(r,o,!0);break;case"textarea":Iv(r),LR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[go]=e,t[qf]=r,cF(t,e,!1,!1),e.stateNode=t;t:{switch(a=J1(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),i=r;break;case"iframe":case"object":case"embed":Ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<af.length;i++)Ue(af[i],t);i=r;break;case"source":Ue("error",t),i=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),i=r;break;case"details":Ue("toggle",t),i=r;break;case"input":OR(t,r),i=H1(t,r),Ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=en({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":DR(t,r),i=Y1(t,r),Ue("invalid",t);break;default:i=r}Q1(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?$L(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&UL(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zf(t,c):typeof c=="number"&&zf(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uf.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ue("scroll",t):c!=null&&fE(t,o,c,a))}switch(n){case"input":Iv(t),NR(t,r,!1);break;case"textarea":Iv(t),LR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Wl(t,!!r.multiple,o,!1):r.defaultValue!=null&&Wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rr(e),null;case 6:if(t&&e.stateNode!=null)fF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ot(166));if(n=Xa(Jf.current),Xa(wo.current),Fv(e)){if(r=e.stateNode,n=e.memoizedProps,r[go]=e,(o=r.nodeValue!==n)&&(t=si,t!==null))switch(t.tag){case 3:Lv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[go]=e,e.stateNode=r}return rr(e),null;case 13:if(Ve(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&ni!==null&&e.mode&1&&!(e.flags&128))A2(),rc(),e.flags|=98560,o=!1;else if(o=Fv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ot(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ot(317));o[go]=e}else rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rr(e),o=!1}else Yi!==null&&(M_(Yi),Yi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?Sn===0&&(Sn=3):XE())),e.updateQueue!==null&&(e.flags|=4),rr(e),null);case 4:return oc(),E_(t,e),t===null&&Xf(e.stateNode.containerInfo),rr(e),null;case 10:return RE(e.type._context),rr(e),null;case 17:return zr(e.type)&&Bg(),rr(e),null;case 19:if(Ve(Qe),o=e.memoizedState,o===null)return rr(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Hh(o,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hg(t),a!==null){for(e.flags|=128,Hh(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&ln()>ac&&(e.flags|=128,r=!0,Hh(o,!1),e.lanes=4194304)}else{if(!r)if(t=Hg(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ke)return rr(e),null}else 2*ln()-o.renderingStartTime>ac&&n!==1073741824&&(e.flags|=128,r=!0,Hh(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),e):(rr(e),null);case 22:case 23:return KE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qr&1073741824&&(rr(e),e.subtreeFlags&6&&(e.flags|=8192)):rr(e),null;case 24:return null;case 25:return null}throw Error(Ot(156,e.tag))}function y6(t,e){switch(CE(e),e.tag){case 1:return zr(e.type)&&Bg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oc(),Ve(Ur),Ve(fr),LE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DE(e),null;case 13:if(Ve(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ot(340));rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Qe),null;case 4:return oc(),null;case 10:return RE(e.type._context),null;case 22:case 23:return KE(),null;case 24:return null;default:return null}}var Uv=!1,sr=!1,w6=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Bl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(t,e,r)}else n.current=null}function T_(t,e,n){try{n()}catch(r){rn(t,e,r)}}var TM=!1;function x6(t,e){if(u_=Dg,t=g2(),TE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break t}var a=0,u=-1,c=-1,h=0,f=0,v=t,g=null;e:for(;;){for(var b;v!==n||i!==0&&v.nodeType!==3||(u=a+i),v!==o||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(b=v.firstChild)!==null;)g=v,v=b;for(;;){if(v===t)break e;if(g===n&&++h===i&&(u=a),g===o&&++f===r&&(c=a),(b=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=b}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(l_={focusedElem:t,selectionRange:n},Dg=!1,Ut=e;Ut!==null;)if(e=Ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ut=t;else for(;Ut!==null;){e=Ut;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,P=w.memoizedState,k=e.stateNode,S=k.getSnapshotBeforeUpdate(e.elementType===e.type?T:Hi(e.type,T),P);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ot(163))}}catch(D){rn(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Ut=t;break}Ut=e.return}return w=TM,TM=!1,w}function xf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&T_(e,n,o)}i=i.next}while(i!==r)}}function iy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function k_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dF(t){var e=t.alternate;e!==null&&(t.alternate=null,dF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[go],delete e[qf],delete e[f_],delete e[n6],delete e[r6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pF(t){return t.tag===5||t.tag===3||t.tag===4}function kM(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||pF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function C_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jg));else if(r!==4&&(t=t.child,t!==null))for(C_(t,e,n),t=t.sibling;t!==null;)C_(t,e,n),t=t.sibling}function I_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(I_(t,e,n),t=t.sibling;t!==null;)I_(t,e,n),t=t.sibling}var Vn=null,Xi=!1;function ys(t,e,n){for(n=n.child;n!==null;)vF(t,e,n),n=n.sibling}function vF(t,e,n){if(yo&&typeof yo.onCommitFiberUnmount=="function")try{yo.onCommitFiberUnmount(qm,n)}catch{}switch(n.tag){case 5:sr||Bl(n,e);case 6:var r=Vn,i=Xi;Vn=null,ys(t,e,n),Vn=r,Xi=i,Vn!==null&&(Xi?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(Xi?(t=Vn,n=n.stateNode,t.nodeType===8?Eb(t.parentNode,n):t.nodeType===1&&Eb(t,n),Gf(t)):Eb(Vn,n.stateNode));break;case 4:r=Vn,i=Xi,Vn=n.stateNode.containerInfo,Xi=!0,ys(t,e,n),Vn=r,Xi=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&T_(n,e,a),i=i.next}while(i!==r)}ys(t,e,n);break;case 1:if(!sr&&(Bl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){rn(n,e,u)}ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,ys(t,e,n),sr=r):ys(t,e,n);break;default:ys(t,e,n)}}function CM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w6),e.forEach(function(r){var i=A6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,u=a;t:for(;u!==null;){switch(u.tag){case 5:Vn=u.stateNode,Xi=!1;break t;case 3:Vn=u.stateNode.containerInfo,Xi=!0;break t;case 4:Vn=u.stateNode.containerInfo,Xi=!0;break t}u=u.return}if(Vn===null)throw Error(Ot(160));vF(o,a,i),Vn=null,Xi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){rn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gF(e,t),e=e.sibling}function gF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zi(e,t),fo(t),r&4){try{xf(3,t,t.return),iy(3,t)}catch(T){rn(t,t.return,T)}try{xf(5,t,t.return)}catch(T){rn(t,t.return,T)}}break;case 1:zi(e,t),fo(t),r&512&&n!==null&&Bl(n,n.return);break;case 5:if(zi(e,t),fo(t),r&512&&n!==null&&Bl(n,n.return),t.flags&32){var i=t.stateNode;try{zf(i,"")}catch(T){rn(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&FL(i,o),J1(u,a);var h=J1(u,o);for(a=0;a<c.length;a+=2){var f=c[a],v=c[a+1];f==="style"?$L(i,v):f==="dangerouslySetInnerHTML"?UL(i,v):f==="children"?zf(i,v):fE(i,f,v,h)}switch(u){case"input":K1(i,o);break;case"textarea":jL(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Wl(i,!!o.multiple,b,!1):g!==!!o.multiple&&(o.defaultValue!=null?Wl(i,!!o.multiple,o.defaultValue,!0):Wl(i,!!o.multiple,o.multiple?[]:"",!1))}i[qf]=o}catch(T){rn(t,t.return,T)}}break;case 6:if(zi(e,t),fo(t),r&4){if(t.stateNode===null)throw Error(Ot(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){rn(t,t.return,T)}}break;case 3:if(zi(e,t),fo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gf(e.containerInfo)}catch(T){rn(t,t.return,T)}break;case 4:zi(e,t),fo(t);break;case 13:zi(e,t),fo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(GE=ln())),r&4&&CM(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(sr=(h=sr)||f,zi(e,t),sr=h):zi(e,t),fo(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Ut=t,f=t.child;f!==null;){for(v=Ut=f;Ut!==null;){switch(g=Ut,b=g.child,g.tag){case 0:case 11:case 14:case 15:xf(4,g,g.return);break;case 1:Bl(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){rn(r,n,T)}}break;case 5:Bl(g,g.return);break;case 22:if(g.memoizedState!==null){AM(v);continue}}b!==null?(b.return=g,Ut=b):AM(v)}f=f.sibling}t:for(f=null,v=t;;){if(v.tag===5){if(f===null){f=v;try{i=v.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=zL("display",a))}catch(T){rn(t,t.return,T)}}}else if(v.tag===6){if(f===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(T){rn(t,t.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break t;for(;v.sibling===null;){if(v.return===null||v.return===t)break t;f===v&&(f=null),v=v.return}f===v&&(f=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:zi(e,t),fo(t),r&4&&CM(t);break;case 21:break;default:zi(e,t),fo(t)}}function fo(t){var e=t.flags;if(e&2){try{t:{for(var n=t.return;n!==null;){if(pF(n)){var r=n;break t}n=n.return}throw Error(Ot(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zf(i,""),r.flags&=-33);var o=kM(t);I_(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=kM(t);C_(t,u,a);break;default:throw Error(Ot(161))}}catch(c){rn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b6(t,e,n){Ut=t,mF(t)}function mF(t,e,n){for(var r=(t.mode&1)!==0;Ut!==null;){var i=Ut,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Uv;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||sr;u=Uv;var h=sr;if(Uv=a,(sr=c)&&!h)for(Ut=i;Ut!==null;)a=Ut,c=a.child,a.tag===22&&a.memoizedState!==null?PM(i):c!==null?(c.return=a,Ut=c):PM(i);for(;o!==null;)Ut=o,mF(o),o=o.sibling;Ut=i,Uv=u,sr=h}IM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ut=o):IM(t)}}function IM(t){for(;Ut!==null;){var e=Ut;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||iy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&hM(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hM(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var v=f.dehydrated;v!==null&&Gf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ot(163))}sr||e.flags&512&&k_(e)}catch(g){rn(e,e.return,g)}}if(e===t){Ut=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ut=n;break}Ut=e.return}}function AM(t){for(;Ut!==null;){var e=Ut;if(e===t){Ut=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ut=n;break}Ut=e.return}}function PM(t){for(;Ut!==null;){var e=Ut;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iy(4,e)}catch(c){rn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){rn(e,i,c)}}var o=e.return;try{k_(e)}catch(c){rn(e,o,c)}break;case 5:var a=e.return;try{k_(e)}catch(c){rn(e,a,c)}}}catch(c){rn(e,e.return,c)}if(e===t){Ut=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Ut=u;break}Ut=e.return}}var _6=Math.ceil,Yg=is.ReactCurrentDispatcher,VE=is.ReactCurrentOwner,ki=is.ReactCurrentBatchConfig,we=0,Ln=null,pn=null,Xn=0,Qr=0,Ul=aa(0),Sn=0,nd=null,gu=0,oy=0,WE=0,bf=null,Fr=null,GE=0,ac=1/0,Fo=null,qg=!1,A_=null,$s=null,zv=!1,Ds=null,Qg=0,_f=0,P_=null,mg=-1,yg=0;function Cr(){return we&6?ln():mg!==-1?mg:mg=ln()}function Vs(t){return t.mode&1?we&2&&Xn!==0?Xn&-Xn:o6.transition!==null?(yg===0&&(yg=t2()),yg):(t=Me,t!==0||(t=window.event,t=t===void 0?16:a2(t.type)),t):1}function Ji(t,e,n,r){if(50<_f)throw _f=0,P_=null,Error(Ot(185));Nd(t,n,r),(!(we&2)||t!==Ln)&&(t===Ln&&(!(we&2)&&(oy|=n),Sn===4&&As(t,Xn)),$r(t,r),n===1&&we===0&&!(e.mode&1)&&(ac=ln()+500,ey&&ua()))}function $r(t,e){var n=t.callbackNode;oH(t,e);var r=Ng(t,t===Ln?Xn:0);if(r===0)n!==null&&BR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&BR(n),e===1)t.tag===0?i6(RM.bind(null,t)):k2(RM.bind(null,t)),t6(function(){!(we&6)&&ua()}),n=null;else{switch(e2(r)){case 1:n=mE;break;case 4:n=JL;break;case 16:n=Og;break;case 536870912:n=ZL;break;default:n=Og}n=TF(n,yF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yF(t,e){if(mg=-1,yg=0,we&6)throw Error(Ot(327));var n=t.callbackNode;if(Yl()&&t.callbackNode!==n)return null;var r=Ng(t,t===Ln?Xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jg(t,r);else{e=r;var i=we;we|=2;var o=xF();(Ln!==t||Xn!==e)&&(Fo=null,ac=ln()+500,iu(t,e));do try{T6();break}catch(u){wF(t,u)}while(1);PE(),Yg.current=o,we=i,pn!==null?e=0:(Ln=null,Xn=0,e=Sn)}if(e!==0){if(e===2&&(i=r_(t),i!==0&&(r=i,e=R_(t,i))),e===1)throw n=nd,iu(t,0),As(t,r),$r(t,ln()),n;if(e===6)As(t,r);else{if(i=t.current.alternate,!(r&30)&&!S6(i)&&(e=Jg(t,r),e===2&&(o=r_(t),o!==0&&(r=o,e=R_(t,o))),e===1))throw n=nd,iu(t,0),As(t,r),$r(t,ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ot(345));case 2:Fa(t,Fr,Fo);break;case 3:if(As(t,r),(r&130023424)===r&&(e=GE+500-ln(),10<e)){if(Ng(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=h_(Fa.bind(null,t,Fr,Fo),e);break}Fa(t,Fr,Fo);break;case 4:if(As(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Qi(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_6(r/1960))-r,10<r){t.timeoutHandle=h_(Fa.bind(null,t,Fr,Fo),r);break}Fa(t,Fr,Fo);break;case 5:Fa(t,Fr,Fo);break;default:throw Error(Ot(329))}}}return $r(t,ln()),t.callbackNode===n?yF.bind(null,t):null}function R_(t,e){var n=bf;return t.current.memoizedState.isDehydrated&&(iu(t,e).flags|=256),t=Jg(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&M_(e)),t}function M_(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function S6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!eo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~WE,e&=~oy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qi(e),r=1<<n;t[n]=-1,e&=~r}}function RM(t){if(we&6)throw Error(Ot(327));Yl();var e=Ng(t,0);if(!(e&1))return $r(t,ln()),null;var n=Jg(t,e);if(t.tag!==0&&n===2){var r=r_(t);r!==0&&(e=r,n=R_(t,r))}if(n===1)throw n=nd,iu(t,0),As(t,e),$r(t,ln()),n;if(n===6)throw Error(Ot(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,Fr,Fo),$r(t,ln()),null}function HE(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(ac=ln()+500,ey&&ua())}}function mu(t){Ds!==null&&Ds.tag===0&&!(we&6)&&Yl();var e=we;we|=1;var n=ki.transition,r=Me;try{if(ki.transition=null,Me=1,t)return t()}finally{Me=r,ki.transition=n,we=e,!(we&6)&&ua()}}function KE(){Qr=Ul.current,Ve(Ul)}function iu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZH(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(CE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bg();break;case 3:oc(),Ve(Ur),Ve(fr),LE();break;case 5:DE(r);break;case 4:oc();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:RE(r.type._context);break;case 22:case 23:KE()}n=n.return}if(Ln=t,pn=t=Ws(t.current,null),Xn=Qr=e,Sn=0,nd=null,WE=oy=gu=0,Fr=bf=null,Ka!==null){for(e=0;e<Ka.length;e++)if(n=Ka[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ka=null}return t}function wF(t,e){do{var n=pn;try{if(PE(),pg.current=Xg,Kg){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kg=!1}if(vu=0,Pn=bn=tn=null,wf=!1,Zf=0,VE.current=null,n===null||n.return===null){Sn=1,nd=e,pn=null;break}t:{var o=t,a=n.return,u=n,c=e;if(e=Xn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=u,v=f.tag;if(!(f.mode&1)&&(v===0||v===11||v===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var b=yM(a);if(b!==null){b.flags&=-257,wM(b,a,u,o,e),b.mode&1&&mM(o,h,e),e=b,c=h;var w=e.updateQueue;if(w===null){var T=new Set;T.add(c),e.updateQueue=T}else w.add(c);break t}else{if(!(e&1)){mM(o,h,e),XE();break t}c=Error(Ot(426))}}else if(Ke&&u.mode&1){var P=yM(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),wM(P,a,u,o,e),IE(sc(c,u));break t}}o=c=sc(c,u),Sn!==4&&(Sn=2),bf===null?bf=[o]:bf.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var k=nF(o,c,e);cM(o,k);break t;case 1:u=c;var S=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($s===null||!$s.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=rF(o,u,e);cM(o,D);break t}}o=o.return}while(o!==null)}_F(n)}catch(U){e=U,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(1)}function xF(){var t=Yg.current;return Yg.current=Xg,t===null?Xg:t}function XE(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Ln===null||!(gu&268435455)&&!(oy&268435455)||As(Ln,Xn)}function Jg(t,e){var n=we;we|=2;var r=xF();(Ln!==t||Xn!==e)&&(Fo=null,iu(t,e));do try{E6();break}catch(i){wF(t,i)}while(1);if(PE(),we=n,Yg.current=r,pn!==null)throw Error(Ot(261));return Ln=null,Xn=0,Sn}function E6(){for(;pn!==null;)bF(pn)}function T6(){for(;pn!==null&&!qG();)bF(pn)}function bF(t){var e=EF(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,e===null?_F(t):pn=e,VE.current=null}function _F(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y6(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,pn=null;return}}else if(n=m6(n,e,Qr),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Fa(t,e,n){var r=Me,i=ki.transition;try{ki.transition=null,Me=1,k6(t,e,n,r)}finally{ki.transition=i,Me=r}return null}function k6(t,e,n,r){do Yl();while(Ds!==null);if(we&6)throw Error(Ot(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ot(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(sH(t,o),t===Ln&&(pn=Ln=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zv||(zv=!0,TF(Og,function(){return Yl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ki.transition,ki.transition=null;var a=Me;Me=1;var u=we;we|=4,VE.current=null,x6(t,n),gF(n,t),HH(l_),Dg=!!u_,l_=u_=null,t.current=n,b6(n),QG(),we=u,Me=a,ki.transition=o}else t.current=n;if(zv&&(zv=!1,Ds=t,Qg=i),o=t.pendingLanes,o===0&&($s=null),tH(n.stateNode),$r(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qg)throw qg=!1,t=A_,A_=null,t;return Qg&1&&t.tag!==0&&Yl(),o=t.pendingLanes,o&1?t===P_?_f++:(_f=0,P_=t):_f=0,ua(),null}function Yl(){if(Ds!==null){var t=e2(Qg),e=ki.transition,n=Me;try{if(ki.transition=null,Me=16>t?16:t,Ds===null)var r=!1;else{if(t=Ds,Ds=null,Qg=0,we&6)throw Error(Ot(331));var i=we;for(we|=4,Ut=t.current;Ut!==null;){var o=Ut,a=o.child;if(Ut.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(Ut=h;Ut!==null;){var f=Ut;switch(f.tag){case 0:case 11:case 15:xf(8,f,o)}var v=f.child;if(v!==null)v.return=f,Ut=v;else for(;Ut!==null;){f=Ut;var g=f.sibling,b=f.return;if(dF(f),f===h){Ut=null;break}if(g!==null){g.return=b,Ut=g;break}Ut=b}}}var w=o.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}Ut=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ut=a;else t:for(;Ut!==null;){if(o=Ut,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xf(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,Ut=k;break t}Ut=o.return}}var S=t.current;for(Ut=S;Ut!==null;){a=Ut;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Ut=C;else t:for(a=S;Ut!==null;){if(u=Ut,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:iy(9,u)}}catch(U){rn(u,u.return,U)}if(u===a){Ut=null;break t}var D=u.sibling;if(D!==null){D.return=u.return,Ut=D;break t}Ut=u.return}}if(we=i,ua(),yo&&typeof yo.onPostCommitFiberRoot=="function")try{yo.onPostCommitFiberRoot(qm,t)}catch{}r=!0}return r}finally{Me=n,ki.transition=e}}return!1}function MM(t,e,n){e=sc(n,e),e=nF(t,e,1),t=zs(t,e,1),e=Cr(),t!==null&&(Nd(t,1,e),$r(t,e))}function rn(t,e,n){if(t.tag===3)MM(t,t,n);else for(;e!==null;){if(e.tag===3){MM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=sc(n,t),t=rF(e,t,1),e=zs(e,t,1),t=Cr(),e!==null&&(Nd(e,1,t),$r(e,t));break}}e=e.return}}function C6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(Xn&n)===n&&(Sn===4||Sn===3&&(Xn&130023424)===Xn&&500>ln()-GE?iu(t,0):WE|=n),$r(t,e)}function SF(t,e){e===0&&(t.mode&1?(e=Rv,Rv<<=1,!(Rv&130023424)&&(Rv=4194304)):e=1);var n=Cr();t=Qo(t,e),t!==null&&(Nd(t,e,n),$r(t,n))}function I6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SF(t,n)}function A6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ot(314))}r!==null&&r.delete(e),SF(t,n)}var EF;EF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)jr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jr=!1,g6(t,e,n);jr=!!(t.flags&131072)}else jr=!1,Ke&&e.flags&1048576&&C2(e,$g,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gg(t,e),t=e.pendingProps;var i=nc(e,fr.current);Xl(e,n),i=jE(null,e,r,t,i,n);var o=BE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(o=!0,Ug(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OE(e),i.updater=ny,e.stateNode=i,i._reactInternals=e,y_(e,r,t,n),e=b_(null,e,r,!0,o,n)):(e.tag=0,Ke&&o&&kE(e),xr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(gg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R6(r),t=Hi(r,t),i){case 0:e=x_(null,e,r,t,n);break t;case 1:e=_M(null,e,r,t,n);break t;case 11:e=xM(null,e,r,t,n);break t;case 14:e=bM(null,e,r,Hi(r.type,t),n);break t}throw Error(Ot(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),x_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),_M(t,e,r,i,n);case 3:t:{if(aF(e),t===null)throw Error(Ot(387));r=e.pendingProps,o=e.memoizedState,i=o.element,R2(t,e),Gg(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=sc(Error(Ot(423)),e),e=SM(t,e,r,n,i);break t}else if(r!==i){i=sc(Error(Ot(424)),e),e=SM(t,e,r,n,i);break t}else for(ni=Us(e.stateNode.containerInfo.firstChild),si=e,Ke=!0,Yi=null,n=D2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rc(),r===i){e=Jo(t,e,n);break t}xr(t,e,r,n)}e=e.child}return e;case 5:return L2(e),t===null&&v_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,c_(r,i)?a=null:o!==null&&c_(r,o)&&(e.flags|=32),sF(t,e),xr(t,e,a,n),e.child;case 6:return t===null&&v_(e),null;case 13:return uF(t,e,n);case 4:return NE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ic(e,null,r,n):xr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),xM(t,e,r,i,n);case 7:return xr(t,e,e.pendingProps,n),e.child;case 8:return xr(t,e,e.pendingProps.children,n),e.child;case 12:return xr(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Fe(Vg,r._currentValue),r._currentValue=a,o!==null)if(eo(o.value,a)){if(o.children===i.children&&!Ur.current){e=Jo(t,e,n);break t}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Go(-1,n&-n),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),g_(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Ot(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),g_(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}xr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xl(e,n),i=Pi(i),r=r(i),e.flags|=1,xr(t,e,r,n),e.child;case 14:return r=e.type,i=Hi(r,e.pendingProps),i=Hi(r.type,i),bM(t,e,r,i,n);case 15:return iF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),gg(t,e),e.tag=1,zr(r)?(t=!0,Ug(e)):t=!1,Xl(e,n),O2(e,r,i),y_(e,r,i,n),b_(null,e,r,!0,t,n);case 19:return lF(t,e,n);case 22:return oF(t,e,n)}throw Error(Ot(156,e.tag))};function TF(t,e){return QL(t,e)}function P6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,e,n,r){return new P6(t,e,n,r)}function YE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R6(t){if(typeof t=="function")return YE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pE)return 11;if(t===vE)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=xi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wg(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")YE(t)&&(a=1);else if(typeof t=="string")a=5;else t:switch(t){case Pl:return ou(n.children,i,o,e);case dE:a=8,i|=8;break;case $1:return t=xi(12,n,e,i|2),t.elementType=$1,t.lanes=o,t;case V1:return t=xi(13,n,e,i),t.elementType=V1,t.lanes=o,t;case W1:return t=xi(19,n,e,i),t.elementType=W1,t.lanes=o,t;case NL:return sy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ML:a=10;break t;case OL:a=9;break t;case pE:a=11;break t;case vE:a=14;break t;case Ts:a=16,r=null;break t}throw Error(Ot(130,t==null?t:typeof t,""))}return e=xi(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ou(t,e,n,r){return t=xi(7,t,r,e),t.lanes=n,t}function sy(t,e,n,r){return t=xi(22,t,r,e),t.elementType=NL,t.lanes=n,t.stateNode={isHidden:!1},t}function Mb(t,e,n){return t=xi(6,t,null,e),t.lanes=n,t}function Ob(t,e,n){return e=xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=db(0),this.expirationTimes=db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=db(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qE(t,e,n,r,i,o,a,u,c){return t=new M6(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},OE(o),t}function O6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kF(t){if(!t)return Js;t=t._reactInternals;t:{if(Nu(t)!==t||t.tag!==1)throw Error(Ot(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(Ot(171))}if(t.tag===1){var n=t.type;if(zr(n))return T2(t,n,e)}return e}function CF(t,e,n,r,i,o,a,u,c){return t=qE(n,r,!0,t,i,o,a,u,c),t.context=kF(null),n=t.current,r=Cr(),i=Vs(n),o=Go(r,i),o.callback=e??null,zs(n,o,i),t.current.lanes=i,Nd(t,i,r),$r(t,r),t}function ay(t,e,n,r){var i=e.current,o=Cr(),a=Vs(i);return n=kF(n),e.context===null?e.context=n:e.pendingContext=n,e=Go(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zs(i,e,a),t!==null&&(Ji(t,i,a,o),dg(t,i,a)),a}function Zg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function QE(t,e){OM(t,e),(t=t.alternate)&&OM(t,e)}function N6(){return null}var IF=typeof reportError=="function"?reportError:function(t){console.error(t)};function JE(t){this._internalRoot=t}uy.prototype.render=JE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ot(409));ay(t,e,null,null)};uy.prototype.unmount=JE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mu(function(){ay(null,t,null,null)}),e[qo]=null}};function uy(t){this._internalRoot=t}uy.prototype.unstable_scheduleHydration=function(t){if(t){var e=i2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&s2(t)}};function ZE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ly(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NM(){}function D6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Zg(a);o.call(h)}}var a=CF(e,r,t,0,null,!1,!1,"",NM);return t._reactRootContainer=a,t[qo]=a.current,Xf(t.nodeType===8?t.parentNode:t),mu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=Zg(c);u.call(h)}}var c=qE(t,0,!1,null,null,!1,!1,"",NM);return t._reactRootContainer=c,t[qo]=c.current,Xf(t.nodeType===8?t.parentNode:t),mu(function(){ay(e,c,n,r)}),c}function cy(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var u=i;i=function(){var c=Zg(a);u.call(c)}}ay(e,a,t,i)}else a=D6(n,e,t,i,r);return Zg(a)}n2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sf(e.pendingLanes);n!==0&&(yE(e,n|1),$r(e,ln()),!(we&6)&&(ac=ln()+500,ua()))}break;case 13:mu(function(){var r=Qo(t,1);if(r!==null){var i=Cr();Ji(r,t,1,i)}}),QE(t,1)}};wE=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=Cr();Ji(e,t,134217728,n)}QE(t,134217728)}};r2=function(t){if(t.tag===13){var e=Vs(t),n=Qo(t,e);if(n!==null){var r=Cr();Ji(n,t,e,r)}QE(t,e)}};i2=function(){return Me};o2=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};t_=function(t,e,n){switch(e){case"input":if(K1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ty(r);if(!i)throw Error(Ot(90));LL(r),K1(r,i)}}}break;case"textarea":jL(t,n);break;case"select":e=n.value,e!=null&&Wl(t,!!n.multiple,e,!1)}};GL=HE;HL=mu;var L6={usingClientEntryPoint:!1,Events:[Ld,Nl,ty,VL,WL,HE]},Kh={findFiberByHostInstance:Ha,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},F6={bundleType:Kh.bundleType,version:Kh.version,rendererPackageName:Kh.rendererPackageName,rendererConfig:Kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YL(t),t===null?null:t.stateNode},findFiberByHostInstance:Kh.findFiberByHostInstance||N6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$v.isDisabled&&$v.supportsFiber)try{qm=$v.inject(F6),yo=$v}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L6;hi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZE(e))throw Error(Ot(200));return O6(t,e,null,n)};hi.createRoot=function(t,e){if(!ZE(t))throw Error(Ot(299));var n=!1,r="",i=IF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qE(t,1,!1,null,null,n,!1,r,i),t[qo]=e.current,Xf(t.nodeType===8?t.parentNode:t),new JE(e)};hi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ot(188)):(t=Object.keys(t).join(","),Error(Ot(268,t)));return t=YL(e),t=t===null?null:t.stateNode,t};hi.flushSync=function(t){return mu(t)};hi.hydrate=function(t,e,n){if(!ly(e))throw Error(Ot(200));return cy(null,t,e,!0,n)};hi.hydrateRoot=function(t,e,n){if(!ZE(t))throw Error(Ot(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=IF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=CF(e,null,t,1,n??null,i,!1,o,a),t[qo]=e.current,Xf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uy(e)};hi.render=function(t,e,n){if(!ly(e))throw Error(Ot(200));return cy(null,t,e,!1,n)};hi.unmountComponentAtNode=function(t){if(!ly(t))throw Error(Ot(40));return t._reactRootContainer?(mu(function(){cy(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};hi.unstable_batchedUpdates=HE;hi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ly(n))throw Error(Ot(200));if(t==null||t._reactInternals===void 0)throw Error(Ot(38));return cy(t,e,n,!1,r)};hi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=hi})(NG);const uf=oE(Ai);function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(this,arguments)}function hy(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ve(t,e){if(t==null)return{};var n=hy(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=AF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Te(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=AF(t))&&(r&&(r+=" "),r+=e);return r}function yu(t){return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Nb(t){return t&&yu(t)==="object"&&t.constructor===Object}function uc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?Ct({},t):t;return Nb(t)&&Nb(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(Nb(e[i])&&i in t?r[i]=uc(t[i],e[i],n):r[i]=e[i])}),r}function j6(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PF(t){var e=j6(t,"string");return yu(e)=="symbol"?e:String(e)}function xg(t,e,n){return e=PF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lc(t){for(var e="https://mui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}var DM={},B6={get exports(){return DM},set exports(t){DM=t}},Le={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=60103,dy=60106,jd=60107,Bd=60108,Ud=60114,zd=60109,$d=60110,Vd=60112,Wd=60113,tT=60120,Gd=60115,Hd=60116,RF=60121,MF=60122,OF=60117,NF=60129,DF=60131;if(typeof Symbol=="function"&&Symbol.for){var zn=Symbol.for;fy=zn("react.element"),dy=zn("react.portal"),jd=zn("react.fragment"),Bd=zn("react.strict_mode"),Ud=zn("react.profiler"),zd=zn("react.provider"),$d=zn("react.context"),Vd=zn("react.forward_ref"),Wd=zn("react.suspense"),tT=zn("react.suspense_list"),Gd=zn("react.memo"),Hd=zn("react.lazy"),RF=zn("react.block"),MF=zn("react.server.block"),OF=zn("react.fundamental"),NF=zn("react.debug_trace_mode"),DF=zn("react.legacy_hidden")}function ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fy:switch(t=t.type,t){case jd:case Ud:case Bd:case Wd:case tT:return t;default:switch(t=t&&t.$$typeof,t){case $d:case Vd:case Hd:case Gd:case zd:return t;default:return e}}case dy:return e}}}var U6=zd,z6=fy,$6=Vd,V6=jd,W6=Hd,G6=Gd,H6=dy,K6=Ud,X6=Bd,Y6=Wd;Le.ContextConsumer=$d;Le.ContextProvider=U6;Le.Element=z6;Le.ForwardRef=$6;Le.Fragment=V6;Le.Lazy=W6;Le.Memo=G6;Le.Portal=H6;Le.Profiler=K6;Le.StrictMode=X6;Le.Suspense=Y6;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return ro(t)===$d};Le.isContextProvider=function(t){return ro(t)===zd};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fy};Le.isForwardRef=function(t){return ro(t)===Vd};Le.isFragment=function(t){return ro(t)===jd};Le.isLazy=function(t){return ro(t)===Hd};Le.isMemo=function(t){return ro(t)===Gd};Le.isPortal=function(t){return ro(t)===dy};Le.isProfiler=function(t){return ro(t)===Ud};Le.isStrictMode=function(t){return ro(t)===Bd};Le.isSuspense=function(t){return ro(t)===Wd};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jd||t===Ud||t===NF||t===Bd||t===Wd||t===tT||t===DF||typeof t=="object"&&t!==null&&(t.$$typeof===Hd||t.$$typeof===Gd||t.$$typeof===zd||t.$$typeof===$d||t.$$typeof===Vd||t.$$typeof===OF||t.$$typeof===RF||t[0]===MF)};Le.typeOf=ro;(function(t){t.exports=Le})(B6);function jc(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce(function(i,o){return i[o]=e[o],r&&typeof e[o]>"u"&&(i[o]=r[o]),i},{})}var LF=ut.createContext();function q6(){return ut.useContext(LF)}const eT=LF;var Q6=typeof Symbol=="function"&&Symbol.for;const J6=Q6?Symbol.for("mui.nested"):"__THEME_NESTED__";var Z6=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function tK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.disableGlobal,n=e===void 0?!1:e,r=t.productionPrefix,i=r===void 0?"jss":r,o=t.seed,a=o===void 0?"":o,u=a===""?"":"".concat(a,"-"),c=0,h=function(){return c+=1,c};return function(f,v){var g=v.options.name;if(g&&g.indexOf("Mui")===0&&!v.options.link&&!n){if(Z6.indexOf(f.key)!==-1)return"Mui-".concat(f.key);var b="".concat(u).concat(g,"-").concat(f.key);return!v.options.theme[J6]||a!==""?b:"".concat(b,"-").concat(h())}return"".concat(u).concat(i).concat(h())}}function FF(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var i=e.props[n],o;for(o in i)r[o]===void 0&&(r[o]=i[o]);return r}var LM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd=(typeof window>"u"?"undefined":LM(window))==="object"&&(typeof document>"u"?"undefined":LM(document))==="object"&&document.nodeType===9;function FM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PF(r.key),r)}}function nT(t,e,n){return e&&FM(t.prototype,e),n&&FM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function py(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,O_(t,e)}function N_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var eK={}.constructor;function D_(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(D_);if(t.constructor!==eK)return t;var e={};for(var n in t)e[n]=D_(t[n]);return e}function rT(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,i=D_(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var jM=function(e,n){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=n),r+=e[i];return r},su=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=jM(e[r]," ");else n=jM(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Bc(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Xh(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function rd(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var i=n,o=i.indent,a=o===void 0?0:o,u=e.fallbacks;n.format===!1&&(a=-1/0);var c=Bc(n),h=c.linebreak,f=c.space;if(t&&a++,u)if(Array.isArray(u))for(var v=0;v<u.length;v++){var g=u[v];for(var b in g){var w=g[b];w!=null&&(r&&(r+=h),r+=Xh(b+":"+f+su(w)+";",a))}}else for(var T in u){var P=u[T];P!=null&&(r&&(r+=h),r+=Xh(T+":"+f+su(P)+";",a))}for(var k in e){var S=e[k];S!=null&&k!=="fallbacks"&&(r&&(r+=h),r+=Xh(k+":"+f+su(S)+";",a))}return!r&&!n.allowEmpty||!t?r:(a--,r&&(r=""+h+r+h),Xh(""+t+f+"{"+r,a)+Xh("}",a))}var nK=/([[\].#*$><+~=|^:(),"'`\s])/g,BM=typeof CSS<"u"&&CSS.escape,iT=function(t){return BM?BM(t):t.replace(nK,"\\$1")},jF=function(){function t(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,a=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:a&&(this.renderer=new a)}var e=t.prototype;return e.prop=function(r,i,o){if(i===void 0)return this.style[r];var a=o?o.force:!1;if(!a&&this.style[r]===i)return this;var u=i;(!o||o.process!==!1)&&(u=this.options.jss.plugins.onChangeValue(i,r,this));var c=u==null||u===!1,h=r in this.style;if(c&&!h&&!a)return this;var f=c&&h;if(f?delete this.style[r]:this.style[r]=u,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,u),this;var v=this.options.sheet;return v&&v.attached,this},t}(),L_=function(t){py(e,t);function e(r,i,o){var a;a=t.call(this,r,i,o)||this;var u=o.selector,c=o.scoped,h=o.sheet,f=o.generateId;return u?a.selectorText=u:c!==!1&&(a.id=f(N_(N_(a)),h),a.selectorText="."+iT(a.id)),a}var n=e.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var a=this.toJSON();for(var u in a)o.setProperty(i,u,a[u])}return this},n.toJSON=function(){var i={};for(var o in this.style){var a=this.style[o];typeof a!="object"?i[o]=a:Array.isArray(a)&&(i[o]=su(a))}return i},n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,u=a?Ct({},i,{allowEmpty:!0}):i;return rd(this.selectorText,this.style,u)},nT(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,a=this.renderable;if(!(!a||!o)){var u=o.setSelector(a,i);u||o.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),e}(jF),rK={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new L_(e,n,r)}},Db={indent:1,children:!0},iK=/@([\w-]+)/,oK=function(){function t(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(iK);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new vy(Ct({},i,{parent:this}));for(var a in r)this.rules.add(a,r[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),a):null},e.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.toString=function(r){r===void 0&&(r=Db);var i=Bc(r),o=i.linebreak;if(r.indent==null&&(r.indent=Db.indent),r.children==null&&(r.children=Db.children),r.children===!1)return this.query+" {}";var a=this.rules.toString(r);return a?this.query+" {"+o+a+o+"}":""},t}(),sK=/@container|@media|@supports\s+/,aK={onCreateRule:function(e,n,r){return sK.test(e)?new oK(e,n,r):null}},Lb={indent:1,children:!0},uK=/@keyframes\s+([\w-]+)/,F_=function(){function t(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(uK);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var a=i.scoped,u=i.sheet,c=i.generateId;this.id=a===!1?this.name:iT(c(this,u)),this.rules=new vy(Ct({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],Ct({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=Lb);var i=Bc(r),o=i.linebreak;if(r.indent==null&&(r.indent=Lb.indent),r.children==null&&(r.children=Lb.children),r.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(r);return a&&(a=""+o+a+o),this.at+" "+this.id+" {"+a+"}"},t}(),lK=/@keyframes\s+/,cK=/\$([\w-]+)/g,j_=function(e,n){return typeof e=="string"?e.replace(cK,function(r,i){return i in n?n[i]:r}):e},UM=function(e,n,r){var i=e[n],o=j_(i,r);o!==i&&(e[n]=o)},hK={onCreateRule:function(e,n,r){return typeof e=="string"&&lK.test(e)?new F_(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&UM(e,"animation-name",r.keyframes),"animation"in e&&UM(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var i=r.options.sheet;if(!i)return e;switch(n){case"animation":return j_(e,i.keyframes);case"animation-name":return j_(e,i.keyframes);default:return e}}},fK=function(t){py(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,u=a?Ct({},i,{allowEmpty:!0}):i;return rd(this.key,this.style,u)},e}(jF),dK={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new fK(e,n,r):null}},pK=function(){function t(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){var i=Bc(r),o=i.linebreak;if(Array.isArray(this.style)){for(var a="",u=0;u<this.style.length;u++)a+=rd(this.at,this.style[u]),this.style[u+1]&&(a+=o);return a}return rd(this.at,this.style,r)},t}(),vK=/@font-face/,gK={onCreateRule:function(e,n,r){return vK.test(e)?new pK(e,n,r):null}},mK=function(){function t(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){return rd(this.key,this.style,r)},t}(),yK={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new mK(e,n,r):null}},wK=function(){function t(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),xK={"@charset":!0,"@import":!0,"@namespace":!0},bK={onCreateRule:function(e,n,r){return e in xK?new wK(e,n,r):null}},zM=[rK,aK,hK,dK,gK,yK,bK],_K={process:!0},$M={force:!0,process:!0},vy=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,i,o){var a=this.options,u=a.parent,c=a.sheet,h=a.jss,f=a.Renderer,v=a.generateId,g=a.scoped,b=Ct({classes:this.classes,parent:u,sheet:c,jss:h,Renderer:f,generateId:v,scoped:g,name:r,keyframes:this.keyframes,selector:void 0},o),w=r;r in this.raw&&(w=r+"-d"+this.counter++),this.raw[w]=i,w in this.classes&&(b.selector="."+iT(this.classes[w]));var T=rT(w,i,b);if(!T)return null;this.register(T);var P=b.index===void 0?this.index.length:b.index;return this.index.splice(P,0,T),T},e.replace=function(r,i,o){var a=this.get(r),u=this.index.indexOf(a);a&&this.remove(a);var c=o;return u!==-1&&(c=Ct({},o,{index:u})),this.add(r,i,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof L_?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof F_&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof L_?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof F_&&delete this.keyframes[r.name]},e.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],i,o)},e.updateOne=function(r,i,o){o===void 0&&(o=_K);var a=this.options,u=a.jss.plugins,c=a.sheet;if(r.rules instanceof t){r.rules.update(i,o);return}var h=r.style;if(u.onUpdate(i,r,c,o),o.process&&h&&h!==r.style){u.onProcessStyle(r.style,r,c);for(var f in r.style){var v=r.style[f],g=h[f];v!==g&&r.prop(f,v,$M)}for(var b in h){var w=r.style[b],T=h[b];w==null&&w!==T&&r.prop(b,null,$M)}}},e.toString=function(r){for(var i="",o=this.options.sheet,a=o?o.options.link:!1,u=Bc(r),c=u.linebreak,h=0;h<this.index.length;h++){var f=this.index[h],v=f.toString(r);!v&&!a||(i&&(i+=c),i+=v)}return i},t}(),BF=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ct({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new vy(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,o){var a=this.queue;this.attached&&!a&&(this.queue=[]);var u=this.rules.add(r,i,o);return u?(this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&(a?a.push(u):(this.insertRule(u),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),u):(this.deployed=!1,u)):null},e.replaceRule=function(r,i,o){var a=this.rules.get(r);if(!a)return this.addRule(r,i,o);var u=this.rules.replace(r,i,o);return u&&this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&this.renderer&&(u?a.renderable&&this.renderer.replaceRule(a.renderable,u):this.renderer.deleteRule(a)),u):(this.deployed=!1,u)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var o=[];for(var a in r){var u=this.addRule(a,r[a],i);u&&o.push(u)}return o},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},e.toString=function(r){return this.rules.toString(r)},t}(),SK=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,i,o){for(var a=0;a<this.registry.onCreateRule.length;a++){var u=this.registry.onCreateRule[a](r,i,o);if(u)return u}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,o){for(var a=0;a<this.registry.onProcessStyle.length;a++)i.style=this.registry.onProcessStyle[a](i.style,i,o)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,o,a){for(var u=0;u<this.registry.onUpdate.length;u++)this.registry.onUpdate[u](r,i,o,a)},e.onChangeValue=function(r,i,o){for(var a=r,u=0;u<this.registry.onChangeValue.length;u++)a=this.registry.onChangeValue[u](a,i,o);return a},e.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,u){for(var c in u)c in a&&a[c].push(u[c]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),EK=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var a=0;a<i.length;a++)if(i[a].options.index>o){i.splice(a,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,a=hy(i,["attached"]),u=Bc(a),c=u.linebreak,h="",f=0;f<this.registry.length;f++){var v=this.registry[f];o!=null&&v.attached!==o||(h&&(h+=c),h+=v.toString(a))}return h},nT(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Sf=new EK,B_=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),U_="2f1acc6c3a606b082e5eef5e54414ffb";B_[U_]==null&&(B_[U_]=0);var VM=B_[U_]++,WM=function(e){e===void 0&&(e={});var n=0,r=function(o,a){n+=1;var u="",c="";return a&&(a.options.classNamePrefix&&(c=a.options.classNamePrefix),a.options.jss.id!=null&&(u=String(a.options.jss.id))),e.minify?""+(c||"c")+VM+u+n:c+o.key+"-"+VM+(u?"-"+u:"")+"-"+n};return r},UF=function(e){var n;return function(){return n||(n=e()),n}},TK=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},kK=function(e,n,r){try{var i=r;if(Array.isArray(r)&&(i=su(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,a=o>-1?i.substr(0,o-1):i;e.style.setProperty(n,a,o>-1?"important":"")}}catch{return!1}return!0},CK=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},IK=function(e,n){return e.selectorText=n,e.selectorText===n},zF=UF(function(){return document.querySelector("head")});function AK(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function PK(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function RK(t){for(var e=zF(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function MK(t){var e=Sf.registry;if(e.length>0){var n=AK(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=PK(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var i=RK(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function OK(t,e){var n=e.insertionPoint,r=MK(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling);return}zF().appendChild(t)}var NK=UF(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),GM=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},HM=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},DK=function(){var e=document.createElement("style");return e.textContent=`
`,e},LK=function(){function t(n){this.getPropertyValue=TK,this.setProperty=kK,this.removeProperty=CK,this.setSelector=IK,this.hasInsertedRules=!1,this.cssRules=[],n&&Sf.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,a=r.element;this.element=a||DK(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var u=NK();u&&this.element.setAttribute("nonce",u)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){OK(this.element,this.sheet.options);var r=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},e.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var a=r,u=o;if(r.type==="conditional"||r.type==="keyframes"){var c=HM(o,i);if(u=GM(o,a.toString({children:!1}),c),u===!1)return!1;this.refCssRule(r,c,u)}return this.insertRules(a.rules,u),u}var h=r.toString();if(!h)return!1;var f=HM(o,i),v=GM(o,h,f);return v===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,f,v),v)},e.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof BF&&this.cssRules.splice(i,0,o)},e.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},e.getRules=function(){return this.element.sheet.cssRules},t}(),FK=0,jK=function(){function t(n){this.id=FK++,this.version="10.10.0",this.plugins=new SK,this.options={id:{minify:!1},createGenerateId:WM,Renderer:Kd?LK:null,plugins:[]},this.generateId=WM({minify:!1});for(var r=0;r<zM.length;r++)this.plugins.use(zM[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Ct({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,a=o.index;typeof a!="number"&&(a=Sf.index===0?0:Sf.index+1);var u=new BF(r,Ct({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(u),u},e.removeStyleSheet=function(r){return r.detach(),Sf.remove(r),this},e.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var a=Ct({},o,{name:r,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var u=rT(r,i,a);return u&&this.plugins.onProcessRule(u),u},e.use=function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.forEach(function(u){r.plugins.use(u)}),this},t}(),$F=function(e){return new jK(e)},oT=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function VF(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if(i==="function")e||(e={}),e[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=VF(r);o&&(e||(e={}),e[n]=o)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */$F();var WF=Date.now(),Fb="fnValues"+WF,jb="fnStyle"+ ++WF,BK=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=rT(n,{},i);return o[jb]=r,o},onProcessStyle:function(n,r){if(Fb in r||jb in r)return n;var i={};for(var o in n){var a=n[o];typeof a=="function"&&(delete n[o],i[o]=a)}return r[Fb]=i,n},onUpdate:function(n,r,i,o){var a=r,u=a[jb];u&&(a.style=u(n)||{});var c=a[Fb];if(c)for(var h in c)a.prop(h,c[h](n),o)}}};const UK=BK;var Gs="@global",z_="@global ",zK=function(){function t(n,r,i){this.type="global",this.at=Gs,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new vy(Ct({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),$K=function(){function t(n,r,i){this.type="global",this.at=Gs,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(z_.length);this.rule=i.jss.createRule(o,r,Ct({},i,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),VK=/\s*,\s*/g;function GF(t,e){for(var n=t.split(VK),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function WK(t,e){var n=t.options,r=t.style,i=r?r[Gs]:null;if(i){for(var o in i)e.addRule(o,i[o],Ct({},n,{selector:GF(o,t.selector)}));delete r[Gs]}}function GK(t,e){var n=t.options,r=t.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Gs.length)!==Gs)){var o=GF(i.substr(Gs.length),t.selector);e.addRule(o,r[i],Ct({},n,{selector:o})),delete r[i]}}function HK(){function t(n,r,i){if(!n)return null;if(n===Gs)return new zK(n,r,i);if(n[0]==="@"&&n.substr(0,z_.length)===z_)return new $K(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function e(n,r){n.type!=="style"||!r||(WK(n,r),GK(n,r))}return{onCreateRule:t,onProcessRule:e}}var KM=/\s*,\s*/g,KK=/&/g,XK=/\$([\w-]+)/g;function YK(){function t(i,o){return function(a,u){var c=i.getRule(u)||o&&o.getRule(u);return c?c.selector:u}}function e(i,o){for(var a=o.split(KM),u=i.split(KM),c="",h=0;h<a.length;h++)for(var f=a[h],v=0;v<u.length;v++){var g=u[v];c&&(c+=", "),c+=g.indexOf("&")!==-1?g.replace(KK,f):f+" "+g}return c}function n(i,o,a){if(a)return Ct({},a,{index:a.index+1});var u=i.options.nestingLevel;u=u===void 0?1:u+1;var c=Ct({},i.options,{nestingLevel:u,index:o.indexOf(i)+1});return delete c.name,c}function r(i,o,a){if(o.type!=="style")return i;var u=o,c=u.options.parent,h,f;for(var v in i){var g=v.indexOf("&")!==-1,b=v[0]==="@";if(!(!g&&!b)){if(h=n(u,c,h),g){var w=e(v,u.selector);f||(f=t(c,a)),w=w.replace(XK,f);var T=u.key+"-"+v;"replaceRule"in c?c.replaceRule(T,i[v],Ct({},h,{selector:w})):c.addRule(T,i[v],Ct({},h,{selector:w}))}else b&&c.addRule(v,{},h).addRule(u.key,i[v],{selector:u.selector});delete i[v]}}return i}return{onProcessStyle:r}}var qK=/[A-Z]/g,QK=/^ms-/,Bb={};function JK(t){return"-"+t.toLowerCase()}function HF(t){if(Bb.hasOwnProperty(t))return Bb[t];var e=t.replace(qK,JK);return Bb[t]=QK.test(e)?"-"+e:e}function tm(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:HF(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(tm):e.fallbacks=tm(t.fallbacks)),e}function ZK(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=tm(n[r]);return n}return tm(n)}function e(n,r,i){if(r.indexOf("--")===0)return n;var o=HF(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:t,onChangeValue:e}}var kt=oT&&CSS?CSS.px:"px",Vv=oT&&CSS?CSS.ms:"ms",yl=oT&&CSS?CSS.percent:"%",tX={"animation-delay":Vv,"animation-duration":Vv,"background-position":kt,"background-position-x":kt,"background-position-y":kt,"background-size":kt,border:kt,"border-bottom":kt,"border-bottom-left-radius":kt,"border-bottom-right-radius":kt,"border-bottom-width":kt,"border-left":kt,"border-left-width":kt,"border-radius":kt,"border-right":kt,"border-right-width":kt,"border-top":kt,"border-top-left-radius":kt,"border-top-right-radius":kt,"border-top-width":kt,"border-width":kt,"border-block":kt,"border-block-end":kt,"border-block-end-width":kt,"border-block-start":kt,"border-block-start-width":kt,"border-block-width":kt,"border-inline":kt,"border-inline-end":kt,"border-inline-end-width":kt,"border-inline-start":kt,"border-inline-start-width":kt,"border-inline-width":kt,"border-start-start-radius":kt,"border-start-end-radius":kt,"border-end-start-radius":kt,"border-end-end-radius":kt,margin:kt,"margin-bottom":kt,"margin-left":kt,"margin-right":kt,"margin-top":kt,"margin-block":kt,"margin-block-end":kt,"margin-block-start":kt,"margin-inline":kt,"margin-inline-end":kt,"margin-inline-start":kt,padding:kt,"padding-bottom":kt,"padding-left":kt,"padding-right":kt,"padding-top":kt,"padding-block":kt,"padding-block-end":kt,"padding-block-start":kt,"padding-inline":kt,"padding-inline-end":kt,"padding-inline-start":kt,"mask-position-x":kt,"mask-position-y":kt,"mask-size":kt,height:kt,width:kt,"min-height":kt,"max-height":kt,"min-width":kt,"max-width":kt,bottom:kt,left:kt,top:kt,right:kt,inset:kt,"inset-block":kt,"inset-block-end":kt,"inset-block-start":kt,"inset-inline":kt,"inset-inline-end":kt,"inset-inline-start":kt,"box-shadow":kt,"text-shadow":kt,"column-gap":kt,"column-rule":kt,"column-rule-width":kt,"column-width":kt,"font-size":kt,"font-size-delta":kt,"letter-spacing":kt,"text-decoration-thickness":kt,"text-indent":kt,"text-stroke":kt,"text-stroke-width":kt,"word-spacing":kt,motion:kt,"motion-offset":kt,outline:kt,"outline-offset":kt,"outline-width":kt,perspective:kt,"perspective-origin-x":yl,"perspective-origin-y":yl,"transform-origin":yl,"transform-origin-x":yl,"transform-origin-y":yl,"transform-origin-z":yl,"transition-delay":Vv,"transition-duration":Vv,"vertical-align":kt,"flex-basis":kt,"shape-margin":kt,size:kt,gap:kt,grid:kt,"grid-gap":kt,"row-gap":kt,"grid-row-gap":kt,"grid-column-gap":kt,"grid-template-rows":kt,"grid-template-columns":kt,"grid-auto-rows":kt,"grid-auto-columns":kt,"box-shadow-x":kt,"box-shadow-y":kt,"box-shadow-blur":kt,"box-shadow-spread":kt,"font-line-height":kt,"text-shadow-x":kt,"text-shadow-y":kt,"text-shadow-blur":kt};function KF(t){var e=/(-[a-z])/g,n=function(a){return a[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var eX=KF(tX);function Ef(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Ef(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=Ef(i,e[i],n);else for(var o in e)e[o]=Ef(t+"-"+o,e[o],n);else if(typeof e=="number"&&isNaN(e)===!1){var a=n[t]||eX[t];return a&&!(e===0&&a===kt)?typeof a=="function"?a(e).toString():""+e+a:e.toString()}return e}function nX(t){t===void 0&&(t={});var e=KF(t);function n(i,o){if(o.type!=="style")return i;for(var a in i)i[a]=Ef(a,i[a],e);return i}function r(i,o){return Ef(o,i,e)}return{onProcessStyle:n,onChangeValue:r}}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rX(t){if(Array.isArray(t))return $_(t)}function iX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XF(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function oX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sT(t){return rX(t)||iX(t)||XF(t)||oX()}var lf="",V_="",YF="",qF="",sX=Kd&&"ontouchstart"in document.documentElement;if(Kd){var Ub={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},aX=document.createElement("p"),zb=aX.style,uX="Transform";for(var $b in Ub)if($b+uX in zb){lf=$b,V_=Ub[$b];break}lf==="Webkit"&&"msHyphens"in zb&&(lf="ms",V_=Ub.ms,qF="edge"),lf==="Webkit"&&"-apple-trailing-word"in zb&&(YF="apple")}var re={js:lf,css:V_,vendor:YF,browser:qF,isTouch:sX};function lX(t){return t[1]==="-"||re.js==="ms"?t:"@"+re.css+"keyframes"+t.substr(10)}var cX={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:re.js==="ms"?"-webkit-"+e:re.css+e}},hX={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:re.js==="Webkit"?re.css+"print-"+e:e}},fX=/[-\s]+(.)?/g;function dX(t,e){return e?e.toUpperCase():""}function aT(t){return t.replace(fX,dX)}function Zs(t){return aT("-"+t)}var pX={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(re.js==="Webkit"){var r="mask-image";if(aT(r)in n)return e;if(re.js+Zs(r)in n)return re.css+e}return e}},vX={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:re.vendor==="apple"&&!re.isTouch?re.css+e:e}},gX={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:re.css+e}},mX={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:re.css+e}},yX={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:re.js==="Webkit"||re.js==="ms"&&re.browser!=="edge"?re.css+e:e}},wX={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:re.js==="Moz"||re.js==="ms"||re.vendor==="apple"?re.css+e:e}},xX={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(re.js==="Webkit"){var r="WebkitColumn"+Zs(e);return r in n?re.css+"column-"+e:!1}if(re.js==="Moz"){var i="page"+Zs(e);return i in n?"page-"+e:!1}return!1}},bX={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(re.js==="Moz")return e;var r=e.replace("-inline","");return re.js+Zs(r)in n?re.css+r:!1}},_X={supportedProperty:function(e,n){return aT(e)in n?e:!1}},SX={supportedProperty:function(e,n){var r=Zs(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:re.js+r in n?re.css+e:re.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},EX={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:re.js==="ms"?""+re.css+e:e}},TX={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:re.js==="ms"?re.css+"scroll-chaining":e}},kX={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},CX={supportedProperty:function(e,n){var r=kX[e];return r&&re.js+Zs(r)in n?re.css+r:!1}},QF={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},IX=Object.keys(QF),AX=function(e){return re.css+e},PX={supportedProperty:function(e,n,r){var i=r.multiple;if(IX.indexOf(e)>-1){var o=QF[e];if(!Array.isArray(o))return re.js+Zs(o)in n?re.css+o:!1;if(!i)return!1;for(var a=0;a<o.length;a++)if(!(re.js+Zs(o[0])in n))return!1;return o.map(AX)}return!1}},JF=[cX,hX,pX,vX,gX,mX,yX,wX,xX,bX,_X,SX,EX,TX,CX,PX],XM=JF.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),RX=JF.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,sT(e.noPrefill)),t},[]),cf,Va={};if(Kd){cf=document.createElement("p");var Vb=window.getComputedStyle(document.documentElement,"");for(var Wb in Vb)isNaN(Wb)||(Va[Vb[Wb]]=Vb[Wb]);RX.forEach(function(t){return delete Va[t]})}function W_(t,e){if(e===void 0&&(e={}),!cf)return t;if(Va[t]!=null)return Va[t];(t==="transition"||t==="transform")&&(e[t]=t in cf.style);for(var n=0;n<XM.length&&(Va[t]=XM[n](t,cf.style,e),!Va[t]);n++);try{cf.style[t]=""}catch{return!1}return Va[t]}var wl={},MX={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},OX=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Es;function NX(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?W_(e):", "+W_(n);return r||e||n}Kd&&(Es=document.createElement("p"));function YM(t,e){var n=e;if(!Es||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(wl[r]!=null)return wl[r];try{Es.style[t]=n}catch{return wl[r]=!1,!1}if(MX[t])n=n.replace(OX,NX);else if(Es.style[t]===""&&(n=re.css+n,n==="-ms-flex"&&(Es.style[t]="-ms-flexbox"),Es.style[t]=n,Es.style[t]===""))return wl[r]=!1,!1;return Es.style[t]="",wl[r]=n,wl[r]}function DX(){function t(i){if(i.type==="keyframes"){var o=i;o.at=lX(o.at)}}function e(i){for(var o in i){var a=i[o];if(o==="fallbacks"&&Array.isArray(a)){i[o]=a.map(e);continue}var u=!1,c=W_(o);c&&c!==o&&(u=!0);var h=!1,f=YM(c,su(a));f&&f!==a&&(h=!0),(u||h)&&(u&&delete i[o],i[c||o]=f||a)}return i}function n(i,o){return o.type!=="style"?i:e(i)}function r(i,o){return YM(o,su(i))||i}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function LX(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(t),a=0;a<o.length;a++)i[o[a]]=n[o[a]];return i}}}function FX(){return{plugins:[UK(),HK(),YK(),ZK(),nX(),typeof window>"u"?null:DX(),LX()]}}function uT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.baseClasses,n=t.newClasses;if(t.Component,!n)return e;var r=Ct({},e);return Object.keys(n).forEach(function(i){n[i]&&(r[i]="".concat(e[i]," ").concat(n[i]))}),r}var jX={set:function(e,n,r,i){var o=e.get(n);o||(o=new Map,e.set(n,o)),o.set(r,i)},get:function(e,n,r){var i=e.get(n);return i?i.get(r):void 0},delete:function(e,n,r){var i=e.get(n);i.delete(r)}};const zl=jX;var BX=$e.createContext(null);const UX=BX;function gy(){var t=$e.useContext(UX);return t}var zX=$F(FX()),$X=tK(),VX=new Map,WX={disableGeneration:!1,generateClassName:$X,jss:zX,sheetsCache:null,sheetsManager:VX,sheetsRegistry:null},GX=$e.createContext(WX),qM=-1e9;function HX(){return qM+=1,qM}var KX={};const XX=KX;function YX(t){var e=typeof t=="function";return{create:function(r,i){var o;try{o=e?t(r):t}catch(c){throw c}if(!i||!r.overrides||!r.overrides[i])return o;var a=r.overrides[i],u=Ct({},o);return Object.keys(a).forEach(function(c){u[c]=uc(u[c],a[c])}),u},options:{}}}function qX(t,e,n){var r=t.state,i=t.stylesOptions;if(i.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,o=!0),o&&(r.cacheClasses.value=uT({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}function QX(t,e){var n=t.state,r=t.theme,i=t.stylesOptions,o=t.stylesCreator,a=t.name;if(!i.disableGeneration){var u=zl.get(i.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},zl.set(i.sheetsManager,o,r,u));var c=Ct({},o.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});c.generateId=c.serverGenerateClassName||c.generateClassName;var h=i.sheetsRegistry;if(u.refs===0){var f;i.sheetsCache&&(f=zl.get(i.sheetsCache,o,r));var v=o.create(r,a);f||(f=i.jss.createStyleSheet(v,Ct({link:!1},c)),f.attach(),i.sheetsCache&&zl.set(i.sheetsCache,o,r,f)),h&&h.add(f),u.staticSheet=f,u.dynamicStyles=VF(v)}if(u.dynamicStyles){var g=i.jss.createStyleSheet(u.dynamicStyles,Ct({link:!0},c));g.update(e),g.attach(),n.dynamicSheet=g,n.classes=uT({baseClasses:u.staticSheet.classes,newClasses:g.classes}),h&&h.add(g)}else n.classes=u.staticSheet.classes;u.refs+=1}}function JX(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function ZX(t){var e=t.state,n=t.theme,r=t.stylesOptions,i=t.stylesCreator;if(!r.disableGeneration){var o=zl.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;o.refs===0&&(zl.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}}function tY(t,e){var n=$e.useRef([]),r,i=$e.useMemo(function(){return{}},e);n.current!==i&&(n.current=i,r=t()),$e.useEffect(function(){return function(){r&&r()}},[i])}function eY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.name,r=e.classNamePrefix,i=e.Component,o=e.defaultTheme,a=o===void 0?XX:o,u=ve(e,["name","classNamePrefix","Component","defaultTheme"]),c=YX(t),h=n||r||"makeStyles";c.options={index:HX(),name:n,meta:h,classNamePrefix:h};var f=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=gy()||a,w=Ct({},$e.useContext(GX),u),T=$e.useRef(),P=$e.useRef();tY(function(){var S={name:n,state:{},stylesCreator:c,stylesOptions:w,theme:b};return QX(S,g),P.current=!1,T.current=S,function(){ZX(S)}},[b,c]),$e.useEffect(function(){P.current&&JX(T.current,g),P.current=!0});var k=qX(T.current,g.classes,i);return k};return f}function nY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var G_={},rY={get exports(){return G_},set exports(t){G_=t}},Oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn=typeof Symbol=="function"&&Symbol.for,lT=Bn?Symbol.for("react.element"):60103,cT=Bn?Symbol.for("react.portal"):60106,my=Bn?Symbol.for("react.fragment"):60107,yy=Bn?Symbol.for("react.strict_mode"):60108,wy=Bn?Symbol.for("react.profiler"):60114,xy=Bn?Symbol.for("react.provider"):60109,by=Bn?Symbol.for("react.context"):60110,hT=Bn?Symbol.for("react.async_mode"):60111,_y=Bn?Symbol.for("react.concurrent_mode"):60111,Sy=Bn?Symbol.for("react.forward_ref"):60112,Ey=Bn?Symbol.for("react.suspense"):60113,iY=Bn?Symbol.for("react.suspense_list"):60120,Ty=Bn?Symbol.for("react.memo"):60115,ky=Bn?Symbol.for("react.lazy"):60116,oY=Bn?Symbol.for("react.block"):60121,sY=Bn?Symbol.for("react.fundamental"):60117,aY=Bn?Symbol.for("react.responder"):60118,uY=Bn?Symbol.for("react.scope"):60119;function di(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lT:switch(t=t.type,t){case hT:case _y:case my:case wy:case yy:case Ey:return t;default:switch(t=t&&t.$$typeof,t){case by:case Sy:case ky:case Ty:case xy:return t;default:return e}}case cT:return e}}}function ZF(t){return di(t)===_y}Oe.AsyncMode=hT;Oe.ConcurrentMode=_y;Oe.ContextConsumer=by;Oe.ContextProvider=xy;Oe.Element=lT;Oe.ForwardRef=Sy;Oe.Fragment=my;Oe.Lazy=ky;Oe.Memo=Ty;Oe.Portal=cT;Oe.Profiler=wy;Oe.StrictMode=yy;Oe.Suspense=Ey;Oe.isAsyncMode=function(t){return ZF(t)||di(t)===hT};Oe.isConcurrentMode=ZF;Oe.isContextConsumer=function(t){return di(t)===by};Oe.isContextProvider=function(t){return di(t)===xy};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lT};Oe.isForwardRef=function(t){return di(t)===Sy};Oe.isFragment=function(t){return di(t)===my};Oe.isLazy=function(t){return di(t)===ky};Oe.isMemo=function(t){return di(t)===Ty};Oe.isPortal=function(t){return di(t)===cT};Oe.isProfiler=function(t){return di(t)===wy};Oe.isStrictMode=function(t){return di(t)===yy};Oe.isSuspense=function(t){return di(t)===Ey};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===my||t===_y||t===wy||t===yy||t===Ey||t===iY||typeof t=="object"&&t!==null&&(t.$$typeof===ky||t.$$typeof===Ty||t.$$typeof===xy||t.$$typeof===by||t.$$typeof===Sy||t.$$typeof===sY||t.$$typeof===aY||t.$$typeof===uY||t.$$typeof===oY)};Oe.typeOf=di;(function(t){t.exports=Oe})(rY);var fT=G_,lY={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cY={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dT={};dT[fT.ForwardRef]=hY;dT[fT.Memo]=tj;function QM(t){return fT.isMemo(t)?tj:dT[t.$$typeof]||lY}var fY=Object.defineProperty,dY=Object.getOwnPropertyNames,JM=Object.getOwnPropertySymbols,pY=Object.getOwnPropertyDescriptor,vY=Object.getPrototypeOf,ZM=Object.prototype;function ej(t,e,n){if(typeof e!="string"){if(ZM){var r=vY(e);r&&r!==ZM&&ej(t,r,n)}var i=dY(e);JM&&(i=i.concat(JM(e)));for(var o=QM(t),a=QM(e),u=0;u<i.length;++u){var c=i[u];if(!cY[c]&&!(n&&n[c])&&!(a&&a[c])&&!(o&&o[c])){var h=pY(e,c);try{fY(t,c,h)}catch{}}}}return t}var gY=ej,mY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){var i=n.defaultTheme,o=n.withTheme,a=o===void 0?!1:o,u=n.name,c=ve(n,["defaultTheme","withTheme","name"]),h=u,f=eY(e,Ct({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:h},c)),v=$e.forwardRef(function(b,w){b.classes;var T=b.innerRef,P=ve(b,["classes","innerRef"]),k=f(Ct({},r.defaultProps,b)),S,C=P;return(typeof u=="string"||a)&&(S=gy()||i,u&&(C=FF({theme:S,name:u,props:P})),a&&!C.theme&&(C.theme=S)),$e.createElement(r,Ct({ref:T||w,classes:k},C))});return gY(v,r),v}};const yY=mY;var ws=["xs","sm","md","lg","xl"];function wY(t){var e=t.values,n=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,i=r===void 0?"px":r,o=t.step,a=o===void 0?5:o,u=ve(t,["values","unit","step"]);function c(b){var w=typeof n[b]=="number"?n[b]:b;return"@media (min-width:".concat(w).concat(i,")")}function h(b){var w=ws.indexOf(b)+1,T=n[ws[w]];if(w===ws.length)return c("xs");var P=typeof T=="number"&&w>0?T:b;return"@media (max-width:".concat(P-a/100).concat(i,")")}function f(b,w){var T=ws.indexOf(w);return T===ws.length-1?c(b):"@media (min-width:".concat(typeof n[b]=="number"?n[b]:b).concat(i,") and ")+"(max-width:".concat((T!==-1&&typeof n[ws[T+1]]=="number"?n[ws[T+1]]:w)-a/100).concat(i,")")}function v(b){return f(b,b)}function g(b){return n[b]}return Ct({keys:ws,values:n,up:c,down:h,between:f,only:v,width:g},u)}function xY(t,e,n){var r;return Ct({gutters:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Ct({paddingLeft:e(2),paddingRight:e(2)},o,xg({},t.up("sm"),Ct({paddingLeft:e(3),paddingRight:e(3)},o[t.up("sm")])))},toolbar:(r={minHeight:56},xg(r,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),xg(r,t.up("sm"),{minHeight:64}),r)},n)}var bY={black:"#000",white:"#fff"};const em=bY;var _Y={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const pT=_Y;var SY={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const Gb=SY;var EY={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const Hb=EY;var TY={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const Kb=TY;var kY={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const Xb=kY;var CY={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const Yb=CY;var IY={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const qb=IY;function vT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,t),n)}function AY(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function PY(t){t=wu(t);var e=t,n=e.values,r=n[0],i=n[1]/100,o=n[2]/100,a=i*Math.min(o,1-o),u=function(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(v+r/30)%12;return o-a*Math.max(Math.min(g-3,9-g,1),-1)},c="rgb",h=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(c+="a",h.push(n[3])),Cy({type:c,values:h})}function wu(t){if(t.type)return t;if(t.charAt(0)==="#")return wu(AY(t));var e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(lc(3,t));var r=t.substring(e+1,t.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:n,values:r}}function Cy(t){var e=t.type,n=t.values;return e.indexOf("rgb")!==-1?n=n.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function RY(t,e){var n=tO(t),r=tO(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function tO(t){t=wu(t);var e=t.type==="hsl"?wu(PY(t)).values:t.values;return e=e.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Na(t,e){return t=wu(t),e=vT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.values[3]=e,Cy(t)}function MY(t,e){if(t=wu(t),e=vT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]*=1-e;return Cy(t)}function OY(t,e){if(t=wu(t),e=vT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return Cy(t)}var eO={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:em.white,default:pT[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qb={text:{primary:em.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:pT[800],default:"#303030"},action:{active:em.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function nO(t,e,n,r){var i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=OY(t.main,i):e==="dark"&&(t.dark=MY(t.main,o)))}function NY(t){var e=t.primary,n=e===void 0?{light:Gb[300],main:Gb[500],dark:Gb[700]}:e,r=t.secondary,i=r===void 0?{light:Hb.A200,main:Hb.A400,dark:Hb.A700}:r,o=t.error,a=o===void 0?{light:Kb[300],main:Kb[500],dark:Kb[700]}:o,u=t.warning,c=u===void 0?{light:Xb[300],main:Xb[500],dark:Xb[700]}:u,h=t.info,f=h===void 0?{light:Yb[300],main:Yb[500],dark:Yb[700]}:h,v=t.success,g=v===void 0?{light:qb[300],main:qb[500],dark:qb[700]}:v,b=t.type,w=b===void 0?"light":b,T=t.contrastThreshold,P=T===void 0?3:T,k=t.tonalOffset,S=k===void 0?.2:k,C=ve(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function D(F){var M=RY(F,Qb.text.primary)>=P?Qb.text.primary:eO.text.primary;return M}var U=function(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(M=Ct({},M),!M.main&&M[I]&&(M.main=M[I]),!M.main)throw new Error(lc(4,I));if(typeof M.main!="string")throw new Error(lc(5,JSON.stringify(M.main)));return nO(M,"light",A,S),nO(M,"dark",E,S),M.contrastText||(M.contrastText=D(M.main)),M},$={dark:Qb,light:eO},H=uc(Ct({common:em,type:w,primary:U(n),secondary:U(i,"A400","A200","A700"),error:U(a),warning:U(c),info:U(f),success:U(g),grey:pT,contrastThreshold:P,getContrastText:D,augmentColor:U,tonalOffset:S},$[w]),C);return H}function nj(t){return Math.round(t*1e5)/1e5}function DY(t){return nj(t)}var rO={textTransform:"uppercase"},iO='"Roboto", "Helvetica", "Arial", sans-serif';function LY(t,e){var n=typeof e=="function"?e(t):e,r=n.fontFamily,i=r===void 0?iO:r,o=n.fontSize,a=o===void 0?14:o,u=n.fontWeightLight,c=u===void 0?300:u,h=n.fontWeightRegular,f=h===void 0?400:h,v=n.fontWeightMedium,g=v===void 0?500:v,b=n.fontWeightBold,w=b===void 0?700:b,T=n.htmlFontSize,P=T===void 0?16:T,k=n.allVariants,S=n.pxToRem,C=ve(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),D=a/14,U=S||function(F){return"".concat(F/P*D,"rem")},$=function(M,I,A,E,x){return Ct({fontFamily:i,fontWeight:M,fontSize:U(I),lineHeight:A},i===iO?{letterSpacing:"".concat(nj(E/I),"em")}:{},x,k)},H={h1:$(c,96,1.167,-1.5),h2:$(c,60,1.2,-.5),h3:$(f,48,1.167,0),h4:$(f,34,1.235,.25),h5:$(f,24,1.334,0),h6:$(g,20,1.6,.15),subtitle1:$(f,16,1.75,.15),subtitle2:$(g,14,1.57,.1),body1:$(f,16,1.5,.15),body2:$(f,14,1.43,.15),button:$(g,14,1.75,.4,rO),caption:$(f,12,1.66,.4),overline:$(f,12,2.66,1,rO)};return uc(Ct({htmlFontSize:P,pxToRem:U,round:DY,fontFamily:i,fontSize:a,fontWeightLight:c,fontWeightRegular:f,fontWeightMedium:g,fontWeightBold:w},H),C,{clone:!1})}var FY=.2,jY=.14,BY=.12;function He(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(FY,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(jY,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(BY,")")].join(",")}var UY=["none",He(0,2,1,-1,0,1,1,0,0,1,3,0),He(0,3,1,-2,0,2,2,0,0,1,5,0),He(0,3,3,-2,0,3,4,0,0,1,8,0),He(0,2,4,-1,0,4,5,0,0,1,10,0),He(0,3,5,-1,0,5,8,0,0,1,14,0),He(0,3,5,-1,0,6,10,0,0,1,18,0),He(0,4,5,-2,0,7,10,1,0,2,16,1),He(0,5,5,-3,0,8,10,1,0,3,14,2),He(0,5,6,-3,0,9,12,1,0,3,16,2),He(0,6,6,-3,0,10,14,1,0,4,18,3),He(0,6,7,-4,0,11,15,1,0,4,20,3),He(0,7,8,-4,0,12,17,2,0,5,22,4),He(0,7,8,-4,0,13,19,2,0,5,24,4),He(0,7,9,-4,0,14,21,2,0,5,26,4),He(0,8,9,-5,0,15,22,2,0,6,28,5),He(0,8,10,-5,0,16,24,2,0,6,30,5),He(0,8,11,-5,0,17,26,2,0,6,32,5),He(0,9,11,-5,0,18,28,2,0,7,34,6),He(0,9,12,-6,0,19,29,2,0,7,36,6),He(0,10,13,-6,0,20,31,3,0,8,38,7),He(0,10,13,-6,0,21,33,3,0,8,40,7),He(0,10,14,-6,0,22,35,3,0,8,42,7),He(0,11,14,-7,0,23,36,3,0,9,44,8),He(0,11,15,-7,0,24,38,3,0,9,46,8)];const zY=UY;var $Y={borderRadius:4};const VY=$Y;function WY(t){if(Array.isArray(t))return t}function GY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(f){h=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(h)throw i}}return u}}function HY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rj(t,e){return WY(t)||GY(t,e)||XF(t,e)||HY()}function KY(t){var e=t.spacing||8;return typeof e=="number"?function(n){return e*n}:Array.isArray(e)?function(n){return e[n]}:typeof e=="function"?e:function(){}}function XY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(t.mui)return t;var e=KY({spacing:t}),n=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.length===0?e(1):o.length===1?e(o[0]):o.map(function(u){if(typeof u=="string")return u;var c=e(u);return typeof c=="number"?"".concat(c,"px"):c}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var oO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},sO={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function aO(t){return"".concat(Math.round(t),"ms")}const YY={easing:oO,duration:sO,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,i=r===void 0?sO.standard:r,o=n.easing,a=o===void 0?oO.easeInOut:o,u=n.delay,c=u===void 0?0:u;return ve(n,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(h){return"".concat(h," ").concat(typeof i=="string"?i:aO(i)," ").concat(a," ").concat(typeof c=="string"?c:aO(c))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var n=e/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var qY={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const ij=qY;function QY(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.breakpoints,n=e===void 0?{}:e,r=t.mixins,i=r===void 0?{}:r,o=t.palette,a=o===void 0?{}:o,u=t.spacing,c=t.typography,h=c===void 0?{}:c,f=ve(t,["breakpoints","mixins","palette","spacing","typography"]),v=NY(a),g=wY(n),b=XY(u),w=uc({breakpoints:g,direction:"ltr",mixins:xY(g,b,i),overrides:{},palette:v,props:{},shadows:zY,typography:LY(v,h),spacing:b,shape:VY,transitions:YY,zIndex:ij},f),T=arguments.length,P=new Array(T>1?T-1:0),k=1;k<T;k++)P[k-1]=arguments[k];return w=P.reduce(function(S,C){return uc(S,C)},w),w}var JY=QY();const oj=JY;function mn(t,e){return yY(t,Ct({defaultTheme:oj},e))}function ti(t){if(typeof t!="string")throw new Error(lc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function id(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Vr(t,e){return ut.useMemo(function(){return t==null&&e==null?null:function(n){id(t,n),id(e,n)}},[t,e])}function sj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,n;function r(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=this,c=function(){t.apply(u,o)};clearTimeout(n),n=setTimeout(c,e)}return r.clear=function(){clearTimeout(n)},r}function Wv(t,e){return parseInt(t[e],10)||0}var ZY=typeof window<"u"?ut.useLayoutEffect:ut.useEffect,t8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},e8=ut.forwardRef(function(e,n){var r=e.onChange,i=e.rows,o=e.rowsMax,a=e.rowsMin,u=e.maxRows,c=e.minRows,h=c===void 0?1:c,f=e.style,v=e.value,g=ve(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),b=u||o,w=i||a||h,T=ut.useRef(v!=null),P=T.current,k=ut.useRef(null),S=Vr(n,k),C=ut.useRef(null),D=ut.useRef(0),U=ut.useState({}),$=U[0],H=U[1],F=ut.useCallback(function(){var I=k.current,A=window.getComputedStyle(I),E=C.current;E.style.width=A.width,E.value=I.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");var x=A["box-sizing"],m=Wv(A,"padding-bottom")+Wv(A,"padding-top"),p=Wv(A,"border-bottom-width")+Wv(A,"border-top-width"),y=E.scrollHeight-m;E.value="x";var R=E.scrollHeight-m,_=y;w&&(_=Math.max(Number(w)*R,_)),b&&(_=Math.min(Number(b)*R,_)),_=Math.max(_,R);var L=_+(x==="border-box"?m+p:0),z=Math.abs(_-y)<=1;H(function(K){return D.current<20&&(L>0&&Math.abs((K.outerHeightStyle||0)-L)>1||K.overflow!==z)?(D.current+=1,{overflow:z,outerHeightStyle:L}):K})},[b,w,e.placeholder]);ut.useEffect(function(){var I=sj(function(){D.current=0,F()});return window.addEventListener("resize",I),function(){I.clear(),window.removeEventListener("resize",I)}},[F]),ZY(function(){F()}),ut.useEffect(function(){D.current=0},[v]);var M=function(A){D.current=0,P||F(),r&&r(A)};return ut.createElement(ut.Fragment,null,ut.createElement("textarea",Ct({value:v,onChange:M,ref:S,rows:w,style:Ct({height:$.outerHeightStyle,overflow:$.overflow?"hidden":null},f)},g)),ut.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:C,tabIndex:-1,style:Ct({},t8.shadow,f)}))});const n8=e8;function uO(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function gT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return t&&(uO(t.value)&&t.value!==""||e&&uO(t.defaultValue)&&t.defaultValue!=="")}function r8(t){return t.startAdornment}var i8=function(e){var n=e.palette.type==="light",r={color:"currentColor",opacity:n?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:n?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Ct({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),"&$marginDense":{paddingTop:4-1}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:4-1},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},o8=typeof window>"u"?ut.useEffect:ut.useLayoutEffect,s8=ut.forwardRef(function(e,n){var r=e["aria-describedby"],i=e.autoComplete,o=e.autoFocus,a=e.classes,u=e.className;e.color;var c=e.defaultValue,h=e.disabled,f=e.endAdornment;e.error;var v=e.fullWidth,g=v===void 0?!1:v,b=e.id,w=e.inputComponent,T=w===void 0?"input":w,P=e.inputProps,k=P===void 0?{}:P,S=e.inputRef;e.margin;var C=e.multiline,D=C===void 0?!1:C,U=e.name,$=e.onBlur,H=e.onChange,F=e.onClick,M=e.onFocus,I=e.onKeyDown,A=e.onKeyUp,E=e.placeholder,x=e.readOnly,m=e.renderSuffix,p=e.rows,y=e.rowsMax,R=e.rowsMin,_=e.maxRows,L=e.minRows,z=e.startAdornment,K=e.type,X=K===void 0?"text":K,O=e.value,j=ve(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),W=k.value!=null?k.value:O,q=ut.useRef(W!=null),Q=q.current,B=ut.useRef(),Y=ut.useCallback(function(xt){},[]),G=Vr(k.ref,Y),Z=Vr(S,G),J=Vr(B,Z),et=ut.useState(!1),nt=et[0],at=et[1],st=q6(),mt=jc({props:e,muiFormControl:st,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});mt.focused=st?st.focused:nt,ut.useEffect(function(){!st&&h&&nt&&(at(!1),$&&$())},[st,h,nt,$]);var wt=st&&st.onFilled,yt=st&&st.onEmpty,gt=ut.useCallback(function(xt){gT(xt)?wt&&wt():yt&&yt()},[wt,yt]);o8(function(){Q&&gt({value:W})},[W,gt,Q]);var bt=function(St){if(mt.disabled){St.stopPropagation();return}M&&M(St),k.onFocus&&k.onFocus(St),st&&st.onFocus?st.onFocus(St):at(!0)},ht=function(St){$&&$(St),k.onBlur&&k.onBlur(St),st&&st.onBlur?st.onBlur(St):at(!1)},it=function(St){if(!Q){var Lt=St.target||B.current;if(Lt==null)throw new Error(lc(1));gt({value:Lt.value})}for(var Kt=arguments.length,Tt=new Array(Kt>1?Kt-1:0),At=1;At<Kt;At++)Tt[At-1]=arguments[At];k.onChange&&k.onChange.apply(k,[St].concat(Tt)),H&&H.apply(void 0,[St].concat(Tt))};ut.useEffect(function(){gt(B.current)},[]);var ot=function(St){B.current&&St.currentTarget===St.target&&B.current.focus(),F&&F(St)},ct=T,ft=Ct({},k,{ref:J});typeof ct!="string"?ft=Ct({inputRef:J,type:X},ft,{ref:null}):D?p&&!_&&!L&&!y&&!R?ct="textarea":(ft=Ct({minRows:p||L,rowsMax:y,maxRows:_},ft),ct=n8):ft=Ct({type:X},ft);var vt=function(St){gt(St.animationName==="mui-auto-fill-cancel"?B.current:{value:"x"})};return ut.useEffect(function(){st&&st.setAdornedStart(Boolean(z))},[st,z]),ut.createElement("div",Ct({className:Te(a.root,a["color".concat(ti(mt.color||"primary"))],u,mt.disabled&&a.disabled,mt.error&&a.error,g&&a.fullWidth,mt.focused&&a.focused,st&&a.formControl,D&&a.multiline,z&&a.adornedStart,f&&a.adornedEnd,mt.margin==="dense"&&a.marginDense),onClick:ot,ref:n},j),z,ut.createElement(eT.Provider,{value:null},ut.createElement(ct,Ct({"aria-invalid":mt.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:c,disabled:mt.disabled,id:b,onAnimationStart:vt,name:U,placeholder:E,readOnly:x,required:mt.required,rows:p,value:W,onKeyDown:I,onKeyUp:A},ft,{className:Te(a.input,k.className,mt.disabled&&a.disabled,D&&a.inputMultiline,mt.hiddenLabel&&a.inputHiddenLabel,z&&a.inputAdornedStart,f&&a.inputAdornedEnd,X==="search"&&a.inputTypeSearch,mt.margin==="dense"&&a.inputMarginDense),onBlur:ht,onChange:it,onFocus:bt}))),f,m?m(Ct({},mt,{startAdornment:z})):null)});const mT=mn(i8,{name:"MuiInputBase"})(s8);var a8=function(e){var n=e.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},aj=ut.forwardRef(function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,a=o===void 0?!1:o,u=e.inputComponent,c=u===void 0?"input":u,h=e.multiline,f=h===void 0?!1:h,v=e.type,g=v===void 0?"text":v,b=ve(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return ut.createElement(mT,Ct({classes:Ct({},i,{root:Te(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:f,ref:n,type:g},b))});aj.muiName="Input";const yT=mn(a8,{name:"MuiInput"})(aj);var u8=function(e){var n=e.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},uj=ut.forwardRef(function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,a=o===void 0?!1:o,u=e.inputComponent,c=u===void 0?"input":u,h=e.multiline,f=h===void 0?!1:h,v=e.type,g=v===void 0?"text":v,b=ve(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return ut.createElement(mT,Ct({classes:Ct({},i,{root:Te(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:f,ref:n,type:g},b))});uj.muiName="Input";const lj=mn(u8,{name:"MuiFilledInput"})(uj);function wT(){var t=gy()||oj;return t}var l8=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},c8=ut.forwardRef(function(e,n){e.children;var r=e.classes,i=e.className,o=e.label,a=e.labelWidth,u=e.notched,c=e.style,h=ve(e,["children","classes","className","label","labelWidth","notched","style"]),f=wT(),v=f.direction==="rtl"?"right":"left";if(o!==void 0)return ut.createElement("fieldset",Ct({"aria-hidden":!0,className:Te(r.root,i),ref:n,style:c},h),ut.createElement("legend",{className:Te(r.legendLabelled,u&&r.legendNotched)},o?ut.createElement("span",null,o):ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=a>0?a*.75+8:.01;return ut.createElement("fieldset",Ct({"aria-hidden":!0,style:Ct(xg({},"padding".concat(ti(v)),8),c),className:Te(r.root,i),ref:n},h),ut.createElement("legend",{className:r.legend,style:{width:u?g:.01}},ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const h8=mn(l8,{name:"PrivateNotchedOutline"})(c8);var f8=function(e){var n=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:n}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:n},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},cj=ut.forwardRef(function(e,n){var r=e.classes,i=e.fullWidth,o=i===void 0?!1:i,a=e.inputComponent,u=a===void 0?"input":a,c=e.label,h=e.labelWidth,f=h===void 0?0:h,v=e.multiline,g=v===void 0?!1:v,b=e.notched,w=e.type,T=w===void 0?"text":w,P=ve(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return ut.createElement(mT,Ct({renderSuffix:function(S){return ut.createElement(h8,{className:r.notchedOutline,label:c,labelWidth:f,notched:typeof b<"u"?b:Boolean(S.startAdornment||S.filled||S.focused)})},classes:Ct({},r,{root:Te(r.root,r.underline),notchedOutline:null}),fullWidth:o,inputComponent:u,multiline:g,ref:n,type:T},P))});cj.muiName="Input";const hj=mn(f8,{name:"MuiOutlinedInput"})(cj);function Xd(){return ut.useContext(eT)}var d8=function(e){return{root:Ct({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},p8=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className;e.color;var a=e.component,u=a===void 0?"label":a;e.disabled,e.error,e.filled,e.focused,e.required;var c=ve(e,["children","classes","className","color","component","disabled","error","filled","focused","required"]),h=Xd(),f=jc({props:e,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]});return ut.createElement(u,Ct({className:Te(i.root,i["color".concat(ti(f.color||"primary"))],o,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required),ref:n},c),r,f.required&&ut.createElement("span",{"aria-hidden":!0,className:Te(i.asterisk,f.error&&i.error)}," ","*"))});const v8=mn(d8,{name:"MuiFormLabel"})(p8);var g8=function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},m8=ut.forwardRef(function(e,n){var r=e.classes,i=e.className,o=e.disableAnimation,a=o===void 0?!1:o;e.margin;var u=e.shrink;e.variant;var c=ve(e,["classes","className","disableAnimation","margin","shrink","variant"]),h=Xd(),f=u;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);var v=jc({props:e,muiFormControl:h,states:["margin","variant"]});return ut.createElement(v8,Ct({"data-shrink":f,className:Te(r.root,i,h&&r.formControl,!a&&r.animated,f&&r.shrink,v.margin==="dense"&&r.marginDense,{filled:r.filled,outlined:r.outlined}[v.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},c))});const y8=mn(g8,{name:"MuiInputLabel"})(m8);function Jb(t,e){return ut.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}var w8={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},x8=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,u=a===void 0?"primary":a,c=e.component,h=c===void 0?"div":c,f=e.disabled,v=f===void 0?!1:f,g=e.error,b=g===void 0?!1:g,w=e.fullWidth,T=w===void 0?!1:w,P=e.focused,k=e.hiddenLabel,S=k===void 0?!1:k,C=e.margin,D=C===void 0?"none":C,U=e.required,$=U===void 0?!1:U,H=e.size,F=e.variant,M=F===void 0?"standard":F,I=ve(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),A=ut.useState(function(){var W=!1;return r&&ut.Children.forEach(r,function(q){if(Jb(q,["Input","Select"])){var Q=Jb(q,["Select"])?q.props.input:q;Q&&r8(Q.props)&&(W=!0)}}),W}),E=A[0],x=A[1],m=ut.useState(function(){var W=!1;return r&&ut.Children.forEach(r,function(q){Jb(q,["Input","Select"])&&gT(q.props,!0)&&(W=!0)}),W}),p=m[0],y=m[1],R=ut.useState(!1),_=R[0],L=R[1],z=P!==void 0?P:_;v&&z&&L(!1);var K,X=ut.useCallback(function(){y(!0)},[]),O=ut.useCallback(function(){y(!1)},[]),j={adornedStart:E,setAdornedStart:x,color:u,disabled:v,error:b,filled:p,focused:z,fullWidth:T,hiddenLabel:S,margin:(H==="small"?"dense":void 0)||D,onBlur:function(){L(!1)},onEmpty:O,onFilled:X,onFocus:function(){L(!0)},registerEffect:K,required:$,variant:M};return ut.createElement(eT.Provider,{value:j},ut.createElement(h,Ct({className:Te(i.root,o,D!=="none"&&i["margin".concat(ti(D))],T&&i.fullWidth),ref:n},I),r))});const b8=mn(w8,{name:"MuiFormControl"})(x8);var _8=function(e){return{root:Ct({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},S8=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.component,u=a===void 0?"p":a;e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant;var c=ve(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"]),h=Xd(),f=jc({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return ut.createElement(u,Ct({className:Te(i.root,(f.variant==="filled"||f.variant==="outlined")&&i.contained,o,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required,f.margin==="dense"&&i.marginDense),ref:n},c),r===" "?ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)});const E8=mn(_8,{name:"MuiFormHelperText"})(S8);function Zo(t){return t&&t.ownerDocument||document}function fj(t){var e=Zo(t);return e.defaultView||window}function H_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(r,i){return i==null?r:function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];r.apply(this,u),i.apply(this,u)}},function(){})}function T8(t){return t=typeof t=="function"?t():t,Ai.findDOMNode(t)}var Zb=typeof window<"u"?ut.useLayoutEffect:ut.useEffect,k8=ut.forwardRef(function(e,n){var r=e.children,i=e.container,o=e.disablePortal,a=o===void 0?!1:o,u=e.onRendered,c=ut.useState(null),h=c[0],f=c[1],v=Vr(ut.isValidElement(r)?r.ref:null,n);return Zb(function(){a||f(T8(i)||document.body)},[i,a]),Zb(function(){if(h&&!a)return id(n,h),function(){id(n,null)}},[n,h,a]),Zb(function(){u&&(h||a)&&u()},[u,h,a]),a?ut.isValidElement(r)?ut.cloneElement(r,{ref:v}):r:h&&Ai.createPortal(r,h)});const C8=k8;var I8=typeof window<"u"?ut.useLayoutEffect:ut.useEffect;function Ya(t){var e=ut.useRef(t);return I8(function(){e.current=t}),ut.useCallback(function(){return e.current.apply(void 0,arguments)},[])}function dj(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function A8(t){var e=Zo(t);return e.body===t?fj(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Tf(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function lO(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function cO(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[e,n].concat(sT(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(u){u.nodeType===1&&o.indexOf(u)===-1&&a.indexOf(u.tagName)===-1&&Tf(u,i)})}function t1(t,e){var n=-1;return t.some(function(r,i){return e(r)?(n=i,!0):!1}),n}function P8(t,e){var n=[],r=[],i=t.container,o;if(!e.disableScrollLock){if(A8(i)){var a=dj();n.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(lO(i)+a,"px"),o=Zo(i).querySelectorAll(".mui-fixed"),[].forEach.call(o,function(f){r.push(f.style.paddingRight),f.style.paddingRight="".concat(lO(f)+a,"px")})}var u=i.parentElement,c=u.nodeName==="HTML"&&window.getComputedStyle(u)["overflow-y"]==="scroll"?u:i;n.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}var h=function(){o&&[].forEach.call(o,function(v,g){r[g]?v.style.paddingRight=r[g]:v.style.removeProperty("padding-right")}),n.forEach(function(v){var g=v.value,b=v.el,w=v.key;g?b.style.setProperty(w,g):b.style.removeProperty(w)})};return h}function R8(t){var e=[];return[].forEach.call(t.children,function(n){n.getAttribute&&n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}var M8=function(){function t(){nY(this,t),this.modals=[],this.containers=[]}return nT(t,[{key:"add",value:function(n,r){var i=this.modals.indexOf(n);if(i!==-1)return i;i=this.modals.length,this.modals.push(n),n.modalRef&&Tf(n.modalRef,!1);var o=R8(r);cO(r,n.mountNode,n.modalRef,o,!0);var a=t1(this.containers,function(u){return u.container===r});return a!==-1?(this.containers[a].modals.push(n),i):(this.containers.push({modals:[n],container:r,restore:null,hiddenSiblingNodes:o}),i)}},{key:"mount",value:function(n,r){var i=t1(this.containers,function(a){return a.modals.indexOf(n)!==-1}),o=this.containers[i];o.restore||(o.restore=P8(o,r))}},{key:"remove",value:function(n){var r=this.modals.indexOf(n);if(r===-1)return r;var i=t1(this.containers,function(u){return u.modals.indexOf(n)!==-1}),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(n),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),n.modalRef&&Tf(n.modalRef,!0),cO(o.container,n.mountNode,n.modalRef,o.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var a=o.modals[o.modals.length-1];a.modalRef&&Tf(a.modalRef,!1)}return r}},{key:"isTopModal",value:function(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}]),t}();function O8(t){var e=t.children,n=t.disableAutoFocus,r=n===void 0?!1:n,i=t.disableEnforceFocus,o=i===void 0?!1:i,a=t.disableRestoreFocus,u=a===void 0?!1:a,c=t.getDoc,h=t.isEnabled,f=t.open,v=ut.useRef(),g=ut.useRef(null),b=ut.useRef(null),w=ut.useRef(),T=ut.useRef(null),P=ut.useCallback(function(C){T.current=Ai.findDOMNode(C)},[]),k=Vr(e.ref,P),S=ut.useRef();return ut.useEffect(function(){S.current=f},[f]),!S.current&&f&&typeof window<"u"&&(w.current=c().activeElement),ut.useEffect(function(){if(f){var C=Zo(T.current);!r&&T.current&&!T.current.contains(C.activeElement)&&(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex",-1),T.current.focus());var D=function(){var F=T.current;if(F!==null){if(!C.hasFocus()||o||!h()||v.current){v.current=!1;return}T.current&&!T.current.contains(C.activeElement)&&T.current.focus()}},U=function(F){o||!h()||F.keyCode!==9||C.activeElement===T.current&&(v.current=!0,F.shiftKey?b.current.focus():g.current.focus())};C.addEventListener("focus",D,!0),C.addEventListener("keydown",U,!0);var $=setInterval(function(){D()},50);return function(){clearInterval($),C.removeEventListener("focus",D,!0),C.removeEventListener("keydown",U,!0),u||(w.current&&w.current.focus&&w.current.focus(),w.current=null)}}},[r,o,u,h,f]),ut.createElement(ut.Fragment,null,ut.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelStart"}),ut.cloneElement(e,{ref:k}),ut.createElement("div",{tabIndex:0,ref:b,"data-test":"sentinelEnd"}))}var hO={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},N8=ut.forwardRef(function(e,n){var r=e.invisible,i=r===void 0?!1:r,o=e.open,a=ve(e,["invisible","open"]);return o?ut.createElement("div",Ct({"aria-hidden":!0,ref:n},a,{style:Ct({},hO.root,i?hO.invisible:{},a.style)})):null});const D8=N8;function L8(t){return t=typeof t=="function"?t():t,Ai.findDOMNode(t)}function F8(t){return t.children?t.children.props.hasOwnProperty("in"):!1}var j8=new M8,B8=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},U8=ut.forwardRef(function(e,n){var r=gy(),i=FF({name:"MuiModal",props:Ct({},e),theme:r}),o=i.BackdropComponent,a=o===void 0?D8:o,u=i.BackdropProps,c=i.children,h=i.closeAfterTransition,f=h===void 0?!1:h,v=i.container,g=i.disableAutoFocus,b=g===void 0?!1:g,w=i.disableBackdropClick,T=w===void 0?!1:w,P=i.disableEnforceFocus,k=P===void 0?!1:P,S=i.disableEscapeKeyDown,C=S===void 0?!1:S,D=i.disablePortal,U=D===void 0?!1:D,$=i.disableRestoreFocus,H=$===void 0?!1:$,F=i.disableScrollLock,M=F===void 0?!1:F,I=i.hideBackdrop,A=I===void 0?!1:I,E=i.keepMounted,x=E===void 0?!1:E,m=i.manager,p=m===void 0?j8:m,y=i.onBackdropClick,R=i.onClose,_=i.onEscapeKeyDown,L=i.onRendered,z=i.open,K=ve(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),X=ut.useState(!0),O=X[0],j=X[1],W=ut.useRef({}),q=ut.useRef(null),Q=ut.useRef(null),B=Vr(Q,n),Y=F8(i),G=function(){return Zo(q.current)},Z=function(){return W.current.modalRef=Q.current,W.current.mountNode=q.current,W.current},J=function(){p.mount(Z(),{disableScrollLock:M}),Q.current.scrollTop=0},et=Ya(function(){var it=L8(v)||G().body;p.add(Z(),it),Q.current&&J()}),nt=ut.useCallback(function(){return p.isTopModal(Z())},[p]),at=Ya(function(it){q.current=it,it&&(L&&L(),z&&nt()?J():Tf(Q.current,!0))}),st=ut.useCallback(function(){p.remove(Z())},[p]);if(ut.useEffect(function(){return function(){st()}},[st]),ut.useEffect(function(){z?et():(!Y||!f)&&st()},[z,st,Y,f,et]),!x&&!z&&(!Y||O))return null;var mt=function(){j(!1)},wt=function(){j(!0),f&&st()},yt=function(ot){ot.target===ot.currentTarget&&(y&&y(ot),!T&&R&&R(ot,"backdropClick"))},gt=function(ot){ot.key!=="Escape"||!nt()||(_&&_(ot),C||(ot.stopPropagation(),R&&R(ot,"escapeKeyDown")))},bt=B8(r||{zIndex:ij}),ht={};return c.props.tabIndex===void 0&&(ht.tabIndex=c.props.tabIndex||"-1"),Y&&(ht.onEnter=H_(mt,c.props.onEnter),ht.onExited=H_(wt,c.props.onExited)),ut.createElement(C8,{ref:at,container:v,disablePortal:U},ut.createElement("div",Ct({ref:B,onKeyDown:gt,role:"presentation"},K,{style:Ct({},bt.root,!z&&O?bt.hidden:{},K.style)}),A?null:ut.createElement(a,Ct({open:z,onClick:yt},u)),ut.createElement(O8,{disableEnforceFocus:k,disableAutoFocus:b,disableRestoreFocus:H,getDoc:G,isEnabled:nt,open:z},ut.cloneElement(c,ht))))});const z8=U8,fO={disabled:!1},nm=$e.createContext(null);var $8=function(e){return e.scrollTop},hf="unmounted",ja="exited",Ba="entering",Tl="entered",K_="exiting",os=function(t){py(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,u=a&&!a.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?u?(c=ja,o.appearStatus=Ba):c=Tl:r.unmountOnExit||r.mountOnEnter?c=hf:c=ja,o.state={status:c},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===hf?{status:ja}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Ba&&a!==Tl&&(o=Ba):(a===Ba||a===Tl)&&(o=K_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,u;return o=a=u=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,u=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:u}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ba){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:uf.findDOMNode(this);a&&$8(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ja&&this.setState({status:hf})},n.performEnter=function(i){var o=this,a=this.props.enter,u=this.context?this.context.isMounting:i,c=this.props.nodeRef?[u]:[uf.findDOMNode(this),u],h=c[0],f=c[1],v=this.getTimeouts(),g=u?v.appear:v.enter;if(!i&&!a||fO.disabled){this.safeSetState({status:Tl},function(){o.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Ba},function(){o.props.onEntering(h,f),o.onTransitionEnd(g,function(){o.safeSetState({status:Tl},function(){o.props.onEntered(h,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:uf.findDOMNode(this);if(!o||fO.disabled){this.safeSetState({status:ja},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:K_},function(){i.props.onExiting(u),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:ja},function(){i.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:uf.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===hf)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=hy(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $e.createElement(nm.Provider,{value:null},typeof a=="function"?a(i,u):$e.cloneElement($e.Children.only(a),u))},e}($e.Component);os.contextType=nm;os.propTypes={};function xl(){}os.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xl,onEntering:xl,onEntered:xl,onExit:xl,onExiting:xl,onExited:xl};os.UNMOUNTED=hf;os.EXITED=ja;os.ENTERING=Ba;os.ENTERED=Tl;os.EXITING=K_;const V8=os;function xT(t,e){var n=function(o){return e&&ut.isValidElement(o)?e(o):o},r=Object.create(null);return t&&ut.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function W8(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a,u={};for(var c in e){if(r[c])for(a=0;a<r[c].length;a++){var h=r[c][a];u[r[c][a]]=n(h)}u[c]=n(c)}for(a=0;a<i.length;a++)u[i[a]]=n(i[a]);return u}function qa(t,e,n){return n[e]!=null?n[e]:t.props[e]}function G8(t,e){return xT(t.children,function(n){return ut.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:qa(n,"appear",t),enter:qa(n,"enter",t),exit:qa(n,"exit",t)})})}function H8(t,e,n){var r=xT(t.children),i=W8(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(ut.isValidElement(a)){var u=o in e,c=o in r,h=e[o],f=ut.isValidElement(h)&&!h.props.in;c&&(!u||f)?i[o]=ut.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:qa(a,"exit",t),enter:qa(a,"enter",t)}):!c&&u&&!f?i[o]=ut.cloneElement(a,{in:!1}):c&&u&&ut.isValidElement(h)&&(i[o]=ut.cloneElement(a,{onExited:n.bind(null,a),in:h.props.in,exit:qa(a,"exit",t),enter:qa(a,"enter",t)}))}}),i}var K8=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},X8={component:"div",childFactory:function(e){return e}},bT=function(t){py(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=o.handleExited.bind(N_(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var a=o.children,u=o.handleExited,c=o.firstRender;return{children:c?G8(i,u):H8(i,a,u),firstRender:!1}},n.handleExited=function(i,o){var a=xT(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(u){var c=Ct({},u.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,u=hy(i,["component","childFactory"]),c=this.state.contextValue,h=K8(this.state.children).map(a);return delete u.appear,delete u.enter,delete u.exit,o===null?$e.createElement(nm.Provider,{value:c},h):$e.createElement(nm.Provider,{value:c},$e.createElement(o,u,h))},e}($e.Component);bT.propTypes={};bT.defaultProps=X8;const Y8=bT;var q8=function(e){return e.scrollTop};function dO(t,e){var n=t.timeout,r=t.style,i=r===void 0?{}:r;return{duration:i.transitionDuration||typeof n=="number"?n:n[e.mode]||0,delay:i.transitionDelay}}function X_(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var Q8={entering:{opacity:1,transform:X_(1)},entered:{opacity:1,transform:"none"}},pj=ut.forwardRef(function(e,n){var r=e.children,i=e.disableStrictModeCompat,o=i===void 0?!1:i,a=e.in,u=e.onEnter,c=e.onEntered,h=e.onEntering,f=e.onExit,v=e.onExited,g=e.onExiting,b=e.style,w=e.timeout,T=w===void 0?"auto":w,P=e.TransitionComponent,k=P===void 0?V8:P,S=ve(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=ut.useRef(),D=ut.useRef(),U=wT(),$=U.unstable_strictMode&&!o,H=ut.useRef(null),F=Vr(r.ref,n),M=Vr($?H:void 0,F),I=function(L){return function(z,K){if(L){var X=$?[H.current,z]:[z,K],O=rj(X,2),j=O[0],W=O[1];W===void 0?L(j):L(j,W)}}},A=I(h),E=I(function(_,L){q8(_);var z=dO({style:b,timeout:T},{mode:"enter"}),K=z.duration,X=z.delay,O;T==="auto"?(O=U.transitions.getAutoHeightDuration(_.clientHeight),D.current=O):O=K,_.style.transition=[U.transitions.create("opacity",{duration:O,delay:X}),U.transitions.create("transform",{duration:O*.666,delay:X})].join(","),u&&u(_,L)}),x=I(c),m=I(g),p=I(function(_){var L=dO({style:b,timeout:T},{mode:"exit"}),z=L.duration,K=L.delay,X;T==="auto"?(X=U.transitions.getAutoHeightDuration(_.clientHeight),D.current=X):X=z,_.style.transition=[U.transitions.create("opacity",{duration:X,delay:K}),U.transitions.create("transform",{duration:X*.666,delay:K||X*.333})].join(","),_.style.opacity="0",_.style.transform=X_(.75),f&&f(_)}),y=I(v),R=function(L,z){var K=$?L:z;T==="auto"&&(C.current=setTimeout(K,D.current||0))};return ut.useEffect(function(){return function(){clearTimeout(C.current)}},[]),ut.createElement(k,Ct({appear:!0,in:a,nodeRef:$?H:void 0,onEnter:E,onEntered:x,onEntering:A,onExit:p,onExited:y,onExiting:m,addEndListener:R,timeout:T==="auto"?null:T},S),function(_,L){return ut.cloneElement(r,Ct({style:Ct({opacity:0,transform:X_(.75),visibility:_==="exited"&&!a?"hidden":void 0},Q8[_],b,r.props.style),ref:M},L))})});pj.muiSupportAuto=!0;const J8=pj;var Z8=function(e){var n={};return e.shadows.forEach(function(r,i){n["elevation".concat(i)]={boxShadow:r}}),Ct({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},n)},tq=ut.forwardRef(function(e,n){var r=e.classes,i=e.className,o=e.component,a=o===void 0?"div":o,u=e.square,c=u===void 0?!1:u,h=e.elevation,f=h===void 0?1:h,v=e.variant,g=v===void 0?"elevation":v,b=ve(e,["classes","className","component","square","elevation","variant"]);return ut.createElement(a,Ct({className:Te(r.root,i,g==="outlined"?r.outlined:r["elevation".concat(f)],!c&&r.rounded),ref:n},b))});const eq=mn(Z8,{name:"MuiPaper"})(tq);function pO(t,e){var n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function vO(t,e){var n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function gO(t){return[t.horizontal,t.vertical].map(function(e){return typeof e=="number"?"".concat(e,"px"):e}).join(" ")}function nq(t,e){for(var n=e,r=0;n&&n!==t;)n=n.parentElement,r+=n.scrollTop;return r}function e1(t){return typeof t=="function"?t():t}var rq={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},iq=ut.forwardRef(function(e,n){var r=e.action,i=e.anchorEl,o=e.anchorOrigin,a=o===void 0?{vertical:"top",horizontal:"left"}:o,u=e.anchorPosition,c=e.anchorReference,h=c===void 0?"anchorEl":c,f=e.children,v=e.classes,g=e.className,b=e.container,w=e.elevation,T=w===void 0?8:w,P=e.getContentAnchorEl,k=e.marginThreshold,S=k===void 0?16:k,C=e.onEnter,D=e.onEntered,U=e.onEntering,$=e.onExit,H=e.onExited,F=e.onExiting,M=e.open,I=e.PaperProps,A=I===void 0?{}:I,E=e.transformOrigin,x=E===void 0?{vertical:"top",horizontal:"left"}:E,m=e.TransitionComponent,p=m===void 0?J8:m,y=e.transitionDuration,R=y===void 0?"auto":y,_=e.TransitionProps,L=_===void 0?{}:_,z=ve(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),K=ut.useRef(),X=ut.useCallback(function(Z){if(h==="anchorPosition")return u;var J=e1(i),et=J&&J.nodeType===1?J:Zo(K.current).body,nt=et.getBoundingClientRect(),at=Z===0?a.vertical:"center";return{top:nt.top+pO(nt,at),left:nt.left+vO(nt,a.horizontal)}},[i,a.horizontal,a.vertical,u,h]),O=ut.useCallback(function(Z){var J=0;if(P&&h==="anchorEl"){var et=P(Z);if(et&&Z.contains(et)){var nt=nq(Z,et);J=et.offsetTop+et.clientHeight/2-nt||0}}return J},[a.vertical,h,P]),j=ut.useCallback(function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:pO(Z,x.vertical)+J,horizontal:vO(Z,x.horizontal)}},[x.horizontal,x.vertical]),W=ut.useCallback(function(Z){var J=O(Z),et={width:Z.offsetWidth,height:Z.offsetHeight},nt=j(et,J);if(h==="none")return{top:null,left:null,transformOrigin:gO(nt)};var at=X(J),st=at.top-nt.vertical,mt=at.left-nt.horizontal,wt=st+et.height,yt=mt+et.width,gt=fj(e1(i)),bt=gt.innerHeight-S,ht=gt.innerWidth-S;if(st<S){var it=st-S;st-=it,nt.vertical+=it}else if(wt>bt){var ot=wt-bt;st-=ot,nt.vertical+=ot}if(mt<S){var ct=mt-S;mt-=ct,nt.horizontal+=ct}else if(yt>ht){var ft=yt-ht;mt-=ft,nt.horizontal+=ft}return{top:"".concat(Math.round(st),"px"),left:"".concat(Math.round(mt),"px"),transformOrigin:gO(nt)}},[i,h,X,O,j,S]),q=ut.useCallback(function(){var Z=K.current;if(Z){var J=W(Z);J.top!==null&&(Z.style.top=J.top),J.left!==null&&(Z.style.left=J.left),Z.style.transformOrigin=J.transformOrigin}},[W]),Q=function(J,et){U&&U(J,et),q()},B=ut.useCallback(function(Z){K.current=Ai.findDOMNode(Z)},[]);ut.useEffect(function(){M&&q()}),ut.useImperativeHandle(r,function(){return M?{updatePosition:function(){q()}}:null},[M,q]),ut.useEffect(function(){if(M){var Z=sj(function(){q()});return window.addEventListener("resize",Z),function(){Z.clear(),window.removeEventListener("resize",Z)}}},[M,q]);var Y=R;R==="auto"&&!p.muiSupportAuto&&(Y=void 0);var G=b||(i?Zo(e1(i)).body:void 0);return ut.createElement(z8,Ct({container:G,open:M,ref:n,BackdropProps:{invisible:!0},className:Te(v.root,g)},z),ut.createElement(p,Ct({appear:!0,in:M,onEnter:C,onEntered:D,onExit:$,onExited:H,onExiting:F,timeout:Y},L,{onEntering:H_(Q,L.onEntering)}),ut.createElement(eq,Ct({elevation:T,ref:B},A,{className:Te(v.paper,A.className)}),f)))});const oq=mn(rq,{name:"MuiPopover"})(iq);var sq=ut.createContext({});const aq=sq;var uq={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},lq=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.component,u=a===void 0?"ul":a,c=e.dense,h=c===void 0?!1:c,f=e.disablePadding,v=f===void 0?!1:f,g=e.subheader,b=ve(e,["children","classes","className","component","dense","disablePadding","subheader"]),w=ut.useMemo(function(){return{dense:h}},[h]);return ut.createElement(aq.Provider,{value:w},ut.createElement(u,Ct({className:Te(i.root,o,h&&i.dense,!v&&i.padding,g&&i.subheader),ref:n},b),g,r))});const cq=mn(uq,{name:"MuiList"})(lq);function n1(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function mO(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function vj(t,e){if(e===void 0)return!0;var n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Yh(t,e,n,r,i,o){for(var a=!1,u=i(t,e,e?n:!1);u;){if(u===t.firstChild){if(a)return;a=!0}var c=r?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!vj(u,o)||c)u=i(t,u,n);else{u.focus();return}}}var hq=typeof window>"u"?ut.useEffect:ut.useLayoutEffect,fq=ut.forwardRef(function(e,n){var r=e.actions,i=e.autoFocus,o=i===void 0?!1:i,a=e.autoFocusItem,u=a===void 0?!1:a,c=e.children,h=e.className,f=e.disabledItemsFocusable,v=f===void 0?!1:f,g=e.disableListWrap,b=g===void 0?!1:g,w=e.onKeyDown,T=e.variant,P=T===void 0?"selectedMenu":T,k=ve(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),S=ut.useRef(null),C=ut.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});hq(function(){o&&S.current.focus()},[o]),ut.useImperativeHandle(r,function(){return{adjustStyleForScrollbar:function(I,A){var E=!S.current.style.width;if(I.clientHeight<S.current.clientHeight&&E){var x="".concat(dj(),"px");S.current.style[A.direction==="rtl"?"paddingLeft":"paddingRight"]=x,S.current.style.width="calc(100% + ".concat(x,")")}return S.current}}},[]);var D=function(I){var A=S.current,E=I.key,x=Zo(A).activeElement;if(E==="ArrowDown")I.preventDefault(),Yh(A,x,b,v,n1);else if(E==="ArrowUp")I.preventDefault(),Yh(A,x,b,v,mO);else if(E==="Home")I.preventDefault(),Yh(A,null,b,v,n1);else if(E==="End")I.preventDefault(),Yh(A,null,b,v,mO);else if(E.length===1){var m=C.current,p=E.toLowerCase(),y=performance.now();m.keys.length>0&&(y-m.lastTime>500?(m.keys=[],m.repeating=!0,m.previousKeyMatched=!0):m.repeating&&p!==m.keys[0]&&(m.repeating=!1)),m.lastTime=y,m.keys.push(p);var R=x&&!m.repeating&&vj(x,m);m.previousKeyMatched&&(R||Yh(A,x,!1,v,n1,m))?I.preventDefault():m.previousKeyMatched=!1}w&&w(I)},U=ut.useCallback(function(M){S.current=Ai.findDOMNode(M)},[]),$=Vr(U,n),H=-1;ut.Children.forEach(c,function(M,I){ut.isValidElement(M)&&(M.props.disabled||(P==="selectedMenu"&&M.props.selected||H===-1)&&(H=I))});var F=ut.Children.map(c,function(M,I){if(I===H){var A={};return u&&(A.autoFocus=!0),M.props.tabIndex===void 0&&P==="selectedMenu"&&(A.tabIndex=0),ut.cloneElement(M,A)}return M});return ut.createElement(cq,Ct({role:"menu",ref:$,className:h,onKeyDown:D,tabIndex:o?0:-1},k),F)});const dq=fq;var yO={vertical:"top",horizontal:"right"},wO={vertical:"top",horizontal:"left"},pq={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},vq=ut.forwardRef(function(e,n){var r=e.autoFocus,i=r===void 0?!0:r,o=e.children,a=e.classes,u=e.disableAutoFocusItem,c=u===void 0?!1:u,h=e.MenuListProps,f=h===void 0?{}:h,v=e.onClose,g=e.onEntering,b=e.open,w=e.PaperProps,T=w===void 0?{}:w,P=e.PopoverClasses,k=e.transitionDuration,S=k===void 0?"auto":k,C=e.TransitionProps;C=C===void 0?{}:C;var D=C.onEntering,U=ve(C,["onEntering"]),$=e.variant,H=$===void 0?"selectedMenu":$,F=ve(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),M=wT(),I=i&&!c&&b,A=ut.useRef(null),E=ut.useRef(null),x=function(){return E.current},m=function(L,z){A.current&&A.current.adjustStyleForScrollbar(L,M),g&&g(L,z),D&&D(L,z)},p=function(L){L.key==="Tab"&&(L.preventDefault(),v&&v(L,"tabKeyDown"))},y=-1;ut.Children.map(o,function(_,L){ut.isValidElement(_)&&(_.props.disabled||(H!=="menu"&&_.props.selected||y===-1)&&(y=L))});var R=ut.Children.map(o,function(_,L){return L===y?ut.cloneElement(_,{ref:function(K){E.current=Ai.findDOMNode(K),id(_.ref,K)}}):_});return ut.createElement(oq,Ct({getContentAnchorEl:x,classes:P,onClose:v,TransitionProps:Ct({onEntering:m},U),anchorOrigin:M.direction==="rtl"?yO:wO,transformOrigin:M.direction==="rtl"?yO:wO,PaperProps:Ct({},T,{classes:Ct({},T.classes,{root:a.paper})}),open:b,ref:n,transitionDuration:S},F),ut.createElement(dq,Ct({onKeyDown:p,actions:A,autoFocus:i&&(y===-1||c),autoFocusItem:I,variant:H},f,{className:Te(a.list,f.className)}),R))});const gq=mn(pq,{name:"MuiMenu"})(vq);function mq(t){var e=t.controlled,n=t.default;t.name,t.state;var r=ut.useRef(e!==void 0),i=r.current,o=ut.useState(n),a=o[0],u=o[1],c=i?e:a,h=ut.useCallback(function(f){i||u(f)},[]);return[c,h]}function xO(t,e){return yu(e)==="object"&&e!==null?t===e:String(t)===String(e)}function yq(t){return t==null||typeof t=="string"&&!t.trim()}var wq=ut.forwardRef(function(e,n){var r=e["aria-label"],i=e.autoFocus,o=e.autoWidth,a=e.children,u=e.classes,c=e.className,h=e.defaultValue,f=e.disabled,v=e.displayEmpty,g=e.IconComponent,b=e.inputRef,w=e.labelId,T=e.MenuProps,P=T===void 0?{}:T,k=e.multiple,S=e.name,C=e.onBlur,D=e.onChange,U=e.onClose,$=e.onFocus,H=e.onOpen,F=e.open,M=e.readOnly,I=e.renderValue,A=e.SelectDisplayProps,E=A===void 0?{}:A,x=e.tabIndex;e.type;var m=e.value,p=e.variant,y=p===void 0?"standard":p,R=ve(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),_=mq({controlled:m,default:h,name:"Select"}),L=rj(_,2),z=L[0],K=L[1],X=ut.useRef(null),O=ut.useState(null),j=O[0],W=O[1],q=ut.useRef(F!=null),Q=q.current,B=ut.useState(),Y=B[0],G=B[1],Z=ut.useState(!1),J=Z[0],et=Z[1],nt=Vr(n,b);ut.useImperativeHandle(nt,function(){return{focus:function(){j.focus()},node:X.current,value:z}},[j,z]),ut.useEffect(function(){i&&j&&j.focus()},[i,j]),ut.useEffect(function(){if(j){var Tt=Zo(j).getElementById(w);if(Tt){var At=function(){getSelection().isCollapsed&&j.focus()};return Tt.addEventListener("click",At),function(){Tt.removeEventListener("click",At)}}}},[w,j]);var at=function(At,Wt){At?H&&H(Wt):U&&U(Wt),Q||(G(o?null:j.clientWidth),et(At))},st=function(At){At.button===0&&(At.preventDefault(),j.focus(),at(!0,At))},mt=function(At){at(!1,At)},wt=ut.Children.toArray(a),yt=function(At){var Wt=wt.map(function(te){return te.props.value}).indexOf(At.target.value);if(Wt!==-1){var Bt=wt[Wt];K(Bt.props.value),D&&D(At,Bt)}},gt=function(At){return function(Wt){k||at(!1,Wt);var Bt;if(k){Bt=Array.isArray(z)?z.slice():[];var te=z.indexOf(At.props.value);te===-1?Bt.push(At.props.value):Bt.splice(te,1)}else Bt=At.props.value;At.props.onClick&&At.props.onClick(Wt),z!==Bt&&(K(Bt),D&&(Wt.persist(),Object.defineProperty(Wt,"target",{writable:!0,value:{value:Bt,name:S}}),D(Wt,At)))}},bt=function(At){if(!M){var Wt=[" ","ArrowUp","ArrowDown","Enter"];Wt.indexOf(At.key)!==-1&&(At.preventDefault(),at(!0,At))}},ht=j!==null&&(Q?F:J),it=function(At){!ht&&C&&(At.persist(),Object.defineProperty(At,"target",{writable:!0,value:{value:z,name:S}}),C(At))};delete R["aria-invalid"];var ot,ct,ft=[],vt=!1;(gT({value:z})||v)&&(I?ot=I(z):vt=!0);var xt=wt.map(function(Tt){if(!ut.isValidElement(Tt))return null;var At;if(k){if(!Array.isArray(z))throw new Error(lc(2));At=z.some(function(Wt){return xO(Wt,Tt.props.value)}),At&&vt&&ft.push(Tt.props.children)}else At=xO(z,Tt.props.value),At&&vt&&(ct=Tt.props.children);return ut.cloneElement(Tt,{"aria-selected":At?"true":void 0,onClick:gt(Tt),onKeyUp:function(Bt){Bt.key===" "&&Bt.preventDefault(),Tt.props.onKeyUp&&Tt.props.onKeyUp(Bt)},role:"option",selected:At,value:void 0,"data-value":Tt.props.value})});vt&&(ot=k?ft.join(", "):ct);var St=Y;!o&&Q&&j&&(St=j.clientWidth);var Lt;typeof x<"u"?Lt=x:Lt=f?null:0;var Kt=E.id||(S?"mui-component-select-".concat(S):void 0);return ut.createElement(ut.Fragment,null,ut.createElement("div",Ct({className:Te(u.root,u.select,u.selectMenu,u[y],c,f&&u.disabled),ref:W,tabIndex:Lt,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ht?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[w,Kt].filter(Boolean).join(" ")||void 0,onKeyDown:bt,onMouseDown:f||M?null:st,onBlur:it,onFocus:$},E,{id:Kt}),yq(ot)?ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ot),ut.createElement("input",Ct({value:Array.isArray(z)?z.join(","):z,name:S,ref:X,"aria-hidden":!0,onChange:yt,tabIndex:-1,className:u.nativeInput,autoFocus:i},R)),ut.createElement(g,{className:Te(u.icon,u["icon".concat(ti(y))],ht&&u.iconOpen,f&&u.disabled)}),ut.createElement(gq,Ct({id:"menu-".concat(S||""),anchorEl:j,open:ht,onClose:mt},P,{MenuListProps:Ct({"aria-labelledby":w,role:"listbox",disableListWrap:!0},P.MenuListProps),PaperProps:Ct({},P.PaperProps,{style:Ct({minWidth:St},P.PaperProps!=null?P.PaperProps.style:null)})}),xt))});const xq=wq;var bq=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},gj=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,u=a===void 0?"inherit":a,c=e.component,h=c===void 0?"svg":c,f=e.fontSize,v=f===void 0?"medium":f,g=e.htmlColor,b=e.titleAccess,w=e.viewBox,T=w===void 0?"0 0 24 24":w,P=ve(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return ut.createElement(h,Ct({className:Te(i.root,o,u!=="inherit"&&i["color".concat(ti(u))],v!=="default"&&v!=="medium"&&i["fontSize".concat(ti(v))]),focusable:"false",viewBox:T,color:g,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:n},P),r,b?ut.createElement("title",null,b):null)});gj.muiName="SvgIcon";const bO=mn(bq,{name:"MuiSvgIcon"})(gj);function _q(t,e){var n=function(i,o){return $e.createElement(bO,Ct({ref:o},i),t)};return n.muiName=bO.muiName,$e.memo($e.forwardRef(n))}const mj=_q(ut.createElement("path",{d:"M7 10l5 5 5-5z"}));var Sq=ut.forwardRef(function(e,n){var r=e.classes,i=e.className,o=e.disabled,a=e.IconComponent,u=e.inputRef,c=e.variant,h=c===void 0?"standard":c,f=ve(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return ut.createElement(ut.Fragment,null,ut.createElement("select",Ct({className:Te(r.root,r.select,r[h],i,o&&r.disabled),disabled:o,ref:u||n},f)),e.multiple?null:ut.createElement(a,{className:Te(r.icon,r["icon".concat(ti(h))],o&&r.disabled)}))});const yj=Sq;var wj=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Eq=ut.createElement(yT,null),xj=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.IconComponent,a=o===void 0?mj:o,u=e.input,c=u===void 0?Eq:u,h=e.inputProps;e.variant;var f=ve(e,["children","classes","IconComponent","input","inputProps","variant"]),v=Xd(),g=jc({props:e,muiFormControl:v,states:["variant"]});return ut.cloneElement(c,Ct({inputComponent:yj,inputProps:Ct({children:r,classes:i,IconComponent:a,variant:g.variant,type:void 0},h,c?c.props.inputProps:{}),ref:n},f))});xj.muiName="Select";mn(wj,{name:"MuiNativeSelect"})(xj);var Tq=wj,kq=ut.createElement(yT,null),Cq=ut.createElement(lj,null),bj=ut.forwardRef(function t(e,n){var r=e.autoWidth,i=r===void 0?!1:r,o=e.children,a=e.classes,u=e.displayEmpty,c=u===void 0?!1:u,h=e.IconComponent,f=h===void 0?mj:h,v=e.id,g=e.input,b=e.inputProps,w=e.label,T=e.labelId,P=e.labelWidth,k=P===void 0?0:P,S=e.MenuProps,C=e.multiple,D=C===void 0?!1:C,U=e.native,$=U===void 0?!1:U,H=e.onClose,F=e.onOpen,M=e.open,I=e.renderValue,A=e.SelectDisplayProps,E=e.variant,x=E===void 0?"standard":E,m=ve(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),p=$?yj:xq,y=Xd(),R=jc({props:e,muiFormControl:y,states:["variant"]}),_=R.variant||x,L=g||{standard:kq,outlined:ut.createElement(hj,{label:w,labelWidth:k}),filled:Cq}[_];return ut.cloneElement(L,Ct({inputComponent:p,inputProps:Ct({children:o,IconComponent:f,variant:_,type:void 0,multiple:D},$?{id:v}:{autoWidth:i,displayEmpty:c,labelId:T,MenuProps:S,onClose:H,onOpen:F,open:M,renderValue:I,SelectDisplayProps:Ct({id:v},A)},b,{classes:b?uT({baseClasses:a,newClasses:b.classes,Component:t}):a},g?g.props.inputProps:{}),ref:n},m))});bj.muiName="Select";const Iq=mn(Tq,{name:"MuiSelect"})(bj);var Aq={standard:yT,filled:lj,outlined:hj},Pq={root:{}},Rq=ut.forwardRef(function(e,n){var r=e.autoComplete,i=e.autoFocus,o=i===void 0?!1:i,a=e.children,u=e.classes,c=e.className,h=e.color,f=h===void 0?"primary":h,v=e.defaultValue,g=e.disabled,b=g===void 0?!1:g,w=e.error,T=w===void 0?!1:w,P=e.FormHelperTextProps,k=e.fullWidth,S=k===void 0?!1:k,C=e.helperText,D=e.hiddenLabel,U=e.id,$=e.InputLabelProps,H=e.inputProps,F=e.InputProps,M=e.inputRef,I=e.label,A=e.multiline,E=A===void 0?!1:A,x=e.name,m=e.onBlur,p=e.onChange,y=e.onFocus,R=e.placeholder,_=e.required,L=_===void 0?!1:_,z=e.rows,K=e.rowsMax,X=e.maxRows,O=e.minRows,j=e.select,W=j===void 0?!1:j,q=e.SelectProps,Q=e.type,B=e.value,Y=e.variant,G=Y===void 0?"standard":Y,Z=ve(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),J={};if(G==="outlined"&&($&&typeof $.shrink<"u"&&(J.notched=$.shrink),I)){var et,nt=(et=$==null?void 0:$.required)!==null&&et!==void 0?et:L;J.label=ut.createElement(ut.Fragment,null,I,nt&&" *")}W&&((!q||!q.native)&&(J.id=void 0),J["aria-describedby"]=void 0);var at=C&&U?"".concat(U,"-helper-text"):void 0,st=I&&U?"".concat(U,"-label"):void 0,mt=Aq[G],wt=ut.createElement(mt,Ct({"aria-describedby":at,autoComplete:r,autoFocus:o,defaultValue:v,fullWidth:S,multiline:E,name:x,rows:z,rowsMax:K,maxRows:X,minRows:O,type:Q,value:B,id:U,inputRef:M,onBlur:m,onChange:p,onFocus:y,placeholder:R,inputProps:H},J,F));return ut.createElement(b8,Ct({className:Te(u.root,c),disabled:b,error:T,fullWidth:S,hiddenLabel:D,ref:n,required:L,color:f,variant:G},Z),I&&ut.createElement(y8,Ct({htmlFor:U,id:st},$),I),W?ut.createElement(Iq,Ct({"aria-describedby":at,id:U,labelId:st,value:B,input:wt},q),a):wt,C&&ut.createElement(E8,Ct({id:at},P),C))});const _O=mn(Pq,{name:"MuiTextField"})(Rq);var Iy=!0,Y_=!1,SO=null,Mq={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Oq(t){var e=t.type,n=t.tagName;return!!(n==="INPUT"&&Mq[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Nq(t){t.metaKey||t.altKey||t.ctrlKey||(Iy=!0)}function r1(){Iy=!1}function Dq(){this.visibilityState==="hidden"&&Y_&&(Iy=!0)}function Lq(t){t.addEventListener("keydown",Nq,!0),t.addEventListener("mousedown",r1,!0),t.addEventListener("pointerdown",r1,!0),t.addEventListener("touchstart",r1,!0),t.addEventListener("visibilitychange",Dq,!0)}function Fq(t){var e=t.target;try{return e.matches(":focus-visible")}catch{}return Iy||Oq(e)}function jq(){Y_=!0,window.clearTimeout(SO),SO=window.setTimeout(function(){Y_=!1},100)}function Bq(){var t=ut.useCallback(function(e){var n=Ai.findDOMNode(e);n!=null&&Lq(n.ownerDocument)},[]);return{isFocusVisible:Fq,onBlurVisible:jq,ref:t}}var Uq=typeof window>"u"?ut.useEffect:ut.useLayoutEffect;function zq(t){var e=t.classes,n=t.pulsate,r=n===void 0?!1:n,i=t.rippleX,o=t.rippleY,a=t.rippleSize,u=t.in,c=t.onExited,h=c===void 0?function(){}:c,f=t.timeout,v=ut.useState(!1),g=v[0],b=v[1],w=Te(e.ripple,e.rippleVisible,r&&e.ripplePulsate),T={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},P=Te(e.child,g&&e.childLeaving,r&&e.childPulsate),k=Ya(h);return Uq(function(){if(!u){b(!0);var S=setTimeout(k,f);return function(){clearTimeout(S)}}},[k,u,f]),ut.createElement("span",{className:w,style:T},ut.createElement("span",{className:P}))}var q_=550,$q=80,Vq=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(q_,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(q_,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},Wq=ut.forwardRef(function(e,n){var r=e.center,i=r===void 0?!1:r,o=e.classes,a=e.className,u=ve(e,["center","classes","className"]),c=ut.useState([]),h=c[0],f=c[1],v=ut.useRef(0),g=ut.useRef(null);ut.useEffect(function(){g.current&&(g.current(),g.current=null)},[h]);var b=ut.useRef(!1),w=ut.useRef(null),T=ut.useRef(null),P=ut.useRef(null);ut.useEffect(function(){return function(){clearTimeout(w.current)}},[]);var k=ut.useCallback(function(U){var $=U.pulsate,H=U.rippleX,F=U.rippleY,M=U.rippleSize,I=U.cb;f(function(A){return[].concat(sT(A),[ut.createElement(zq,{key:v.current,classes:o,timeout:q_,pulsate:$,rippleX:H,rippleY:F,rippleSize:M})])}),v.current+=1,g.current=I},[o]),S=ut.useCallback(function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=arguments.length>2?arguments[2]:void 0,F=$.pulsate,M=F===void 0?!1:F,I=$.center,A=I===void 0?i||$.pulsate:I,E=$.fakeElement,x=E===void 0?!1:E;if(U.type==="mousedown"&&b.current){b.current=!1;return}U.type==="touchstart"&&(b.current=!0);var m=x?null:P.current,p=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0},y,R,_;if(A||U.clientX===0&&U.clientY===0||!U.clientX&&!U.touches)y=Math.round(p.width/2),R=Math.round(p.height/2);else{var L=U.touches?U.touches[0]:U,z=L.clientX,K=L.clientY;y=Math.round(z-p.left),R=Math.round(K-p.top)}if(A)_=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3),_%2===0&&(_+=1);else{var X=Math.max(Math.abs((m?m.clientWidth:0)-y),y)*2+2,O=Math.max(Math.abs((m?m.clientHeight:0)-R),R)*2+2;_=Math.sqrt(Math.pow(X,2)+Math.pow(O,2))}U.touches?T.current===null&&(T.current=function(){k({pulsate:M,rippleX:y,rippleY:R,rippleSize:_,cb:H})},w.current=setTimeout(function(){T.current&&(T.current(),T.current=null)},$q)):k({pulsate:M,rippleX:y,rippleY:R,rippleSize:_,cb:H})},[i,k]),C=ut.useCallback(function(){S({},{pulsate:!0})},[S]),D=ut.useCallback(function(U,$){if(clearTimeout(w.current),U.type==="touchend"&&T.current){U.persist(),T.current(),T.current=null,w.current=setTimeout(function(){D(U,$)});return}T.current=null,f(function(H){return H.length>0?H.slice(1):H}),g.current=$},[]);return ut.useImperativeHandle(n,function(){return{pulsate:C,start:S,stop:D}},[C,S,D]),ut.createElement("span",Ct({className:Te(o.root,a),ref:P},u),ut.createElement(Y8,{component:null,exit:!0},h))});const Gq=mn(Vq,{flip:!1,name:"MuiTouchRipple"})(ut.memo(Wq));var Hq={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},Kq=ut.forwardRef(function(e,n){var r=e.action,i=e.buttonRef,o=e.centerRipple,a=o===void 0?!1:o,u=e.children,c=e.classes,h=e.className,f=e.component,v=f===void 0?"button":f,g=e.disabled,b=g===void 0?!1:g,w=e.disableRipple,T=w===void 0?!1:w,P=e.disableTouchRipple,k=P===void 0?!1:P,S=e.focusRipple,C=S===void 0?!1:S,D=e.focusVisibleClassName,U=e.onBlur,$=e.onClick,H=e.onFocus,F=e.onFocusVisible,M=e.onKeyDown,I=e.onKeyUp,A=e.onMouseDown,E=e.onMouseLeave,x=e.onMouseUp,m=e.onTouchEnd,p=e.onTouchMove,y=e.onTouchStart,R=e.onDragLeave,_=e.tabIndex,L=_===void 0?0:_,z=e.TouchRippleProps,K=e.type,X=K===void 0?"button":K,O=ve(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),j=ut.useRef(null);function W(){return Ai.findDOMNode(j.current)}var q=ut.useRef(null),Q=ut.useState(!1),B=Q[0],Y=Q[1];b&&B&&Y(!1);var G=Bq(),Z=G.isFocusVisible,J=G.onBlurVisible,et=G.ref;ut.useImperativeHandle(r,function(){return{focusVisible:function(){Y(!0),j.current.focus()}}},[]),ut.useEffect(function(){B&&C&&!T&&q.current.pulsate()},[T,C,B]);function nt(It,Ie){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k;return Ya(function(ke){Ie&&Ie(ke);var Mr=me;return!Mr&&q.current&&q.current[It](ke),!0})}var at=nt("start",A),st=nt("stop",R),mt=nt("stop",x),wt=nt("stop",function(It){B&&It.preventDefault(),E&&E(It)}),yt=nt("start",y),gt=nt("stop",m),bt=nt("stop",p),ht=nt("stop",function(It){B&&(J(It),Y(!1)),U&&U(It)},!1),it=Ya(function(It){j.current||(j.current=It.currentTarget),Z(It)&&(Y(!0),F&&F(It)),H&&H(It)}),ot=function(){var Ie=W();return v&&v!=="button"&&!(Ie.tagName==="A"&&Ie.href)},ct=ut.useRef(!1),ft=Ya(function(It){C&&!ct.current&&B&&q.current&&It.key===" "&&(ct.current=!0,It.persist(),q.current.stop(It,function(){q.current.start(It)})),It.target===It.currentTarget&&ot()&&It.key===" "&&It.preventDefault(),M&&M(It),It.target===It.currentTarget&&ot()&&It.key==="Enter"&&!b&&(It.preventDefault(),$&&$(It))}),vt=Ya(function(It){C&&It.key===" "&&q.current&&B&&!It.defaultPrevented&&(ct.current=!1,It.persist(),q.current.stop(It,function(){q.current.pulsate(It)})),I&&I(It),$&&It.target===It.currentTarget&&ot()&&It.key===" "&&!It.defaultPrevented&&$(It)}),xt=v;xt==="button"&&O.href&&(xt="a");var St={};xt==="button"?(St.type=X,St.disabled=b):((xt!=="a"||!O.href)&&(St.role="button"),St["aria-disabled"]=b);var Lt=Vr(i,n),Kt=Vr(et,j),Tt=Vr(Lt,Kt),At=ut.useState(!1),Wt=At[0],Bt=At[1];ut.useEffect(function(){Bt(!0)},[]);var te=Wt&&!T&&!b;return ut.createElement(xt,Ct({className:Te(c.root,h,B&&[c.focusVisible,D],b&&c.disabled),onBlur:ht,onClick:$,onFocus:it,onKeyDown:ft,onKeyUp:vt,onMouseDown:at,onMouseLeave:wt,onMouseUp:mt,onDragLeave:st,onTouchEnd:gt,onTouchMove:bt,onTouchStart:yt,ref:Tt,tabIndex:b?-1:L},St,O),u,te?ut.createElement(Gq,Ct({ref:q,center:a},z)):null)});const Xq=mn(Hq,{name:"MuiButtonBase"})(Kq);var Yq=function(e){return{root:Ct({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Na(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Na(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Na(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Na(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Na(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Na(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Na(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},qq=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,u=a===void 0?"default":a,c=e.component,h=c===void 0?"button":c,f=e.disabled,v=f===void 0?!1:f,g=e.disableElevation,b=g===void 0?!1:g,w=e.disableFocusRipple,T=w===void 0?!1:w,P=e.endIcon,k=e.focusVisibleClassName,S=e.fullWidth,C=S===void 0?!1:S,D=e.size,U=D===void 0?"medium":D,$=e.startIcon,H=e.type,F=H===void 0?"button":H,M=e.variant,I=M===void 0?"text":M,A=ve(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),E=$&&ut.createElement("span",{className:Te(i.startIcon,i["iconSize".concat(ti(U))])},$),x=P&&ut.createElement("span",{className:Te(i.endIcon,i["iconSize".concat(ti(U))])},P);return ut.createElement(Xq,Ct({className:Te(i.root,i[I],o,u==="inherit"?i.colorInherit:u!=="default"&&i["".concat(I).concat(ti(u))],U!=="medium"&&[i["".concat(I,"Size").concat(ti(U))],i["size".concat(ti(U))]],b&&i.disableElevation,v&&i.disabled,C&&i.fullWidth),component:h,disabled:v,focusRipple:!T,focusVisibleClassName:Te(i.focusVisible,k),ref:n,type:F},A),ut.createElement("span",{className:i.label},E,r,x))});const Qq=mn(Yq,{name:"MuiButton"})(qq);var Q_=function(t,e){return Q_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Q_(t,e)};function jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qt=function(){return qt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qt.apply(this,arguments)};function pt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(f){try{h(r.next(f))}catch(v){a(v)}}function c(f){try{h(r.throw(f))}catch(v){a(v)}}function h(f){f.done?o(f.value):i(f.value).then(u,c)}h((r=r.apply(t,e||[])).next())})}function dt(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(h){return function(f){return c([h,f])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(f){h=[6,f],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Fn(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function se(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _j={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt=function(t,e){if(!t)throw Uc(e)},Uc=function(t){return new Error("Firebase Database ("+_j.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sj=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jq=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=o>>2,v=(o&3)<<4|u>>4,g=(u&15)<<2|h>>6,b=h&63;c||(b=64,a||(g=64)),r.push(n[f],n[v],n[g],n[b])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sj(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,u=a?n[t.charAt(i)]:0;++i;var c=i<t.length,h=c?n[t.charAt(i)]:64;++i;var f=i<t.length,v=f?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||v==null)throw Error();var g=o<<2|u>>4;if(r.push(g),h!==64){var b=u<<4&240|h>>2;if(r.push(b),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ej=function(t){var e=Sj(t);return Ay.encodeByteArray(e,!0)},EO=function(t){return Ej(t).replace(/\./g,"")},TO=function(t){try{return Ay.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){return od(void 0,t)}function od(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!Zq(r)||(t[r]=od(t[r],e[r]));return t}function Zq(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=qt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[EO(JSON.stringify(n)),EO(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xu())}function kj(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t9(){return typeof self=="object"&&self.self===self}function ET(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e9(){return xu().indexOf("Electron/")>=0}function n9(){var t=xu();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r9(){return xu().indexOf("MSAppHost/")>=0}function Ij(){return _j.NODE_ADMIN===!0}function i9(){return!kj()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yd(){return"indexedDB"in self&&indexedDB!=null}function TT(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function Aj(){return!(!navigator||!navigator.cookieEnabled)}function o9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s9="FirebaseError",zc=function(t){jt(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=s9,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ss.prototype.create),o}return e}(Error),ss=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],u=a?a9(a,i):"Error",c=this.serviceName+": "+u+" ("+o+").",h=new zc(o,c,i);return h},t}();function a9(t,e){return t.replace(u9,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var u9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return JSON.parse(t)}function _n(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kT=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=sd(TO(o[0])||""),n=sd(TO(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},l9=function(t){var e=kT(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},c9=function(t){var e=kT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h9=function(t){var e=kT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function J_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rm(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){for(var e=[],n=function(c,h){Array.isArray(h)?h.forEach(function(f){e.push(encodeURIComponent(c)+"="+encodeURIComponent(f))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],u=o[1];n(a,u)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d9=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^u&(c^h),g=1518500249):(v=u^c^h,g=1859775393):i<60?(v=u&c|h&(u|c),g=2400959708):(v=u^c^h,g=3395469782);var o=(a<<5|a>>>27)+v+f+g+r[i]&4294967295;f=h,h=c,c=(u<<30|u>>>2)&4294967295,u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();function p9(t,e){var n=new v9(t,e);return n.subscribe.bind(n)}var v9=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g9(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=i1),o.error===void 0&&(o.error=i1),o.complete===void 0&&(o.complete=i1);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function g9(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function i1(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Wr(t,e){return t+" failed: "+e+" argument "}function Rn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Wr(t,e)+"must be a valid function.")}function kO(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Wr(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m9=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Nt(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Py=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y9=1e3,w9=2,x9=4*60*60*1e3,b9=.5;function Z_(t,e,n){e===void 0&&(e=y9),n===void 0&&(n=w9);var r=e*Math.pow(n,t),i=Math.round(b9*r*(Math.random()-.5)*2);return Math.min(x9,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t){return t&&t._delegate?t._delegate:t}var dr=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pj=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Nn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(S9(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}try{for(var i=Fn(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Hn(o.value,2),u=a[0],c=a[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:h});c.resolve(f)}catch{}}}catch(v){n={error:v}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Ua),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(se(se([],Hn(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Hn(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=Ua),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=Ua),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Fn(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var f=Hn(h.value,2),v=f[0],g=f[1],b=this.normalizeInstanceIdentifier(v);a===b&&g.resolve(u)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&e(a,i),function(){o.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var a=Fn(o),u=a.next();!u.done;u=a.next()){var c=u.value;try{c(e,n)}catch{}}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:_9(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Ua),this.component?this.component.multipleInstances?e:Ua:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function _9(t){return t===Ua?void 0:t}function S9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new Pj(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Gi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da,CT=[],ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));var Mj={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},E9=ce.INFO,T9=(Da={},Da[ce.DEBUG]="log",Da[ce.VERBOSE]="log",Da[ce.INFO]="info",Da[ce.WARN]="warn",Da[ce.ERROR]="error",Da),k9=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=T9[e];if(o)console[o].apply(console,Gi(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Du=function(){function t(e){this.name=e,this._logLevel=E9,this._logHandler=k9,this._userLogHandler=null,CT.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ce))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?Mj[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gi([this,ce.DEBUG],e)),this._logHandler.apply(this,Gi([this,ce.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gi([this,ce.VERBOSE],e)),this._logHandler.apply(this,Gi([this,ce.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gi([this,ce.INFO],e)),this._logHandler.apply(this,Gi([this,ce.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gi([this,ce.WARN],e)),this._logHandler.apply(this,Gi([this,ce.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gi([this,ce.ERROR],e)),this._logHandler.apply(this,Gi([this,ce.ERROR],e))},t}();function C9(t){CT.forEach(function(e){e.setLogLevel(t)})}function I9(t,e){for(var n=function(a){var u=null;e&&e.level&&(u=Mj[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var f=[],v=2;v<arguments.length;v++)f[v-2]=arguments[v];var g=f.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");h>=(u??c.logLevel)&&t({level:ce[h].toLowerCase(),message:g,args:f,type:c.name})}},r=0,i=CT;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs,A9=(xs={},xs["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xs["bad-app-name"]="Illegal App name: '{$appName}",xs["duplicate-app"]="Firebase App named '{$appName}' already exists",xs["app-deleted"]="Firebase App named '{$appName}' already deleted",xs["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xs["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xs),kl=new ss("app","Firebase",A9),Oj="@firebase/app",P9="0.6.30",R9="@firebase/analytics",M9="@firebase/app-check",O9="@firebase/auth",N9="@firebase/database",D9="@firebase/functions",L9="@firebase/installations",F9="@firebase/messaging",j9="@firebase/performance",B9="@firebase/remote-config",U9="@firebase/storage",z9="@firebase/firestore",$9="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,im="[DEFAULT]",V9=(ir={},ir[Oj]="fire-core",ir[R9]="fire-analytics",ir[M9]="fire-app-check",ir[O9]="fire-auth",ir[N9]="fire-rtdb",ir[D9]="fire-fn",ir[L9]="fire-iid",ir[F9]="fire-fcm",ir[j9]="fire-perf",ir[B9]="fire-rc",ir[U9]="fire-gcs",ir[z9]="fire-fst",ir["fire-js"]="fire-js",ir[$9]="fire-js-all",ir);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cc=new Du("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bg=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=Tj(e),this.container=new Rj(n.name),this._addComponent(new dr("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=im),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=im),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){cc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw kl.create("app-deleted",{appName:this.name_})},t}();bg.prototype.name&&bg.prototype.options||bg.prototype.delete||console.log("dc");var W9="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:h,setLogLevel:C9,onLog:f,apps:null,SDK_VERSION:W9,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(g){delete e[g]}function o(g){if(g=g||im,!ui(e,g))throw kl.create("no-app",{appName:g});return e[g]}o.App=t;function a(g,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var w=b;b={name:w}}var T=b;T.name===void 0&&(T.name=im);var P=T.name;if(typeof P!="string"||!P)throw kl.create("bad-app-name",{appName:String(P)});if(ui(e,P))throw kl.create("duplicate-app",{appName:P});var k=new t(g,T,r);return e[P]=k,k}function u(){return Object.keys(e).map(function(g){return e[g]})}function c(g){var b=g.name;if(n.has(b))return cc.debug("There were multiple attempts to register component "+b+"."),g.type==="PUBLIC"?r[b]:null;if(n.set(b,g),g.type==="PUBLIC"){var w=function(S){if(S===void 0&&(S=o()),typeof S[b]!="function")throw kl.create("invalid-app-argument",{appName:b});return S[b]()};g.serviceProps!==void 0&&od(w,g.serviceProps),r[b]=w,t.prototype[b]=function(){for(var S=[],C=0;C<arguments.length;C++)S[C]=arguments[C];var D=this._getService.bind(this,b);return D.apply(this,g.multipleInstances?S:[])}}for(var T=0,P=Object.keys(e);T<P.length;T++){var k=P[T];e[k]._addComponent(g)}return g.type==="PUBLIC"?r[b]:null}function h(g,b,w){var T,P=(T=V9[g])!==null&&T!==void 0?T:g;w&&(P+="-"+w);var k=P.match(/\s|\//),S=b.match(/\s|\//);if(k||S){var C=['Unable to register library "'+P+'" with version "'+b+'":'];k&&C.push('library name "'+P+'" contains illegal characters (whitespace or "/")'),k&&S&&C.push("and"),S&&C.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),cc.warn(C.join(" "));return}c(new dr(P+"-version",function(){return{library:P,version:b}},"VERSION"))}function f(g,b){if(g!==null&&typeof g!="function")throw kl.create("invalid-log-argument");I9(g,b)}function v(g,b){if(b==="serverAuth")return null;var w=b;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){var t=G9(bg);t.INTERNAL=qt(qt({},t.INTERNAL),{createFirebaseNamespace:Nj,extendNamespace:e,createSubscribe:p9,ErrorFactory:ss,deepExtend:od});function e(n){od(t,n)}return t}var IT=Nj();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H9=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(K9(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function K9(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e){t.INTERNAL.registerComponent(new dr("platform-logger",function(n){return new H9(n)},"PRIVATE")),t.registerVersion(Oj,P9,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(t9()&&self.firebase!==void 0){cc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var CO=self.firebase.SDK_VERSION;CO&&CO.indexOf("LITE")>=0&&cc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var Y9=IT.initializeApp;IT.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kj()&&cc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),Y9.apply(void 0,t)};var Gt=IT;X9(Gt);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,d){s!=Array.prototype&&s!=Object.prototype&&(s[l]=d.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var l=0;l<s.length;++l){var d=s[l];if(d&&d.Math==Math)return d}return globalThis}var r=n(this);function i(s,l){if(l){var d=r;s=s.split(".");for(var N=0;N<s.length-1;N++){var V=s[N];V in d||(d[V]={}),d=d[V]}s=s[s.length-1],N=d[s],l=l(N),l!=N&&l!=null&&e(d,s,{configurable:!0,writable:!0,value:l})}}function o(s){var l=0;return function(){return l<s.length?{done:!1,value:s[l++]}:{done:!0}}}function a(s){var l=typeof Symbol<"u"&&Symbol.iterator&&s[Symbol.iterator];return l?l.call(s):{next:o(s)}}i("Promise",function(s){function l(rt){this.b=0,this.c=void 0,this.a=[];var lt=this.f();try{rt(lt.resolve,lt.reject)}catch(Et){lt.reject(Et)}}function d(){this.a=null}function N(rt){return rt instanceof l?rt:new l(function(lt){lt(rt)})}if(s)return s;d.prototype.b=function(rt){if(this.a==null){this.a=[];var lt=this;this.c(function(){lt.g()})}this.a.push(rt)};var V=r.setTimeout;d.prototype.c=function(rt){V(rt,0)},d.prototype.g=function(){for(;this.a&&this.a.length;){var rt=this.a;this.a=[];for(var lt=0;lt<rt.length;++lt){var Et=rt[lt];rt[lt]=null;try{Et()}catch(Pt){this.f(Pt)}}}this.a=null},d.prototype.f=function(rt){this.c(function(){throw rt})},l.prototype.f=function(){function rt(Pt){return function(Zt){Et||(Et=!0,Pt.call(lt,Zt))}}var lt=this,Et=!1;return{resolve:rt(this.m),reject:rt(this.g)}},l.prototype.m=function(rt){if(rt===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(rt instanceof l)this.s(rt);else{t:switch(typeof rt){case"object":var lt=rt!=null;break t;case"function":lt=!0;break t;default:lt=!1}lt?this.v(rt):this.h(rt)}},l.prototype.v=function(rt){var lt=void 0;try{lt=rt.then}catch(Et){this.g(Et);return}typeof lt=="function"?this.u(lt,rt):this.h(rt)},l.prototype.g=function(rt){this.i(2,rt)},l.prototype.h=function(rt){this.i(1,rt)},l.prototype.i=function(rt,lt){if(this.b!=0)throw Error("Cannot settle("+rt+", "+lt+"): Promise already settled in state"+this.b);this.b=rt,this.c=lt,this.l()},l.prototype.l=function(){if(this.a!=null){for(var rt=0;rt<this.a.length;++rt)tt.b(this.a[rt]);this.a=null}};var tt=new d;return l.prototype.s=function(rt){var lt=this.f();rt.Ra(lt.resolve,lt.reject)},l.prototype.u=function(rt,lt){var Et=this.f();try{rt.call(lt,Et.resolve,Et.reject)}catch(Pt){Et.reject(Pt)}},l.prototype.then=function(rt,lt){function Et(xe,In){return typeof xe=="function"?function(Do){try{Pt(xe(Do))}catch(ab){Zt(ab)}}:In}var Pt,Zt,Ae=new l(function(xe,In){Pt=xe,Zt=In});return this.Ra(Et(rt,Pt),Et(lt,Zt)),Ae},l.prototype.catch=function(rt){return this.then(void 0,rt)},l.prototype.Ra=function(rt,lt){function Et(){switch(Pt.b){case 1:rt(Pt.c);break;case 2:lt(Pt.c);break;default:throw Error("Unexpected state: "+Pt.b)}}var Pt=this;this.a==null?tt.b(Et):this.a.push(Et)},l.resolve=N,l.reject=function(rt){return new l(function(lt,Et){Et(rt)})},l.race=function(rt){return new l(function(lt,Et){for(var Pt=a(rt),Zt=Pt.next();!Zt.done;Zt=Pt.next())N(Zt.value).Ra(lt,Et)})},l.all=function(rt){var lt=a(rt),Et=lt.next();return Et.done?N([]):new l(function(Pt,Zt){function Ae(Do){return function(ab){xe[Do]=ab,In--,In==0&&Pt(xe)}}var xe=[],In=0;do xe.push(void 0),In++,N(Et.value).Ra(Ae(xe.length-1),Zt),Et=lt.next();while(!Et.done)})},l});var u=u||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,f=null;function v(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&h.test(s)?s:""}function g(){}function b(s){var l=typeof s;return l!="object"?l:s?Array.isArray(s)?"array":l:"null"}function w(s){var l=b(s);return l=="array"||l=="object"&&typeof s.length=="number"}function T(s){return b(s)=="function"}function P(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function k(s){return Object.prototype.hasOwnProperty.call(s,S)&&s[S]||(s[S]=++C)}var S="closure_uid_"+(1e9*Math.random()>>>0),C=0;function D(s,l,d){return s.call.apply(s.bind,arguments)}function U(s,l,d){if(!s)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,N),s.apply(l,V)}}return function(){return s.apply(l,arguments)}}function $(s,l,d){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$=D:$=U,$.apply(null,arguments)}function H(s,l){var d=Array.prototype.slice.call(arguments,1);return function(){var N=d.slice();return N.push.apply(N,arguments),s.apply(this,N)}}function F(s,l){function d(){}d.prototype=l.prototype,s.bb=l.prototype,s.prototype=new d,s.prototype.constructor=s}function M(s){return s}function I(s,l,d){this.code=E+s,this.message=l||x[s]||"",this.a=d||null}F(I,Error),I.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},I.prototype.toJSON=function(){return this.w()};function A(s){var l=s&&s.code;return l?new I(l.substring(E.length),s.message,s.serverResponse):null}var E="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},m={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function p(s){for(var l in m)if(m[l].id===s)return s=m[l],{firebaseEndpoint:s.Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}var y;y=p("__EID__")?"__EID__":void 0;function R(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function _(s){if(Error.captureStackTrace)Error.captureStackTrace(this,_);else{var l=Error().stack;l&&(this.stack=l)}s&&(this.message=String(s))}F(_,Error),_.prototype.name="CustomError";function L(s,l){s=s.split("%s");for(var d="",N=s.length-1,V=0;V<N;V++)d+=s[V]+(V<l.length?l[V]:"%s");_.call(this,d+s[N])}F(L,_),L.prototype.name="AssertionError";function z(s,l){throw new L("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function K(s,l){this.c=s,this.f=l,this.b=0,this.a=null}K.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function X(s,l){s.f(l),100>s.b&&(s.b++,l.next=s.a,s.a=l)}function O(){this.b=this.a=null}var j=new K(function(){return new q},function(s){s.reset()});O.prototype.add=function(s,l){var d=j.get();d.set(s,l),this.b?this.b.next=d:this.a=d,this.b=d};function W(){var s=fI,l=null;return s.a&&(l=s.a,s.a=s.a.next,s.a||(s.b=null),l.next=null),l}function q(){this.next=this.b=this.a=null}q.prototype.set=function(s,l){this.a=s,this.b=l,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var Q=Array.prototype.indexOf?function(s,l){return Array.prototype.indexOf.call(s,l,void 0)}:function(s,l){if(typeof s=="string")return typeof l!="string"||l.length!=1?-1:s.indexOf(l,0);for(var d=0;d<s.length;d++)if(d in s&&s[d]===l)return d;return-1},B=Array.prototype.forEach?function(s,l,d){Array.prototype.forEach.call(s,l,d)}:function(s,l,d){for(var N=s.length,V=typeof s=="string"?s.split(""):s,tt=0;tt<N;tt++)tt in V&&l.call(d,V[tt],tt,s)};function Y(s,l){for(var d=typeof s=="string"?s.split(""):s,N=s.length-1;0<=N;--N)N in d&&l.call(void 0,d[N],N,s)}var G=Array.prototype.filter?function(s,l){return Array.prototype.filter.call(s,l,void 0)}:function(s,l){for(var d=s.length,N=[],V=0,tt=typeof s=="string"?s.split(""):s,rt=0;rt<d;rt++)if(rt in tt){var lt=tt[rt];l.call(void 0,lt,rt,s)&&(N[V++]=lt)}return N},Z=Array.prototype.map?function(s,l){return Array.prototype.map.call(s,l,void 0)}:function(s,l){for(var d=s.length,N=Array(d),V=typeof s=="string"?s.split(""):s,tt=0;tt<d;tt++)tt in V&&(N[tt]=l.call(void 0,V[tt],tt,s));return N},J=Array.prototype.some?function(s,l){return Array.prototype.some.call(s,l,void 0)}:function(s,l){for(var d=s.length,N=typeof s=="string"?s.split(""):s,V=0;V<d;V++)if(V in N&&l.call(void 0,N[V],V,s))return!0;return!1};function et(s){t:{for(var l=WV,d=s.length,N=typeof s=="string"?s.split(""):s,V=0;V<d;V++)if(V in N&&l.call(void 0,N[V],V,s)){l=V;break t}l=-1}return 0>l?null:typeof s=="string"?s.charAt(l):s[l]}function nt(s,l){return 0<=Q(s,l)}function at(s,l){l=Q(s,l);var d;return(d=0<=l)&&Array.prototype.splice.call(s,l,1),d}function st(s,l){var d=0;Y(s,function(N,V){l.call(void 0,N,V,s)&&Array.prototype.splice.call(s,V,1).length==1&&d++})}function mt(s){return Array.prototype.concat.apply([],arguments)}function wt(s){var l=s.length;if(0<l){for(var d=Array(l),N=0;N<l;N++)d[N]=s[N];return d}return[]}var yt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},gt=/&/g,bt=/</g,ht=/>/g,it=/"/g,ot=/'/g,ct=/\x00/g,ft=/[\x00&<>"']/;function vt(s,l){return s.indexOf(l)!=-1}function xt(s,l){return s<l?-1:s>l?1:0}var St;t:{var Lt=c.navigator;if(Lt){var Kt=Lt.userAgent;if(Kt){St=Kt;break t}}St=""}function Tt(s){return vt(St,s)}function At(s,l){for(var d in s)l.call(void 0,s[d],d,s)}function Wt(s){for(var l in s)return!1;return!0}function Bt(s){var l={},d;for(d in s)l[d]=s[d];return l}var te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function It(s,l){for(var d,N,V=1;V<arguments.length;V++){N=arguments[V];for(d in N)s[d]=N[d];for(var tt=0;tt<te.length;tt++)d=te[tt],Object.prototype.hasOwnProperty.call(N,d)&&(s[d]=N[d])}}function Ie(s,l){t:{try{var d=s&&s.ownerDocument,N=d&&(d.defaultView||d.parentWindow);if(N=N||c,N.Element&&N.Location){var V=N;break t}}catch{}V=null}if(V&&typeof V[l]<"u"&&(!s||!(s instanceof V[l])&&(s instanceof V.Location||s instanceof V.Element))){if(P(s))try{var tt=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{tt="<object could not be stringified>"}else tt=s===void 0?"undefined":s===null?"null":typeof s;z("Argument is not a %s (or a non-Element, non-Location mock); got: %s",l,tt)}}function me(s,l){this.a=s===Be&&l||"",this.b=Mr}me.prototype.ta=!0,me.prototype.sa=function(){return this.a},me.prototype.toString=function(){return"Const{"+this.a+"}"};function ke(s){return s instanceof me&&s.constructor===me&&s.b===Mr?s.a:(z("expected object of type Const, got '"+s+"'"),"type_error:Const")}var Mr={},Be={},Cn;function er(){if(Cn===void 0){var s=null,l=c.trustedTypes;if(l&&l.createPolicy){try{s=l.createPolicy("goog#html",{createHTML:M,createScript:M,createScriptURL:M})}catch(d){c.console&&c.console.error(d.message)}Cn=s}else Cn=s}return Cn}function Xu(s,l){this.a=l===qC?s:""}Xu.prototype.ta=!0,Xu.prototype.sa=function(){return this.a.toString()},Xu.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function YC(s){return s instanceof Xu&&s.constructor===Xu?s.a:(z("expected object of type TrustedResourceUrl, got '"+s+"' of type "+b(s)),"type_error:TrustedResourceUrl")}function D0(s,l){var d=ke(s);if(!x$.test(d))throw Error("Invalid TrustedResourceUrl format: "+d);return s=d.replace(w$,function(N,V){if(!Object.prototype.hasOwnProperty.call(l,V))throw Error('Found marker, "'+V+'", in format string, "'+d+'", but no valid label mapping found in args: '+JSON.stringify(l));return N=l[V],N instanceof me?ke(N):encodeURIComponent(String(N))}),b$(s)}var w$=/%{(\w+)}/g,x$=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,qC={};function b$(s){var l=er();return s=l?l.createScriptURL(s):s,new Xu(s,qC)}function Or(s,l){this.a=l===ih?s:""}Or.prototype.ta=!0,Or.prototype.sa=function(){return this.a.toString()},Or.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Cp(s){return s instanceof Or&&s.constructor===Or?s.a:(z("expected object of type SafeUrl, got '"+s+"' of type "+b(s)),"type_error:SafeUrl")}var _$=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,S$=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,QC=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function JC(s){if(s instanceof Or)return s;if(s=typeof s=="object"&&s.ta?s.sa():String(s),QC.test(s))s=new Or(s,ih);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var l=s.match(S$);s=l&&_$.test(l[1])?new Or(s,ih):null}return s}function ZC(s){return s instanceof Or?s:(s=typeof s=="object"&&s.ta?s.sa():String(s),QC.test(s)||(s="about:invalid#zClosurez"),new Or(s,ih))}var ih={},tI=new Or("about:invalid#zClosurez",ih);function Yu(s,l,d){this.a=d===eI?s:""}Yu.prototype.ta=!0,Yu.prototype.sa=function(){return this.a.toString()},Yu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function E$(s){return s instanceof Yu&&s.constructor===Yu?s.a:(z("expected object of type SafeHtml, got '"+s+"' of type "+b(s)),"type_error:SafeHtml")}var eI={};function T$(s,l){Ie(s,"HTMLScriptElement"),s.src=YC(l),(l=s.ownerDocument&&s.ownerDocument.defaultView)&&l!=c?l=v(l.document):(f===null&&(f=v(c.document)),l=f),l&&s.setAttribute("nonce",l)}function nI(s,l,d,N){return s=s instanceof Or?s:ZC(s),l=l||c,d=d instanceof me?ke(d):d||"",l.open(Cp(s),d,N,void 0)}function rI(s,l){for(var d=s.split("%s"),N="",V=Array.prototype.slice.call(arguments,1);V.length&&1<d.length;)N+=d.shift()+V.shift();return N+d.join("%s")}function L0(s){return ft.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(gt,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(bt,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(ht,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(it,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(ot,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(ct,"&#0;"))),s}function F0(s){return F0[" "](s),s}F0[" "]=g;function k$(s,l){var d=P$;return Object.prototype.hasOwnProperty.call(d,s)?d[s]:d[s]=l(s)}var C$=Tt("Opera"),Di=Tt("Trident")||Tt("MSIE"),iI=Tt("Edge"),I$=iI||Di,oI=Tt("Gecko")&&!(vt(St.toLowerCase(),"webkit")&&!Tt("Edge"))&&!(Tt("Trident")||Tt("MSIE"))&&!Tt("Edge"),A$=vt(St.toLowerCase(),"webkit")&&!Tt("Edge");function sI(){var s=c.document;return s?s.documentMode:void 0}var Ip;t:{var j0="",B0=function(){var s=St;if(oI)return/rv:([^\);]+)(\)|;)/.exec(s);if(iI)return/Edge\/([\d\.]+)/.exec(s);if(Di)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(A$)return/WebKit\/(\S+)/.exec(s);if(C$)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(B0&&(j0=B0?B0[1]:""),Di){var U0=sI();if(U0!=null&&U0>parseFloat(j0)){Ip=String(U0);break t}}Ip=j0}var P$={};function aI(s){return k$(s,function(){for(var l=0,d=yt(String(Ip)).split("."),N=yt(String(s)).split("."),V=Math.max(d.length,N.length),tt=0;l==0&&tt<V;tt++){var rt=d[tt]||"",lt=N[tt]||"";do{if(rt=/(\d*)(\D*)(.*)/.exec(rt)||["","","",""],lt=/(\d*)(\D*)(.*)/.exec(lt)||["","","",""],rt[0].length==0&&lt[0].length==0)break;l=xt(rt[1].length==0?0:parseInt(rt[1],10),lt[1].length==0?0:parseInt(lt[1],10))||xt(rt[2].length==0,lt[2].length==0)||xt(rt[2],lt[2]),rt=rt[3],lt=lt[3]}while(l==0)}return 0<=l})}var z0;if(c.document&&Di){var uI=sI();z0=uI||parseInt(Ip,10)||void 0}else z0=void 0;var cs=z0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var R$=!Di||9<=Number(cs);function oh(s){var l=document;return typeof s=="string"?l.getElementById(s):s}function lI(s,l){At(l,function(d,N){d&&typeof d=="object"&&d.ta&&(d=d.sa()),N=="style"?s.style.cssText=d:N=="class"?s.className=d:N=="for"?s.htmlFor=d:cI.hasOwnProperty(N)?s.setAttribute(cI[N],d):N.lastIndexOf("aria-",0)==0||N.lastIndexOf("data-",0)==0?s.setAttribute(N,d):s[N]=d})}var cI={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function M$(s,l,d){var N=arguments,V=document,tt=String(N[0]),rt=N[1];if(!R$&&rt&&(rt.name||rt.type)){if(tt=["<",tt],rt.name&&tt.push(' name="',L0(rt.name),'"'),rt.type){tt.push(' type="',L0(rt.type),'"');var lt={};It(lt,rt),delete lt.type,rt=lt}tt.push(">"),tt=tt.join("")}return tt=Ap(V,tt),rt&&(typeof rt=="string"?tt.className=rt:Array.isArray(rt)?tt.className=rt.join(" "):lI(tt,rt)),2<N.length&&O$(V,tt,N),tt}function O$(s,l,d){function N(lt){lt&&l.appendChild(typeof lt=="string"?s.createTextNode(lt):lt)}for(var V=2;V<d.length;V++){var tt=d[V];if(!w(tt)||P(tt)&&0<tt.nodeType)N(tt);else{t:{if(tt&&typeof tt.length=="number"){if(P(tt)){var rt=typeof tt.item=="function"||typeof tt.item=="string";break t}if(T(tt)){rt=typeof tt.item=="function";break t}}rt=!1}B(rt?wt(tt):tt,N)}}}function Ap(s,l){return l=String(l),s.contentType==="application/xhtml+xml"&&(l=l.toLowerCase()),s.createElement(l)}function hI(s){c.setTimeout(function(){throw s},0)}var $0;function N$(){var s=c.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Tt("Presto")&&(s=function(){var V=Ap(document,"IFRAME");V.style.display="none",document.documentElement.appendChild(V);var tt=V.contentWindow;V=tt.document,V.open(),V.close();var rt="callImmediate"+Math.random(),lt=tt.location.protocol=="file:"?"*":tt.location.protocol+"//"+tt.location.host;V=$(function(Et){(lt=="*"||Et.origin==lt)&&Et.data==rt&&this.port1.onmessage()},this),tt.addEventListener("message",V,!1),this.port1={},this.port2={postMessage:function(){tt.postMessage(rt,lt)}}}),typeof s<"u"&&!Tt("Trident")&&!Tt("MSIE")){var l=new s,d={},N=d;return l.port1.onmessage=function(){if(d.next!==void 0){d=d.next;var V=d.Hb;d.Hb=null,V()}},function(V){N.next={Hb:V},N=N.next,l.port2.postMessage(0)}}return function(V){c.setTimeout(V,0)}}function Pp(s,l){Rp||D$(),V0||(Rp(),V0=!0),fI.add(s,l)}var Rp;function D$(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);Rp=function(){s.then(dI)}}else Rp=function(){var l=dI;!T(c.setImmediate)||c.Window&&c.Window.prototype&&!Tt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?($0||($0=N$()),$0(l)):c.setImmediate(l)}}var V0=!1,fI=new O;function dI(){for(var s;s=W();){try{s.a.call(s.b)}catch(l){hI(l)}X(j,s)}V0=!1}function he(s,l){if(this.a=va,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=g)try{var d=this;s.call(l,function(N){ga(d,sh,N)},function(N){if(!(N instanceof qu))try{throw N instanceof Error?N:Error("Promise rejected.")}catch{}ga(d,Ro,N)})}catch(N){ga(this,Ro,N)}}var va=0,sh=2,Ro=3;function pI(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}pI.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var vI=new K(function(){return new pI},function(s){s.reset()});function W0(s,l,d){var N=vI.get();return N.g=s,N.b=l,N.f=d,N}function Yt(s){if(s instanceof he)return s;var l=new he(g);return ga(l,sh,s),l}function We(s){return new he(function(l,d){d(s)})}function gI(s,l,d){xI(s,l,d,null)||Pp(H(l,s))}function L$(s){return new he(function(l,d){var N=s.length,V=[];if(N)for(var tt=function(Pt,Zt){N--,V[Pt]=Zt,N==0&&l(V)},rt=function(Pt){d(Pt)},lt=0,Et;lt<s.length;lt++)Et=s[lt],gI(Et,H(tt,lt),rt);else l(V)})}function mI(s){return new he(function(l){var d=s.length,N=[];if(d)for(var V=function(lt,Et,Pt){d--,N[lt]=Et?{Qb:!0,value:Pt}:{Qb:!1,reason:Pt},d==0&&l(N)},tt=0,rt;tt<s.length;tt++)rt=s[tt],gI(rt,H(V,tt,!0),H(V,tt,!1));else l(N)})}he.prototype.then=function(s,l,d){return wI(this,T(s)?s:null,T(l)?l:null,d)},he.prototype.$goog_Thenable=!0,t=he.prototype,t.oa=function(s,l){return s=W0(s,s,l),s.c=!0,G0(this,s),this},t.o=function(s,l){return wI(this,null,s,l)},t.cancel=function(s){if(this.a==va){var l=new qu(s);Pp(function(){yI(this,l)},this)}};function yI(s,l){if(s.a==va)if(s.c){var d=s.c;if(d.b){for(var N=0,V=null,tt=null,rt=d.b;rt&&(rt.c||(N++,rt.a==s&&(V=rt),!(V&&1<N)));rt=rt.next)V||(tt=rt);V&&(d.a==va&&N==1?yI(d,l):(tt?(N=tt,N.next==d.f&&(d.f=N),N.next=N.next.next):_I(d),SI(d,V,Ro,l)))}s.c=null}else ga(s,Ro,l)}function G0(s,l){s.b||s.a!=sh&&s.a!=Ro||bI(s),s.f?s.f.next=l:s.b=l,s.f=l}function wI(s,l,d,N){var V=W0(null,null,null);return V.a=new he(function(tt,rt){V.g=l?function(lt){try{var Et=l.call(N,lt);tt(Et)}catch(Pt){rt(Pt)}}:tt,V.b=d?function(lt){try{var Et=d.call(N,lt);Et===void 0&&lt instanceof qu?rt(lt):tt(Et)}catch(Pt){rt(Pt)}}:rt}),V.a.c=s,G0(s,V),V.a}t.$c=function(s){this.a=va,ga(this,sh,s)},t.ad=function(s){this.a=va,ga(this,Ro,s)};function ga(s,l,d){s.a==va&&(s===d&&(l=Ro,d=new TypeError("Promise cannot resolve to itself")),s.a=1,xI(d,s.$c,s.ad,s)||(s.i=d,s.a=l,s.c=null,bI(s),l!=Ro||d instanceof qu||j$(s,d)))}function xI(s,l,d,N){if(s instanceof he)return G0(s,W0(l||g,d||null,N)),!0;if(R(s))return s.then(l,d,N),!0;if(P(s))try{var V=s.then;if(T(V))return F$(s,V,l,d,N),!0}catch(tt){return d.call(N,tt),!0}return!1}function F$(s,l,d,N,V){function tt(Et){lt||(lt=!0,N.call(V,Et))}function rt(Et){lt||(lt=!0,d.call(V,Et))}var lt=!1;try{l.call(s,rt,tt)}catch(Et){tt(Et)}}function bI(s){s.h||(s.h=!0,Pp(s.gc,s))}function _I(s){var l=null;return s.b&&(l=s.b,s.b=l.next,l.next=null),s.b||(s.f=null),l}t.gc=function(){for(var s;s=_I(this);)SI(this,s,this.a,this.i);this.h=!1};function SI(s,l,d,N){if(d==Ro&&l.b&&!l.c)for(;s&&s.g;s=s.c)s.g=!1;if(l.a)l.a.c=null,EI(l,d,N);else try{l.c?l.g.call(l.f):EI(l,d,N)}catch(V){TI.call(null,V)}X(vI,l)}function EI(s,l,d){l==sh?s.g.call(s.f,d):s.b&&s.b.call(s.f,d)}function j$(s,l){s.g=!0,Pp(function(){s.g&&TI.call(null,l)})}var TI=hI;function qu(s){_.call(this,s)}F(qu,_),qu.prototype.name="cancel";function Mp(){this.ya=this.ya,this.pa=this.pa}var B$=0;Mp.prototype.ya=!1;function kI(s){!s.ya&&(s.ya=!0,s.Da(),B$!=0)&&k(s)}Mp.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var U$=Object.freeze||function(s){return s},CI=!Di||9<=Number(cs),z$=Di&&!aI("9"),$$=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",g,l),c.removeEventListener("test",g,l)}catch{}return s}();function Nr(s,l){this.type=s,this.b=this.target=l,this.defaultPrevented=!1}Nr.prototype.preventDefault=function(){this.defaultPrevented=!0};function ma(s,l){if(Nr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var d=this.type=s.type,N=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=l,l=s.relatedTarget){if(oI){t:{try{F0(l.nodeName);var V=!0;break t}catch{}V=!1}V||(l=null)}}else d=="mouseover"?l=s.fromElement:d=="mouseout"&&(l=s.toElement);this.relatedTarget=l,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:V$[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}F(ma,Nr);var V$=U$({2:"touch",3:"pen",4:"mouse"});ma.prototype.preventDefault=function(){ma.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,z$)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}},ma.prototype.g=function(){return this.a};var ah="closure_listenable_"+(1e6*Math.random()|0),W$=0;function G$(s,l,d,N,V){this.listener=s,this.proxy=null,this.src=l,this.type=d,this.capture=!!N,this.Wa=V,this.key=++W$,this.wa=this.Qa=!1}function Op(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function Np(s){this.src=s,this.a={},this.b=0}Np.prototype.add=function(s,l,d,N,V){var tt=s.toString();s=this.a[tt],s||(s=this.a[tt]=[],this.b++);var rt=K0(s,l,N,V);return-1<rt?(l=s[rt],d||(l.Qa=!1)):(l=new G$(l,this.src,tt,!!N,V),l.Qa=d,s.push(l)),l};function H0(s,l){var d=l.type;d in s.a&&at(s.a[d],l)&&(Op(l),s.a[d].length==0&&(delete s.a[d],s.b--))}function K0(s,l,d,N){for(var V=0;V<s.length;++V){var tt=s[V];if(!tt.wa&&tt.listener==l&&tt.capture==!!d&&tt.Wa==N)return V}return-1}var X0="closure_lm_"+(1e6*Math.random()|0),Y0={};function pi(s,l,d,N,V){if(N&&N.once)q0(s,l,d,N,V);else if(Array.isArray(l))for(var tt=0;tt<l.length;tt++)pi(s,l[tt],d,N,V);else d=J0(d),s&&s[ah]?OI(s,l,d,P(N)?!!N.capture:!!N,V):II(s,l,d,!1,N,V)}function II(s,l,d,N,V,tt){if(!l)throw Error("Invalid event type");var rt=P(V)?!!V.capture:!!V,lt=Dp(s);if(lt||(s[X0]=lt=new Np(s)),d=lt.add(l,d,N,rt,tt),!d.proxy)if(N=H$(),d.proxy=N,N.src=s,N.listener=d,s.addEventListener)$$||(V=rt),V===void 0&&(V=!1),s.addEventListener(l.toString(),N,V);else if(s.attachEvent)s.attachEvent(PI(l.toString()),N);else if(s.addListener&&s.removeListener)s.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.")}function H$(){var s=K$,l=CI?function(d){return s.call(l.src,l.listener,d)}:function(d){if(d=s.call(l.src,l.listener,d),!d)return d};return l}function q0(s,l,d,N,V){if(Array.isArray(l))for(var tt=0;tt<l.length;tt++)q0(s,l[tt],d,N,V);else d=J0(d),s&&s[ah]?Z0(s,l,d,P(N)?!!N.capture:!!N,V):II(s,l,d,!0,N,V)}function Xr(s,l,d,N,V){if(Array.isArray(l))for(var tt=0;tt<l.length;tt++)Xr(s,l[tt],d,N,V);else N=P(N)?!!N.capture:!!N,d=J0(d),s&&s[ah]?(s=s.v,l=String(l).toString(),l in s.a&&(tt=s.a[l],d=K0(tt,d,N,V),-1<d&&(Op(tt[d]),Array.prototype.splice.call(tt,d,1),tt.length==0&&(delete s.a[l],s.b--)))):s&&(s=Dp(s))&&(l=s.a[l.toString()],s=-1,l&&(s=K0(l,d,N,V)),(d=-1<s?l[s]:null)&&AI(d))}function AI(s){if(typeof s!="number"&&s&&!s.wa){var l=s.src;if(l&&l[ah])H0(l.v,s);else{var d=s.type,N=s.proxy;l.removeEventListener?l.removeEventListener(d,N,s.capture):l.detachEvent?l.detachEvent(PI(d),N):l.addListener&&l.removeListener&&l.removeListener(N),(d=Dp(l))?(H0(d,s),d.b==0&&(d.src=null,l[X0]=null)):Op(s)}}}function PI(s){return s in Y0?Y0[s]:Y0[s]="on"+s}function RI(s,l,d,N){var V=!0;if((s=Dp(s))&&(l=s.a[l.toString()]))for(l=l.concat(),s=0;s<l.length;s++){var tt=l[s];tt&&tt.capture==d&&!tt.wa&&(tt=MI(tt,N),V=V&&tt!==!1)}return V}function MI(s,l){var d=s.listener,N=s.Wa||s.src;return s.Qa&&AI(s),d.call(N,l)}function K$(s,l){if(s.wa)return!0;if(!CI){if(!l)t:{l=["window","event"];for(var d=c,N=0;N<l.length;N++)if(d=d[l[N]],d==null){l=null;break t}l=d}if(N=l,l=new ma(N,this),d=!0,!(0>N.keyCode||N.returnValue!=null)){t:{var V=!1;if(N.keyCode==0)try{N.keyCode=-1;break t}catch{V=!0}(V||N.returnValue==null)&&(N.returnValue=!0)}for(N=[],V=l.b;V;V=V.parentNode)N.push(V);for(s=s.type,V=N.length-1;0<=V;V--){l.b=N[V];var tt=RI(N[V],s,!0,l);d=d&&tt}for(V=0;V<N.length;V++)l.b=N[V],tt=RI(N[V],s,!1,l),d=d&&tt}return d}return MI(s,new ma(l,this))}function Dp(s){return s=s[X0],s instanceof Np?s:null}var Q0="__closure_events_fn_"+(1e9*Math.random()>>>0);function J0(s){return T(s)?s:(s[Q0]||(s[Q0]=function(l){return s.handleEvent(l)}),s[Q0])}function gr(){Mp.call(this),this.v=new Np(this),this.bc=this,this.hb=null}F(gr,Mp),gr.prototype[ah]=!0,gr.prototype.addEventListener=function(s,l,d,N){pi(this,s,l,d,N)},gr.prototype.removeEventListener=function(s,l,d,N){Xr(this,s,l,d,N)},gr.prototype.dispatchEvent=function(s){var l,d=this.hb;if(d)for(l=[];d;d=d.hb)l.push(d);d=this.bc;var N=s.type||s;if(typeof s=="string")s=new Nr(s,d);else if(s instanceof Nr)s.target=s.target||d;else{var V=s;s=new Nr(N,d),It(s,V)}if(V=!0,l)for(var tt=l.length-1;0<=tt;tt--){var rt=s.b=l[tt];V=Lp(rt,N,!0,s)&&V}if(rt=s.b=d,V=Lp(rt,N,!0,s)&&V,V=Lp(rt,N,!1,s)&&V,l)for(tt=0;tt<l.length;tt++)rt=s.b=l[tt],V=Lp(rt,N,!1,s)&&V;return V},gr.prototype.Da=function(){if(gr.bb.Da.call(this),this.v){var s=this.v,l;for(l in s.a){for(var d=s.a[l],N=0;N<d.length;N++)Op(d[N]);delete s.a[l],s.b--}}this.hb=null};function OI(s,l,d,N,V){s.v.add(String(l),d,!1,N,V)}function Z0(s,l,d,N,V){s.v.add(String(l),d,!0,N,V)}function Lp(s,l,d,N){if(l=s.v.a[String(l)],!l)return!0;l=l.concat();for(var V=!0,tt=0;tt<l.length;++tt){var rt=l[tt];if(rt&&!rt.wa&&rt.capture==d){var lt=rt.listener,Et=rt.Wa||rt.src;rt.Qa&&H0(s.v,rt),V=lt.call(Et,N)!==!1&&V}}return V&&!N.defaultPrevented}function tw(s,l,d){if(T(s))d&&(s=$(s,d));else if(s&&typeof s.handleEvent=="function")s=$(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function Qu(s){var l=null;return new he(function(d,N){l=tw(function(){d(void 0)},s),l==-1&&N(Error("Failed to schedule timer."))}).o(function(d){throw c.clearTimeout(l),d})}function NI(s){if(s.X&&typeof s.X=="function")return s.X();if(typeof s=="string")return s.split("");if(w(s)){for(var l=[],d=s.length,N=0;N<d;N++)l.push(s[N]);return l}l=[],d=0;for(N in s)l[d++]=s[N];return l}function DI(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.X||typeof s.X!="function"){if(w(s)||typeof s=="string"){var l=[];s=s.length;for(var d=0;d<s;d++)l.push(d);return l}l=[],d=0;for(var N in s)l[d++]=N;return l}}function X$(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(w(s)||typeof s=="string")B(s,l,void 0);else for(var d=DI(s),N=NI(s),V=N.length,tt=0;tt<V;tt++)l.call(void 0,N[tt],d&&d[tt],s)}function Ju(s,l){this.b={},this.a=[],this.c=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var N=0;N<d;N+=2)this.set(arguments[N],arguments[N+1])}else if(s)if(s instanceof Ju)for(d=s.Y(),N=0;N<d.length;N++)this.set(d[N],s.get(d[N]));else for(N in s)this.set(N,s[N])}t=Ju.prototype,t.X=function(){ew(this);for(var s=[],l=0;l<this.a.length;l++)s.push(this.b[this.a[l]]);return s},t.Y=function(){return ew(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function ew(s){if(s.c!=s.a.length){for(var l=0,d=0;l<s.a.length;){var N=s.a[l];ya(s.b,N)&&(s.a[d++]=N),l++}s.a.length=d}if(s.c!=s.a.length){var V={};for(d=l=0;l<s.a.length;)N=s.a[l],ya(V,N)||(s.a[d++]=N,V[N]=1),l++;s.a.length=d}}t.get=function(s,l){return ya(this.b,s)?this.b[s]:l},t.set=function(s,l){ya(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=l},t.forEach=function(s,l){for(var d=this.Y(),N=0;N<d.length;N++){var V=d[N],tt=this.get(V);s.call(l,tt,V,this)}};function ya(s,l){return Object.prototype.hasOwnProperty.call(s,l)}var LI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Y$(s,l){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var N=s[d].indexOf("="),V=null;if(0<=N){var tt=s[d].substring(0,N);V=s[d].substring(N+1)}else tt=s[d];l(tt,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function hs(s,l){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var d;s instanceof hs?(this.i=l!==void 0?l:s.i,uh(this,s.c),this.l=s.l,this.a=s.a,lh(this,s.g),this.f=s.f,nw(this,UI(s.b)),this.h=s.h):s&&(d=String(s).match(LI))?(this.i=!!l,uh(this,d[1]||"",!0),this.l=ch(d[2]||""),this.a=ch(d[3]||"",!0),lh(this,d[4]),this.f=ch(d[5]||"",!0),nw(this,d[6]||"",!0),this.h=ch(d[7]||"")):(this.i=!!l,this.b=new wa(null,this.i))}hs.prototype.toString=function(){var s=[],l=this.c;l&&s.push(hh(l,FI,!0),":");var d=this.a;return(d||l=="file")&&(s.push("//"),(l=this.l)&&s.push(hh(l,FI,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.g,d!=null&&s.push(":",String(d))),(d=this.f)&&(this.a&&d.charAt(0)!="/"&&s.push("/"),s.push(hh(d,d.charAt(0)=="/"?J$:Q$,!0))),(d=this.b.toString())&&s.push("?",d),(d=this.h)&&s.push("#",hh(d,tV)),s.join("")},hs.prototype.resolve=function(s){var l=new hs(this),d=!!s.c;d?uh(l,s.c):d=!!s.l,d?l.l=s.l:d=!!s.a,d?l.a=s.a:d=s.g!=null;var N=s.f;if(d)lh(l,s.g);else if(d=!!s.f){if(N.charAt(0)!="/")if(this.a&&!this.f)N="/"+N;else{var V=l.f.lastIndexOf("/");V!=-1&&(N=l.f.substr(0,V+1)+N)}if(V=N,V==".."||V==".")N="";else if(vt(V,"./")||vt(V,"/.")){N=V.lastIndexOf("/",0)==0,V=V.split("/");for(var tt=[],rt=0;rt<V.length;){var lt=V[rt++];lt=="."?N&&rt==V.length&&tt.push(""):lt==".."?((1<tt.length||tt.length==1&&tt[0]!="")&&tt.pop(),N&&rt==V.length&&tt.push("")):(tt.push(lt),N=!0)}N=tt.join("/")}else N=V}return d?l.f=N:d=s.b.toString()!=="",d?nw(l,UI(s.b)):d=!!s.h,d&&(l.h=s.h),l};function uh(s,l,d){s.c=d?ch(l,!0):l,s.c&&(s.c=s.c.replace(/:$/,""))}function lh(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.g=l}else s.g=null}function nw(s,l,d){l instanceof wa?(s.b=l,eV(s.b,s.i)):(d||(l=hh(l,Z$)),s.b=new wa(l,s.i))}function sn(s,l,d){s.b.set(l,d)}function vi(s,l){return s.b.get(l)}function Dr(s){return s instanceof hs?new hs(s):new hs(s,void 0)}function Fp(s,l,d,N){var V=new hs(null,void 0);return s&&uh(V,s),l&&(V.a=l),d&&lh(V,d),N&&(V.f=N),V}function ch(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function hh(s,l,d){return typeof s=="string"?(s=encodeURI(s).replace(l,q$),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function q$(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var FI=/[#\/\?@]/g,Q$=/[#\?:]/g,J$=/[#\?]/g,Z$=/[#\?@]/g,tV=/#/g;function wa(s,l){this.b=this.a=null,this.c=s||null,this.f=!!l}function fs(s){s.a||(s.a=new Ju,s.b=0,s.c&&Y$(s.c,function(l,d){s.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}function jI(s){var l=DI(s);if(typeof l>"u")throw Error("Keys are undefined");var d=new wa(null,void 0);s=NI(s);for(var N=0;N<l.length;N++){var V=l[N],tt=s[N];Array.isArray(tt)?BI(d,V,tt):d.add(V,tt)}return d}t=wa.prototype,t.add=function(s,l){fs(this),this.c=null,s=Zu(this,s);var d=this.a.get(s);return d||this.a.set(s,d=[]),d.push(l),this.b+=1,this};function oo(s,l){fs(s),l=Zu(s,l),ya(s.a.b,l)&&(s.c=null,s.b-=s.a.get(l).length,s=s.a,ya(s.b,l)&&(delete s.b[l],s.c--,s.a.length>2*s.c&&ew(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function rw(s,l){return fs(s),l=Zu(s,l),ya(s.a.b,l)}t.forEach=function(s,l){fs(this),this.a.forEach(function(d,N){B(d,function(V){s.call(l,V,N,this)},this)},this)},t.Y=function(){fs(this);for(var s=this.a.X(),l=this.a.Y(),d=[],N=0;N<l.length;N++)for(var V=s[N],tt=0;tt<V.length;tt++)d.push(l[N]);return d},t.X=function(s){fs(this);var l=[];if(typeof s=="string")rw(this,s)&&(l=mt(l,this.a.get(Zu(this,s))));else{s=this.a.X();for(var d=0;d<s.length;d++)l=mt(l,s[d])}return l},t.set=function(s,l){return fs(this),this.c=null,s=Zu(this,s),rw(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[l]),this.b+=1,this},t.get=function(s,l){return s?(s=this.X(s),0<s.length?String(s[0]):l):l};function BI(s,l,d){oo(s,l),0<d.length&&(s.c=null,s.a.set(Zu(s,l),wt(d)),s.b+=d.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],l=this.a.Y(),d=0;d<l.length;d++){var N=l[d],V=encodeURIComponent(String(N));N=this.X(N);for(var tt=0;tt<N.length;tt++){var rt=V;N[tt]!==""&&(rt+="="+encodeURIComponent(String(N[tt]))),s.push(rt)}}return this.c=s.join("&")};function UI(s){var l=new wa;return l.c=s.c,s.a&&(l.a=new Ju(s.a),l.b=s.b),l}function Zu(s,l){return l=String(l),s.f&&(l=l.toLowerCase()),l}function eV(s,l){l&&!s.f&&(fs(s),s.c=null,s.a.forEach(function(d,N){var V=N.toLowerCase();N!=V&&(oo(this,N),BI(this,V,d))},s)),s.f=l}function zI(s){var l=[];return iw(new nV,s,l),l.join("")}function nV(){}function iw(s,l,d){if(l==null)d.push("null");else{if(typeof l=="object"){if(Array.isArray(l)){var N=l;l=N.length,d.push("[");for(var V="",tt=0;tt<l;tt++)d.push(V),iw(s,N[tt],d),V=",";d.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{d.push("{"),V="";for(N in l)Object.prototype.hasOwnProperty.call(l,N)&&(tt=l[N],typeof tt!="function"&&(d.push(V),VI(N,d),d.push(":"),iw(s,tt,d),V=","));d.push("}");return}}switch(typeof l){case"string":VI(l,d);break;case"number":d.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":d.push(String(l));break;case"function":d.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var $I={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},rV=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function VI(s,l){l.push('"',s.replace(rV,function(d){var N=$I[d];return N||(N="\\u"+(d.charCodeAt(0)|65536).toString(16).substr(1),$I[d]=N),N}),'"')}function ow(){var s=Un();return Di&&!!cs&&cs==11||/Edge\/\d+/.test(s)}function fh(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function WI(s,l){l=l||c.window;var d="about:blank";s&&(d=Cp(JC(s)||tI)),l.location.href=d}function GI(s,l){var d=[],N;for(N in s)N in l?typeof s[N]!=typeof l[N]?d.push(N):typeof s[N]=="object"&&s[N]!=null&&l[N]!=null?0<GI(s[N],l[N]).length&&d.push(N):s[N]!==l[N]&&d.push(N):d.push(N);for(N in l)N in s||d.push(N);return d}function iV(){var s=Un();return s=tl(s)!=YI?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!Di||!cs||9<cs}function HI(s){return s=(s||Un()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function xa(s){s=s||c.window;try{s.close()}catch{}}function KI(s,l,d){var N=Math.floor(1e9*Math.random()).toString();l=l||500,d=d||600;var V=(window.screen.availHeight-d)/2,tt=(window.screen.availWidth-l)/2;l={width:l,height:d,top:0<V?V:0,left:0<tt?tt:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},d=Un().toLowerCase(),N&&(l.target=N,vt(d,"crios/")&&(l.target="_blank")),tl(Un())==uw&&(s=s||"http://localhost",l.scrollbars=!0),d=s||"",(s=l)||(s={}),N=window,l=d instanceof Or?d:JC(typeof d.href<"u"?d.href:String(d))||tI,d=s.target||d.target,V=[];for(rt in s)switch(rt){case"width":case"height":case"top":case"left":V.push(rt+"="+s[rt]);break;case"target":case"noopener":case"noreferrer":break;default:V.push(rt+"="+(s[rt]?1:0))}var rt=V.join(",");if((Tt("iPhone")&&!Tt("iPod")&&!Tt("iPad")||Tt("iPad")||Tt("iPod"))&&N.navigator&&N.navigator.standalone&&d&&d!="_self"?(rt=Ap(document,"A"),Ie(rt,"HTMLAnchorElement"),l=l instanceof Or?l:ZC(l),rt.href=Cp(l),rt.setAttribute("target",d),s.noreferrer&&rt.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,N,1),rt.dispatchEvent(s),rt={}):s.noreferrer?(rt=nI("",N,d,rt),s=Cp(l),rt&&(I$&&vt(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),rt.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+L0(s)+'">',s=(N=er())?N.createHTML(s):s,s=new Yu(s,null,eI),N=rt.document)&&(N.write(E$(s)),N.close())):(rt=nI(l,N,d,rt))&&s.noopener&&(rt.opener=null),rt)try{rt.focus()}catch{}return rt}function oV(s){return new he(function(l){function d(){Qu(2e3).then(function(){if(!s||s.closed)l();else return d()})}return d()})}var sV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aV=/^[^@]+@[^@]+$/;function jp(){var s=null;return new he(function(l){c.document.readyState=="complete"?l():(s=function(){l()},q0(window,"load",s))}).o(function(l){throw Xr(window,"load",s),l})}function uV(){return sw(void 0)?jp().then(function(){return new he(function(s,l){var d=c.document,N=setTimeout(function(){l(Error("Cordova framework is not ready."))},1e3);d.addEventListener("deviceready",function(){clearTimeout(N),s()},!1)})}):We(Error("Cordova must run in an Android or iOS file scheme."))}function sw(s){return s=s||Un(),!(nl()!=="file:"&&nl()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function aw(){var s=c.window;try{return!(!s||s==s.top)}catch{return!1}}function Li(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function so(){return Gt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Gt.INTERNAL.hasOwnProperty("node")?"Node":Li()?"Worker":"Browser"}function XI(){var s=so();return s==="ReactNative"||s==="Node"}function lV(){for(var s=50,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}var uw="Firefox",YI="Chrome";function tl(s){var l=s.toLowerCase();if(vt(l,"opera/")||vt(l,"opr/")||vt(l,"opios/"))return"Opera";if(vt(l,"iemobile"))return"IEMobile";if(vt(l,"msie")||vt(l,"trident/"))return"IE";if(vt(l,"edge/"))return"Edge";if(vt(l,"firefox/"))return uw;if(vt(l,"silk/"))return"Silk";if(vt(l,"blackberry"))return"Blackberry";if(vt(l,"webos"))return"Webos";if(!vt(l,"safari/")||vt(l,"chrome/")||vt(l,"crios/")||vt(l,"android"))if(!vt(l,"chrome/")&&!vt(l,"crios/")||vt(l,"edge/")){if(vt(l,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return YI;else return"Safari";return"Other"}var qI={md:"FirebaseCore-web",od:"FirebaseUI-web"};function el(s,l){l=l||[];var d=[],N={},V;for(V in qI)N[qI[V]]=!0;for(V=0;V<l.length;V++)typeof N[l[V]]<"u"&&(delete N[l[V]],d.push(l[V]));return d.sort(),l=d,l.length||(l=["FirebaseCore-web"]),d=so(),d==="Browser"?(N=Un(),d=tl(N)):d==="Worker"&&(N=Un(),d=tl(N)+"-"+d),d+"/JsCore/"+s+"/"+l.join(",")}function Un(){return c.navigator&&c.navigator.userAgent||""}function Ge(s,l){s=s.split("."),l=l||c;for(var d=0;d<s.length&&typeof l=="object"&&l!=null;d++)l=l[s[d]];return d!=s.length&&(l=void 0),l}function lw(){try{var s=c.localStorage,l=_a();if(s)return s.setItem(l,"1"),s.removeItem(l),ow()?!!c.indexedDB:!0}catch{return Li()&&!!c.indexedDB}return!1}function ba(){return(Bp()||nl()==="chrome-extension:"||sw())&&!XI()&&lw()&&!Li()}function Bp(){return nl()==="http:"||nl()==="https:"}function nl(){return c.location&&c.location.protocol||null}function dh(s){return s=s||Un(),!(HI(s)||tl(s)==uw)}function ph(s){return typeof s>"u"?null:zI(s)}function QI(s){var l={},d;for(d in s)s.hasOwnProperty(d)&&s[d]!==null&&s[d]!==void 0&&(l[d]=s[d]);return l}function rl(s){if(s!==null)return JSON.parse(s)}function _a(s){return s||Math.floor(1e9*Math.random()).toString()}function JI(s){return s=s||Un(),!(tl(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function ZI(){var s=c.___jsl;if(s&&s.H){for(var l in s.H)if(s.H[l].r=s.H[l].r||[],s.H[l].L=s.H[l].L||[],s.H[l].r=s.H[l].L.concat(),s.CP)for(var d=0;d<s.CP.length;d++)s.CP[d]=null}}function ds(s,l){if(s>l)throw Error("Short delay should be less than long delay!");this.a=s,this.c=l,s=Un(),l=so(),this.b=HI(s)||l==="ReactNative"}ds.prototype.get=function(){var s=c.navigator;return!(s&&typeof s.onLine=="boolean"&&(Bp()||nl()==="chrome-extension:"||typeof s.connection<"u"))||s.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function cw(){var s=c.document;return s&&typeof s.visibilityState<"u"?s.visibilityState=="visible":!0}function cV(){var s=c.document,l=null;return cw()||!s?Yt():new he(function(d){l=function(){cw()&&(s.removeEventListener("visibilitychange",l,!1),d())},s.addEventListener("visibilitychange",l,!1)}).o(function(d){throw s.removeEventListener("visibilitychange",l,!1),d})}function vh(s){try{var l=new Date(parseInt(s,10));if(!isNaN(l.getTime())&&!/[^0-9]/.test(s))return l.toUTCString()}catch{}return null}function tA(){return!(!Ge("fireauth.oauthhelper",c)&&!Ge("fireauth.iframe",c))}function hV(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function fV(){var s=c.navigator;return s&&s.serviceWorker?Yt().then(function(){return s.serviceWorker.ready}).then(function(l){return l.active||null}).o(function(){return null}):Yt(null)}var eA={};function hw(s){eA[s]||(eA[s]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(s))}var fw;try{var dw={};Object.defineProperty(dw,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(dw,"abcd",{configurable:!0,enumerable:!0,value:2}),fw=dw.abcd==2}catch{fw=!1}function Vt(s,l,d){fw?Object.defineProperty(s,l,{configurable:!0,enumerable:!0,value:d}):s[l]=d}function mr(s,l){if(l)for(var d in l)l.hasOwnProperty(d)&&Vt(s,d,l[d])}function ao(s){var l={};return mr(l,s),l}function dV(s){var l={},d;for(d in s)s.hasOwnProperty(d)&&(l[d]=s[d]);return l}function pV(s,l){if(!l||!l.length)return!0;if(!s)return!1;for(var d=0;d<l.length;d++){var N=s[l[d]];if(N==null||N==="")return!1}return!0}function pw(s){var l=s;if(typeof s=="object"&&s!=null){l="length"in s?[]:{};for(var d in s)Vt(l,d,pw(s[d]))}return l}function vw(s){var l=s&&(s[ww]?"phone":null);if(l&&s&&s[yw]){Vt(this,"uid",s[yw]),Vt(this,"displayName",s[nA]||null);var d=null;s[mw]&&(d=new Date(s[mw]).toUTCString()),Vt(this,"enrollmentTime",d),Vt(this,"factorId",l)}else throw new I("internal-error","Internal assert: invalid MultiFactorInfo object")}vw.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function gw(s){try{var l=new gh(s)}catch{l=null}return l}var nA="displayName",mw="enrolledAt",yw="mfaEnrollmentId",ww="phoneInfo";function gh(s){vw.call(this,s),Vt(this,"phoneNumber",s[ww])}F(gh,vw),gh.prototype.w=function(){var s=gh.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};function vV(s){var l={},d=s[gV],N=s[yV],V=s[wV];if(s=gw(s[mV]),!V||V!=Up&&V!=mh&&!d||V==mh&&!N||V==xw&&!s)throw Error("Invalid checkActionCode response!");V==mh?(l[iA]=d||null,l[oA]=d||null,l[rA]=N):(l[iA]=N||null,l[oA]=N||null,l[rA]=d||null),l[xV]=s||null,Vt(this,_V,V),Vt(this,bV,pw(l))}var xw="REVERT_SECOND_FACTOR_ADDITION",Up="EMAIL_SIGNIN",mh="VERIFY_AND_CHANGE_EMAIL",gV="email",mV="mfaInfo",yV="newEmail",wV="requestType",rA="email",iA="fromEmail",xV="multiFactorInfo",oA="previousEmail",bV="data",_V="operation";function bw(s){s=Dr(s);var l=vi(s,sA)||null,d=vi(s,aA)||null,N=vi(s,uA)||null;if(N=N&&kV[N]||null,!l||!d||!N)throw new I("argument-error",sA+", "+aA+"and "+uA+" are required in a valid action code URL.");mr(this,{apiKey:l,operation:N,code:d,continueUrl:vi(s,SV)||null,languageCode:vi(s,EV)||null,tenantId:vi(s,TV)||null})}var sA="apiKey",aA="oobCode",SV="continueUrl",EV="languageCode",uA="mode",TV="tenantId",kV={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:xw,signIn:Up,verifyAndChangeEmail:mh,verifyEmail:"VERIFY_EMAIL"};function lA(s){try{return new bw(s)}catch{return null}}function zp(s){var l=s[CV];if(typeof l>"u")throw new I("missing-continue-uri");if(typeof l!="string"||typeof l=="string"&&!l.length)throw new I("invalid-continue-uri");this.h=l,this.b=this.a=null,this.g=!1;var d=s[cA];if(d&&typeof d=="object"){l=d[vA];var N=d[dA];if(d=d[pA],typeof l=="string"&&l.length){if(this.a=l,typeof N<"u"&&typeof N!="boolean")throw new I("argument-error",dA+" property must be a boolean when specified.");if(this.g=!!N,typeof d<"u"&&(typeof d!="string"||typeof d=="string"&&!d.length))throw new I("argument-error",pA+" property must be a non empty string when specified.");this.b=d||null}else{if(typeof l<"u")throw new I("argument-error",vA+" property must be a non empty string when specified.");if(typeof N<"u"||typeof d<"u")throw new I("missing-android-pkg-name")}}else if(typeof d<"u")throw new I("argument-error",cA+" property must be a non null object when specified.");if(this.f=null,(l=s[fA])&&typeof l=="object"){if(l=l[gA],typeof l=="string"&&l.length)this.f=l;else if(typeof l<"u")throw new I("argument-error",gA+" property must be a non empty string when specified.")}else if(typeof l<"u")throw new I("argument-error",fA+" property must be a non null object when specified.");if(l=s[_w],typeof l<"u"&&typeof l!="boolean")throw new I("argument-error",_w+" property must be a boolean when specified.");if(this.c=!!l,s=s[hA],typeof s<"u"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new I("argument-error",hA+" property must be a non empty string when specified.");this.i=s||null}var cA="android",hA="dynamicLinkDomain",_w="handleCodeInApp",fA="iOS",CV="url",dA="installApp",pA="minimumVersion",vA="packageName",gA="bundleId";function $p(s){var l={};l.continueUrl=s.h,l.canHandleCodeInApp=s.c,(l.androidPackageName=s.a)&&(l.androidMinimumVersion=s.b,l.androidInstallApp=s.g),l.iOSBundleId=s.f,l.dynamicLinkDomain=s.i;for(var d in l)l[d]===null&&delete l[d];return l}function IV(s){return Z(s,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}var yh=null;function AV(s){var l=[];return PV(s,function(d){l.push(d)}),l}function PV(s,l){function d(Et){for(;N<s.length;){var Pt=s.charAt(N++),Zt=yh[Pt];if(Zt!=null)return Zt;if(!/^[\s\xa0]*$/.test(Pt))throw Error("Unknown base64 encoding at char: "+Pt)}return Et}RV();for(var N=0;;){var V=d(-1),tt=d(0),rt=d(64),lt=d(64);if(lt===64&&V===-1)break;l(V<<2|tt>>4),rt!=64&&(l(tt<<4&240|rt>>2),lt!=64&&l(rt<<6&192|lt))}}function RV(){if(!yh){yh={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++)for(var N=s.concat(l[d].split("")),V=0;V<N.length;V++){var tt=N[V];yh[tt]===void 0&&(yh[tt]=V)}}}function Vp(s){var l=mA(s);if(!(l&&l.sub&&l.iss&&l.aud&&l.exp))throw Error("Invalid JWT");this.h=s,this.a=l.exp,this.i=l.sub,s=Date.now()/1e3,this.g=l.iat||(s>this.a?this.a:s),this.b=l.provider_id||l.firebase&&l.firebase.sign_in_provider||null,this.f=l.firebase&&l.firebase.tenant||null,this.c=!!l.is_anonymous||this.b=="anonymous"}Vp.prototype.T=function(){return this.f},Vp.prototype.l=function(){return this.c},Vp.prototype.toString=function(){return this.h};function Wp(s){try{return new Vp(s)}catch{return null}}function mA(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var l=(4-s.length%4)%4,d=0;d<l;d++)s+=".";try{var N=AV(s);for(s=[],d=l=0;l<N.length;){var V=N[l++];if(128>V)s[d++]=String.fromCharCode(V);else if(191<V&&224>V){var tt=N[l++];s[d++]=String.fromCharCode((V&31)<<6|tt&63)}else if(239<V&&365>V){tt=N[l++];var rt=N[l++],lt=N[l++],Et=((V&7)<<18|(tt&63)<<12|(rt&63)<<6|lt&63)-65536;s[d++]=String.fromCharCode(55296+(Et>>10)),s[d++]=String.fromCharCode(56320+(Et&1023))}else tt=N[l++],rt=N[l++],s[d++]=String.fromCharCode((V&15)<<12|(tt&63)<<6|rt&63)}return JSON.parse(s.join(""))}catch{}return null}var yA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gp=["client_id","response_type","scope","redirect_uri","state"],Sw={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gp},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gp},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gp},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:yA},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ew(s){for(var l in Sw)if(Sw[l].fa==s)return Sw[l];return null}function wA(s){var l={};l["facebook.com"]=bA,l["google.com"]=SA,l["github.com"]=_A,l["twitter.com"]=EA;var d=s&&s[xA];try{if(d)return l[d]?new l[d](s):new uo(s);if(typeof s[Tw]<"u")return new kw(s)}catch{}return null}var Tw="idToken",xA="providerId";function kw(s){var l=s[xA];if(!l&&s[Tw]){var d=Wp(s[Tw]);d&&d.b&&(l=d.b)}if(!l)throw Error("Invalid additional user info!");(l=="anonymous"||l=="custom")&&(l=null),d=!1,typeof s.isNewUser<"u"?d=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(d=!0),Vt(this,"providerId",l),Vt(this,"isNewUser",d)}function uo(s){kw.call(this,s),s=rl(s.rawUserInfo||"{}"),Vt(this,"profile",pw(s||{}))}F(uo,kw);function bA(s){if(uo.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}F(bA,uo);function _A(s){if(uo.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");Vt(this,"username",this.profile&&this.profile.login||null)}F(_A,uo);function SA(s){if(uo.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}F(SA,uo);function EA(s){if(uo.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Vt(this,"username",s.screenName||null)}F(EA,uo);function TA(s){var l=Dr(s),d=vi(l,"link"),N=vi(Dr(d),"link");return l=vi(l,"deep_link_id"),vi(Dr(l),"link")||l||N||d||s}function Hp(s,l){if(!s&&!l)throw new I("internal-error","Internal assert: no raw session string available");if(s&&l)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=l||null,this.type=this.a?wh:Kp}var wh="enroll",Kp="signin";Hp.prototype.Ha=function(){return this.a?Yt(this.a):Yt(this.b)},Hp.prototype.w=function(){return this.type==wh?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function il(){}il.prototype.ka=function(){},il.prototype.b=function(){},il.prototype.c=function(){},il.prototype.w=function(){};function ol(s,l){return s.then(function(d){if(d[Bi]){var N=Wp(d[Bi]);if(!N||l!=N.i)throw new I("user-mismatch");return d}throw new I("user-mismatch")}).o(function(d){throw d&&d.code&&d.code==E+"user-not-found"?new I("user-mismatch"):d})}function Sa(s,l){if(l)this.a=l;else throw new I("internal-error","failed to construct a credential");Vt(this,"providerId",s),Vt(this,"signInMethod",s)}Sa.prototype.ka=function(s){return qw(s,Cw(this))},Sa.prototype.b=function(s,l){var d=Cw(this);return d.idToken=l,Qw(s,d)},Sa.prototype.c=function(s,l){return ol(Jw(s,Cw(this)),l)};function Cw(s){return{pendingToken:s.a,requestUri:"http://localhost"}}Sa.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function MV(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new Sa(s.providerId,s.pendingToken)}catch{}return null}function Mo(s,l,d){if(this.a=null,l.idToken||l.accessToken)l.idToken&&Vt(this,"idToken",l.idToken),l.accessToken&&Vt(this,"accessToken",l.accessToken),l.nonce&&!l.pendingToken&&Vt(this,"nonce",l.nonce),l.pendingToken&&(this.a=l.pendingToken);else if(l.oauthToken&&l.oauthTokenSecret)Vt(this,"accessToken",l.oauthToken),Vt(this,"secret",l.oauthTokenSecret);else throw new I("internal-error","failed to construct a credential");Vt(this,"providerId",s),Vt(this,"signInMethod",d)}Mo.prototype.ka=function(s){return qw(s,Iw(this))},Mo.prototype.b=function(s,l){var d=Iw(this);return d.idToken=l,Qw(s,d)},Mo.prototype.c=function(s,l){var d=Iw(this);return ol(Jw(s,d),l)};function Iw(s){var l={};return s.idToken&&(l.id_token=s.idToken),s.accessToken&&(l.access_token=s.accessToken),s.secret&&(l.oauth_token_secret=s.secret),l.providerId=s.providerId,s.nonce&&!s.a&&(l.nonce=s.nonce),l={postBody:jI(l).toString(),requestUri:"http://localhost"},s.a&&(delete l.postBody,l.pendingToken=s.a),l}Mo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function OV(s){if(s&&s.providerId&&s.signInMethod){var l={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Mo(s.providerId,l,s.signInMethod)}catch{}}return null}function Ea(s,l){this.Qc=l||[],mr(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(Ew(s)||{}).Ja||null,this.pb=null}Ea.prototype.Ka=function(s){return this.Jb=Bt(s),this};function kA(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');Ea.call(this,s,[])}F(kA,Ea);function Yr(s){Ea.call(this,s,Gp),this.a=[]}F(Yr,Ea),Yr.prototype.Ca=function(s){return nt(this.a,s)||this.a.push(s),this},Yr.prototype.Rb=function(){return wt(this.a)},Yr.prototype.credential=function(s,l){var d;if(P(s)?d={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:d={idToken:s||null,accessToken:l||null},!d.idToken&&!d.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mo(this.providerId,d,this.providerId)};function Ta(){Yr.call(this,"facebook.com")}F(Ta,Yr),Vt(Ta,"PROVIDER_ID","facebook.com"),Vt(Ta,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function CA(s){if(!s)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return P(s)&&(l=s.accessToken),new Ta().credential({accessToken:l})}function ka(){Yr.call(this,"github.com")}F(ka,Yr),Vt(ka,"PROVIDER_ID","github.com"),Vt(ka,"GITHUB_SIGN_IN_METHOD","github.com");function IA(s){if(!s)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return P(s)&&(l=s.accessToken),new ka().credential({accessToken:l})}function Ca(){Yr.call(this,"google.com"),this.Ca("profile")}F(Ca,Yr),Vt(Ca,"PROVIDER_ID","google.com"),Vt(Ca,"GOOGLE_SIGN_IN_METHOD","google.com");function AA(s,l){var d=s;return P(s)&&(d=s.idToken,l=s.accessToken),new Ca().credential({idToken:d,accessToken:l})}function sl(){Ea.call(this,"twitter.com",yA)}F(sl,Ea),Vt(sl,"PROVIDER_ID","twitter.com"),Vt(sl,"TWITTER_SIGN_IN_METHOD","twitter.com");function PA(s,l){var d=s;if(P(d)||(d={oauthToken:s,oauthTokenSecret:l}),!d.oauthToken||!d.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Mo("twitter.com",d,"twitter.com")}function ps(s,l,d){this.a=s,this.f=l,Vt(this,"providerId","password"),Vt(this,"signInMethod",d===gi.EMAIL_LINK_SIGN_IN_METHOD?gi.EMAIL_LINK_SIGN_IN_METHOD:gi.EMAIL_PASSWORD_SIGN_IN_METHOD)}ps.prototype.ka=function(s){return this.signInMethod==gi.EMAIL_LINK_SIGN_IN_METHOD?fe(s,mW,{email:this.a,oobCode:this.f}):fe(s,iP,{email:this.a,password:this.f})},ps.prototype.b=function(s,l){return this.signInMethod==gi.EMAIL_LINK_SIGN_IN_METHOD?fe(s,yW,{idToken:l,email:this.a,oobCode:this.f}):fe(s,rP,{idToken:l,email:this.a,password:this.f})},ps.prototype.c=function(s,l){return ol(this.ka(s),l)},ps.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function NV(s){return s&&s.email&&s.password?new ps(s.email,s.password,s.signInMethod):null}function gi(){mr(this,{providerId:"password",isOAuthProvider:!1})}function RA(s,l){if(l=Aw(l),!l)throw new I("argument-error","Invalid email link!");return new ps(s,l.code,gi.EMAIL_LINK_SIGN_IN_METHOD)}function Aw(s){return s=TA(s),(s=lA(s))&&s.operation===Up?s:null}mr(gi,{PROVIDER_ID:"password"}),mr(gi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),mr(gi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function vs(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new I("internal-error");this.a=s,Vt(this,"providerId","phone"),this.fa="phone",Vt(this,"signInMethod","phone")}vs.prototype.ka=function(s){return s.gb(xh(this))},vs.prototype.b=function(s,l){var d=xh(this);return d.idToken=l,fe(s,jW,d)},vs.prototype.c=function(s,l){var d=xh(this);return d.operation="REAUTH",s=fe(s,BW,d),ol(s,l)},vs.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function DV(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var l={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(d){s[d]&&(l[d]=s[d])}),new vs(l)}return null}function xh(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Oo(s){try{this.a=s||Gt.auth()}catch{throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mr(this,{providerId:"phone",isOAuthProvider:!1})}Oo.prototype.gb=function(s,l){var d=this.a.a;return Yt(l.verify()).then(function(N){if(typeof N!="string")throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(l.type){case"recaptcha":var V=P(s)?s.session:null,tt=P(s)?s.phoneNumber:s,rt;return V&&V.type==wh?rt=V.Ha().then(function(lt){return uW(d,{idToken:lt,phoneEnrollmentInfo:{phoneNumber:tt,recaptchaToken:N}})}):V&&V.type==Kp?rt=V.Ha().then(function(lt){return lW(d,{mfaPendingCredential:lt,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:N}})}):rt=aW(d,{phoneNumber:tt,recaptchaToken:N}),rt.then(function(lt){return typeof l.reset=="function"&&l.reset(),lt},function(lt){throw typeof l.reset=="function"&&l.reset(),lt});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function MA(s,l){if(!s)throw new I("missing-verification-id");if(!l)throw new I("missing-verification-code");return new vs({fb:s,eb:l})}mr(Oo,{PROVIDER_ID:"phone"}),mr(Oo,{PHONE_SIGN_IN_METHOD:"phone"});function Pw(s){if(s.temporaryProof&&s.phoneNumber)return new vs({La:s.temporaryProof,ea:s.phoneNumber});var l=s&&s.providerId;if(!l||l==="password")return null;var d=s&&s.oauthAccessToken,N=s&&s.oauthTokenSecret,V=s&&s.nonce,tt=s&&s.oauthIdToken,rt=s&&s.pendingToken;try{switch(l){case"google.com":return AA(tt,d);case"facebook.com":return CA(d);case"github.com":return IA(d);case"twitter.com":return PA(d,N);default:return d||N||tt||rt?rt?l.indexOf("saml.")==0?new Sa(l,rt):new Mo(l,{pendingToken:rt,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},l):new Yr(l).credential({idToken:tt,accessToken:d,rawNonce:V}):null}}catch{return null}}function Rw(s){if(!s.isOAuthProvider)throw new I("invalid-oauth-provider")}function Fi(s,l,d,N,V,tt,rt){if(this.c=s,this.b=l||null,this.g=d||null,this.f=N||null,this.i=tt||null,this.h=rt||null,this.a=V||null,this.g||this.a){if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}else throw new I("invalid-auth-event")}Fi.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Fi.prototype.T=function(){return this.h},Fi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function OA(s){return s=s||{},s.type?new Fi(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&A(s.error),s.postBody,s.tenantId):null}function LV(){this.b=null,this.a=[]}var Mw=null;function FV(s){var l=Mw;l.a.push(s),l.b||(l.b=function(d){for(var N=0;N<l.a.length;N++)l.a[N](d)},s=Ge("universalLinks.subscribe",c),typeof s=="function"&&s(null,l.b))}function Ow(s){var l="unauthorized-domain",d=void 0,N=Dr(s);s=N.a,N=N.c,N=="chrome-extension"?d=rI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):N=="http"||N=="https"?d=rI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):l="operation-not-supported-in-this-environment",I.call(this,l,d)}F(Ow,I);function bh(s,l,d){I.call(this,s,d),s=l||{},s.Kb&&Vt(this,"email",s.Kb),s.ea&&Vt(this,"phoneNumber",s.ea),s.credential&&Vt(this,"credential",s.credential),s.$b&&Vt(this,"tenantId",s.$b)}F(bh,I),bh.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var l=this.credential&&this.credential.w();return l&&It(s,l),s},bh.prototype.toJSON=function(){return this.w()};function Xp(s){if(s.code){var l=s.code||"";l.indexOf(E)==0&&(l=l.substring(E.length));var d={credential:Pw(s),$b:s.tenantId};if(s.email)d.Kb=s.email;else if(s.phoneNumber)d.ea=s.phoneNumber;else if(!d.credential)return new I(l,s.message||void 0);return new bh(l,d,s.message)}return null}function _h(){}_h.prototype.c=null;function NA(s){return s.c||(s.c=s.b())}var Nw;function Yp(){}F(Yp,_h),Yp.prototype.a=function(){var s=DA(this);return s?new ActiveXObject(s):new XMLHttpRequest},Yp.prototype.b=function(){var s={};return DA(this)&&(s[0]=!0,s[1]=!0),s};function DA(s){if(!s.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var l=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<l.length;d++){var N=l[d];try{return new ActiveXObject(N),s.f=N}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}Nw=new Yp;function qp(){}F(qp,_h),qp.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest<"u")return new LA;throw Error("Unsupported browser")},qp.prototype.b=function(){return{}};function LA(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=$(this.qc,this),this.a.onerror=$(this.Tb,this),this.a.onprogress=$(this.rc,this),this.a.ontimeout=$(this.vc,this)}t=LA.prototype,t.open=function(s,l,d){if(d!=null&&!d)throw Error("Only async requests are supported.");this.a.open(s,l)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Dw(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Dw(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Dw(this,1)};function Dw(s,l){s.readyState=l,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Lw(s,l,d){this.reset(s,l,d,void 0,void 0)}Lw.prototype.a=null,Lw.prototype.reset=function(s,l,d,N,V){delete this.a};function Fw(s){this.f=s,this.b=this.c=this.a=null}function Sh(s,l){this.name=s,this.value=l}Sh.prototype.toString=function(){return this.name};var FA=new Sh("SEVERE",1e3),jw=new Sh("WARNING",900),jV=new Sh("CONFIG",700),BV=new Sh("FINE",500);function jA(s){return s.c?s.c:s.a?jA(s.a):(z("Root logger has no level set."),null)}Fw.prototype.log=function(s,l,d){if(s.value>=jA(this).value)for(T(l)&&(l=l()),s=new Lw(s,String(l),this.f),d&&(s.a=d),d=this;d;)d=d.a};var Bw={},Qp=null;function Uw(s){Qp||(Qp=new Fw(""),Bw[""]=Qp,Qp.c=jV);var l;if(!(l=Bw[s])){l=new Fw(s);var d=s.lastIndexOf("."),N=s.substr(d+1);d=Uw(s.substr(0,d)),d.b||(d.b={}),d.b[N]=l,l.a=d,Bw[s]=l}return l}function mi(s,l){s&&s.log(BV,l,void 0)}function Jp(s){this.f=s}F(Jp,_h),Jp.prototype.a=function(){return new Zp(this.f)},Jp.prototype.b=function(s){return function(){return s}}({});function Zp(s){gr.call(this),this.u=s,this.h=void 0,this.readyState=zw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Uw("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}F(Zp,gr);var zw=0;t=Zp.prototype,t.open=function(s,l){if(this.readyState!=zw)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=l,this.readyState=1,Th(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var l={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(l.body=s),this.u.fetch(new Request(this.f,l)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Eh(this)),this.readyState=zw},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,Th(this)),this.a&&(this.readyState=3,Th(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,BA(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))};function BA(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}t.pc=function(s){if(this.a){var l=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});l&&(this.response=this.responseText+=l),s.done?Eh(this):Th(this),this.readyState==3&&BA(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,Eh(this))},t.sc=function(s){this.a&&(this.response=s,Eh(this))},t.Va=function(s){var l=this.i;l&&l.log(jw,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&Eh(this)};function Eh(s){s.readyState=4,s.g=null,s.c=null,s.m=null,Th(s)}t.setRequestHeader=function(s,l){this.l.append(s,l)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(jw,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(jw,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var l=this.b.entries(),d=l.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=l.next();return s.join(`\r
`)};function Th(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Zp.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function kh(s){gr.call(this),this.headers=new Ju,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=UA,this.u=this.S=!1}F(kh,gr);var UA="";kh.prototype.b=Uw("goog.net.XhrIo");var UV=/^https?$/i,zV=["POST","PUT"];function $V(s,l,d,N,V){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+l);d=d?d.toUpperCase():"GET",s.l=l,s.h="",s.P=d,s.J=!1,s.c=!0,s.a=s.D?s.D.a():Nw.a(),s.C=s.D?NA(s.D):NA(Nw),s.a.onreadystatechange=$(s.Wb,s);try{mi(s.b,No(s,"Opening Xhr")),s.N=!0,s.a.open(d,String(l),!0),s.N=!1}catch(rt){mi(s.b,No(s,"Error opening Xhr: "+rt.message)),zA(s,rt);return}l=N||"";var tt=new Ju(s.headers);V&&X$(V,function(rt,lt){tt.set(lt,rt)}),V=et(tt.Y()),N=c.FormData&&l instanceof c.FormData,!nt(zV,d)||V||N||tt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),tt.forEach(function(rt,lt){this.a.setRequestHeader(lt,rt)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{WA(s),0<s.g&&(s.u=VV(s.a),mi(s.b,No(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=$(s.Ma,s)):s.s=tw(s.Ma,s.g,s)),mi(s.b,No(s,"Sending request")),s.i=!0,s.a.send(l),s.i=!1}catch(rt){mi(s.b,No(s,"Send error: "+rt.message)),zA(s,rt)}}function VV(s){return Di&&aI(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function WV(s){return s.toLowerCase()=="content-type"}t=kh.prototype,t.Ma=function(){typeof u<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",mi(this.b,No(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function zA(s,l){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=l,$A(s),tv(s)}function $A(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(mi(this.b,No(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),tv(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),tv(this,!0)),kh.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?VA(this):this.Jc())},t.Jc=function(){VA(this)};function VA(s){if(s.c&&typeof u<"u"){if(s.C[1]&&Ch(s)==4&&ev(s)==2)mi(s.b,No(s,"Local request error detected and ignored"));else if(s.i&&Ch(s)==4)tw(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),Ch(s)==4){mi(s.b,No(s,"Request complete")),s.c=!1;try{var l=ev(s);t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var N;if(!(N=d)){var V;if(V=l===0){var tt=String(s.l).match(LI)[1]||null;if(!tt&&c.self&&c.self.location){var rt=c.self.location.protocol;tt=rt.substr(0,rt.length-1)}V=!UV.test(tt?tt.toLowerCase():"")}N=V}if(N)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var lt=2<Ch(s)?s.a.statusText:""}catch(Et){mi(s.b,"Can not get status: "+Et.message),lt=""}s.h=lt+" ["+ev(s)+"]",$A(s)}}finally{tv(s)}}}}function tv(s,l){if(s.a){WA(s);var d=s.a,N=s.C[0]?g:null;s.a=null,s.C=null,l||s.dispatchEvent("ready");try{d.onreadystatechange=N}catch(V){(s=s.b)&&s.log(FA,"Problem encountered resetting onreadystatechange: "+V.message,void 0)}}}function WA(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function Ch(s){return s.a?s.a.readyState:0}function ev(s){try{return 2<Ch(s)?s.a.status:-1}catch{return-1}}function GV(s){try{return s.a?s.a.responseText:""}catch(l){return mi(s.b,"Can not get responseText: "+l.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case UA:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(FA,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(l){return mi(this.b,"Can not get response: "+l.message),null}};function No(s,l){return l+" ["+s.P+" "+s.l+" "+ev(s)+"]"}function Ia(s){var l=XV;this.g=[],this.u=l,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ia.prototype.cancel=function(s){if(this.a)this.c instanceof Ia&&this.c.cancel();else{if(this.b){var l=this.b;delete this.b,s?l.cancel(s):(l.l--,0>=l.l&&l.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new Ah,nv(this),Ih(this,!1,s))}},Ia.prototype.m=function(s,l){this.i=!1,Ih(this,s,l)};function Ih(s,l,d){s.a=!0,s.c=d,s.f=!l,HA(s)}function nv(s){if(s.a){if(!s.v)throw new rv;s.v=!1}}function HV(s,l){$w(s,null,l,void 0)}function $w(s,l,d,N){s.g.push([l,d,N]),s.a&&HA(s)}Ia.prototype.then=function(s,l,d){var N,V,tt=new he(function(rt,lt){N=rt,V=lt});return $w(this,N,function(rt){rt instanceof Ah?tt.cancel():V(rt)}),tt.then(s,l,d)},Ia.prototype.$goog_Thenable=!0;function GA(s){return J(s.g,function(l){return T(l[1])})}function HA(s){if(s.h&&s.a&&GA(s)){var l=s.h,d=iv[l];d&&(c.clearTimeout(d.a),delete iv[l]),s.h=0}s.b&&(s.b.l--,delete s.b),l=s.c;for(var N=d=!1;s.g.length&&!s.i;){var V=s.g.shift(),tt=V[0],rt=V[1];if(V=V[2],tt=s.f?rt:tt)try{var lt=tt.call(V||s.s,l);lt!==void 0&&(s.f=s.f&&(lt==l||lt instanceof Error),s.c=l=lt),(R(l)||typeof c.Promise=="function"&&l instanceof c.Promise)&&(N=!0,s.i=!0)}catch(Et){l=Et,s.f=!0,GA(s)||(d=!0)}}s.c=l,N&&(lt=$(s.m,s,!0),N=$(s.m,s,!1),l instanceof Ia?($w(l,lt,N),l.C=!0):l.then(lt,N)),d&&(l=new KA(l),iv[l.a]=l,s.h=l.a)}function rv(){_.call(this)}F(rv,_),rv.prototype.message="Deferred has already fired",rv.prototype.name="AlreadyCalledError";function Ah(){_.call(this)}F(Ah,_),Ah.prototype.message="Deferred was canceled",Ah.prototype.name="CanceledError";function KA(s){this.a=c.setTimeout($(this.c,this),0),this.b=s}KA.prototype.c=function(){throw delete iv[this.a],this.b};var iv={};function Vw(s){var l={},d=l.document||document,N=YC(s).toString(),V=Ap(document,"SCRIPT"),tt={Xb:V,Ma:void 0},rt=new Ia(tt),lt=null,Et=l.timeout!=null?l.timeout:5e3;return 0<Et&&(lt=window.setTimeout(function(){ov(V,!0);var Pt=new Ww(qV,"Timeout reached for loading script "+N);nv(rt),Ih(rt,!1,Pt)},Et),tt.Ma=lt),V.onload=V.onreadystatechange=function(){V.readyState&&V.readyState!="loaded"&&V.readyState!="complete"||(ov(V,l.xd||!1,lt),nv(rt),Ih(rt,!0,null))},V.onerror=function(){ov(V,!0,lt);var Pt=new Ww(YV,"Error while loading script "+N);nv(rt),Ih(rt,!1,Pt)},tt=l.attributes||{},It(tt,{type:"text/javascript",charset:"UTF-8"}),lI(V,tt),T$(V,s),KV(d).appendChild(V),rt}function KV(s){var l;return(l=(s||document).getElementsByTagName("HEAD"))&&l.length!=0?l[0]:s.documentElement}function XV(){if(this&&this.Xb){var s=this.Xb;s&&s.tagName=="SCRIPT"&&ov(s,!0,this.Ma)}}function ov(s,l,d){d!=null&&c.clearTimeout(d),s.onload=g,s.onerror=g,s.onreadystatechange=g,l&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var YV=0,qV=1;function Ww(s,l){var d="Jsloader error (code #"+s+")";l&&(d+=": "+l),_.call(this,d),this.code=s}F(Ww,_);function sv(s){this.f=s}F(sv,_h),sv.prototype.a=function(){return new this.f},sv.prototype.b=function(){return{}};function ji(s,l,d){if(this.c=s,s=l||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||QV,this.g=Bt(s.secureTokenHeaders||JV),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||ZV,this.a=Bt(s.firebaseHeaders||tW),d&&(this.a["X-Client-Version"]=d,this.g["X-Client-Version"]=d),d=so()=="Node",d=c.XMLHttpRequest||d&&Gt.INTERNAL.node&&Gt.INTERNAL.node.XMLHttpRequest,!d&&!Li())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Li()?this.f=new Jp(self):XI()?this.f=new sv(d):this.f=new qp,this.b=null}var Gw,Bi="idToken",QV=new ds(3e4,6e4),JV={"Content-Type":"application/x-www-form-urlencoded"},ZV=new ds(3e4,6e4),tW={"Content-Type":"application/json"};function XA(s,l){l?s.a["X-Firebase-Locale"]=l:delete s.a["X-Firebase-Locale"]}function av(s,l){l&&(s.l=Hw("https://securetoken.googleapis.com/v1/token",l),s.h=Hw("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",l),s.i=Hw("https://identitytoolkit.googleapis.com/v2/",l))}function Hw(s,l){return s=Dr(s),l=Dr(l.url),s.f=s.a+s.f,uh(s,l.c),s.a=l.a,lh(s,l.g),s.toString()}function YA(s,l){l?(s.a["X-Client-Version"]=l,s.g["X-Client-Version"]=l):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}ji.prototype.T=function(){return this.b};function qA(s,l,d,N,V,tt,rt){iV()||Li()?s=$(s.u,s):(Gw||(Gw=new he(function(lt,Et){nW(lt,Et)})),s=$(s.s,s)),s(l,d,N,V,tt,rt)}ji.prototype.u=function(s,l,d,N,V,tt){if(Li()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var rt=new kh(this.f);if(tt){rt.g=Math.max(0,tt);var lt=setTimeout(function(){rt.dispatchEvent("timeout")},tt)}OI(rt,"complete",function(){lt&&clearTimeout(lt);var Et=null;try{Et=JSON.parse(GV(this))||null}catch{Et=null}l&&l(Et)}),Z0(rt,"ready",function(){lt&&clearTimeout(lt),kI(this)}),Z0(rt,"timeout",function(){lt&&clearTimeout(lt),kI(this),l&&l(null)}),$V(rt,s,d,N,V)};var eW=new me(Be,"https://apis.google.com/js/client.js?onload=%{onload}"),QA="__fcb"+Math.floor(1e6*Math.random()).toString();function nW(s,l){if(((window.gapi||{}).client||{}).request)s();else{c[QA]=function(){((window.gapi||{}).client||{}).request?s():l(Error("CORS_UNSUPPORTED"))};var d=D0(eW,{onload:QA});HV(Vw(d),function(){l(Error("CORS_UNSUPPORTED"))})}}ji.prototype.s=function(s,l,d,N,V){var tt=this;Gw.then(function(){window.gapi.client.setApiKey(tt.c);var rt=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:d,body:N,headers:V,authType:"none",callback:function(lt){window.gapi.auth.setToken(rt),l&&l(lt)}})}).o(function(rt){l&&l({error:{message:rt&&rt.message||"CORS_UNSUPPORTED"}})})};function rW(s,l){return new he(function(d,N){l.grant_type=="refresh_token"&&l.refresh_token||l.grant_type=="authorization_code"&&l.code?qA(s,s.l+"?key="+encodeURIComponent(s.c),function(V){V?V.error?N(tx(V)):V.access_token&&V.refresh_token?d(V):N(new I("internal-error")):N(new I("network-request-failed"))},"POST",jI(l).toString(),s.g,s.m.get()):N(new I("internal-error"))})}function JA(s,l,d,N,V,tt,rt){var lt=Dr(l+d);sn(lt,"key",s.c),rt&&sn(lt,"cb",Date.now().toString());var Et=N=="GET";if(Et)for(var Pt in V)V.hasOwnProperty(Pt)&&sn(lt,Pt,V[Pt]);return new he(function(Zt,Ae){qA(s,lt.toString(),function(xe){xe?xe.error?Ae(tx(xe,tt||{})):Zt(xe):Ae(new I("network-request-failed"))},N,Et?void 0:zI(QI(V)),s.a,s.v.get())})}function Aa(s){if(s=s.email,typeof s!="string"||!aV.test(s))throw new I("invalid-email")}function ZA(s){"email"in s&&Aa(s)}function iW(s,l){return fe(s,pW,{identifier:l,continueUri:Bp()?fh():"http://localhost"}).then(function(d){return d.signinMethods||[]})}function oW(s){return fe(s,kW,{}).then(function(l){return l.authorizedDomains||[]})}function Lr(s){if(!s[Bi])throw s.mfaPendingCredential?new I("multi-factor-auth-required",null,Bt(s)):new I("internal-error")}function Kw(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new I("internal-error")}else{if(!s.sessionInfo)throw new I("missing-verification-id");if(!s.code)throw new I("missing-verification-code")}}ji.prototype.Ab=function(){return fe(this,PW,{})},ji.prototype.Cb=function(s,l){return fe(this,nP,{idToken:s,email:l})},ji.prototype.Db=function(s,l){return fe(this,rP,{idToken:s,password:l})};var sW={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=ji.prototype,t.Eb=function(s,l){var d={idToken:s},N=[];return At(sW,function(V,tt){var rt=l[tt];rt===null?N.push(V):tt in l&&(d[tt]=rt)}),N.length&&(d.deleteAttribute=N),fe(this,nP,d)},t.wb=function(s,l){return s={requestType:"PASSWORD_RESET",email:s},It(s,l),fe(this,TW,s)},t.xb=function(s,l){return s={requestType:"EMAIL_SIGNIN",email:s},It(s,l),fe(this,_W,s)},t.vb=function(s,l){return s={requestType:"VERIFY_EMAIL",idToken:s},It(s,l),fe(this,SW,s)},t.Fb=function(s,l,d){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:l},It(s,d),fe(this,EW,s)};function aW(s,l){return fe(s,AW,l)}t.gb=function(s){return fe(this,FW,s)};function uW(s,l){return fe(s,RW,l).then(function(d){return d.phoneSessionInfo.sessionInfo})}function tP(s){if(!s.phoneVerificationInfo)throw new I("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new I("missing-verification-code")}function lW(s,l){return fe(s,MW,l).then(function(d){return d.phoneResponseInfo.sessionInfo})}function cW(s,l,d){return fe(s,gW,{idToken:l,deleteProvider:d})}function Xw(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new I("internal-error")}function Yw(s,l){return l.oauthIdToken&&l.providerId&&l.providerId.indexOf("oidc.")==0&&!l.pendingToken&&(s.sessionId?l.nonce=s.sessionId:s.postBody&&(s=new wa(s.postBody),rw(s,"nonce")&&(l.nonce=s.get("nonce")))),l}function eP(s){var l=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",l=Xp(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",l=Xp(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",l=Xp(s)):s.errorMessage&&(l=oP(s.errorMessage)),l)throw l;Lr(s)}function qw(s,l){return l.returnIdpCredential=!0,fe(s,OW,l)}function Qw(s,l){return l.returnIdpCredential=!0,fe(s,DW,l)}function Jw(s,l){return l.returnIdpCredential=!0,l.autoCreate=!1,fe(s,NW,l)}function Zw(s){if(!s.oobCode)throw new I("invalid-action-code")}t.ob=function(s,l){return fe(this,IW,{oobCode:s,newPassword:l})},t.Sa=function(s){return fe(this,fW,{oobCode:s})},t.kb=function(s){return fe(this,hW,{oobCode:s})};var hW={endpoint:"setAccountInfo",A:Zw,Z:"email",B:!0},fW={endpoint:"resetPassword",A:Zw,G:function(s){var l=s.requestType;if(!l||!s.email&&l!="EMAIL_SIGNIN"&&l!="VERIFY_AND_CHANGE_EMAIL")throw new I("internal-error")},B:!0},dW={endpoint:"signupNewUser",A:function(s){if(Aa(s),!s.password)throw new I("weak-password")},G:Lr,V:!0,B:!0},pW={endpoint:"createAuthUri",B:!0},vW={endpoint:"deleteAccount",O:["idToken"]},gW={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new I("internal-error")}},mW={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Aa,G:Lr,V:!0,B:!0},yW={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Aa,G:Lr,V:!0},wW={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:tP,G:Lr,B:!0,Na:!0},xW={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:tP,G:Lr,B:!0,Na:!0},bW={endpoint:"getAccountInfo"},_W={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new I("internal-error");Aa(s)},Z:"email",B:!0},SW={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new I("internal-error")},Z:"email",B:!0},EW={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new I("internal-error")},Z:"email",B:!0},TW={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new I("internal-error");Aa(s)},Z:"email",B:!0},kW={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},CW={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new I("internal-error")}},IW={endpoint:"resetPassword",A:Zw,Z:"email",B:!0},AW={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},nP={endpoint:"setAccountInfo",O:["idToken"],A:ZA,V:!0},rP={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(ZA(s),!s.password)throw new I("weak-password")},G:Lr,V:!0},PW={endpoint:"signupNewUser",G:Lr,V:!0,B:!0},RW={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new I("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},MW={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},OW={endpoint:"verifyAssertion",A:Xw,Za:Yw,G:eP,V:!0,B:!0},NW={endpoint:"verifyAssertion",A:Xw,Za:Yw,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new I("user-not-found");if(s.errorMessage)throw oP(s.errorMessage);Lr(s)},V:!0,B:!0},DW={endpoint:"verifyAssertion",A:function(s){if(Xw(s),!s.idToken)throw new I("internal-error")},Za:Yw,G:eP,V:!0},LW={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new I("invalid-custom-token")},G:Lr,V:!0,B:!0},iP={endpoint:"verifyPassword",A:function(s){if(Aa(s),!s.password)throw new I("wrong-password")},G:Lr,V:!0,B:!0},FW={endpoint:"verifyPhoneNumber",A:Kw,G:Lr,B:!0},jW={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new I("internal-error");Kw(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Xp(s);Lr(s)}},BW={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Kw,G:Lr,B:!0},UW={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[Bi]^!!s.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function fe(s,l,d){if(!pV(d,l.O))return We(new I("internal-error"));var N=!!l.Na,V=l.Vb||"POST",tt;return Yt(d).then(l.A).then(function(){return l.V&&(d.returnSecureToken=!0),l.B&&s.b&&typeof d.tenantId>"u"&&(d.tenantId=s.b),N?JA(s,s.i,l.endpoint,V,d,l.Ib,l.mb||!1):JA(s,s.h,l.endpoint,V,d,l.Ib,l.mb||!1)}).then(function(rt){return tt=rt,l.Za?l.Za(d,tt):tt}).then(l.G).then(function(){if(!l.Z)return tt;if(!(l.Z in tt))throw new I("internal-error");return tt[l.Z]})}function oP(s){return tx({error:{errors:[{message:s}],code:400,message:s}})}function tx(s,l){var d=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",N={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(d=N[d]?new I(N[d]):null)return d;d=s.error&&s.error.message||"",N={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},It(N,l||{}),l=(l=d.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<l.length?l[1]:void 0;for(var V in N)if(d.indexOf(V)===0)return new I(N[V],l);return!l&&s&&(l=ph(s)),new I("internal-error",l)}function zW(s){this.b=s,this.a=null,this.sb=$W(this)}function $W(s){return XW().then(function(){return new he(function(l,d){Ge("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(N){function V(){clearTimeout(tt),l()}s.a=N,s.a.restyle({setHideOnLeave:!1});var tt=setTimeout(function(){d(Error("Network Error"))},KW.get());N.ping(V).then(V,function(){d(Error("Network Error"))})})})})}function VW(s,l){return s.sb.then(function(){return new he(function(d){s.a.send(l.type,l,d,Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function WW(s,l){s.sb.then(function(){s.a.register("authEvent",l,Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var GW=new me(Be,"https://apis.google.com/js/api.js?onload=%{onload}"),HW=new ds(3e4,6e4),KW=new ds(5e3,15e3),uv=null;function XW(){return uv||(uv=new he(function(s,l){function d(){ZI(),Ge("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){ZI(),l(Error("Network Error"))},timeout:HW.get()})}if(Ge("gapi.iframes.Iframe"))s();else if(Ge("gapi.load"))d();else{var N="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[N]=function(){Ge("gapi.load")?d():l(Error("Network Error"))},N=D0(GW,{onload:N}),Yt(Vw(N)).o(function(){l(Error("Network Error"))})}}).o(function(s){throw uv=null,s}))}function sP(s,l,d,N){this.l=s,this.h=l,this.i=d,this.g=N,this.f=null,this.g?(s=Dr(this.g.url),s=Fp(s.c,s.a,s.g,"/emulator/auth/iframe")):s=Fp("https",this.l,null,"/__/auth/iframe"),this.a=s,sn(this.a,"apiKey",this.h),sn(this.a,"appName",this.i),this.b=null,this.c=[]}sP.prototype.toString=function(){return this.f?sn(this.a,"v",this.f):oo(this.a.b,"v"),this.b?sn(this.a,"eid",this.b):oo(this.a.b,"eid"),this.c.length?sn(this.a,"fw",this.c.join(",")):oo(this.a.b,"fw"),this.a.toString()};function ex(s,l,d,N,V,tt){this.u=s,this.s=l,this.c=d,this.m=N,this.v=tt,this.i=this.g=this.l=null,this.a=V,this.h=this.f=null}ex.prototype.zb=function(s){return this.h=s,this},ex.prototype.toString=function(){if(this.v){var s=Dr(this.v.url);s=Fp(s.c,s.a,s.g,"/emulator/auth/handler")}else s=Fp("https",this.u,null,"/__/auth/handler");if(sn(s,"apiKey",this.s),sn(s,"appName",this.c),sn(s,"authType",this.m),this.a.isOAuthProvider){var l=this.a;try{var d=Gt.app(this.c).auth().la()}catch{d=null}l.pb=d,sn(s,"providerId",this.a.providerId),d=this.a,l=QI(d.Jb);for(var N in l)l[N]=l[N].toString();N=d.Qc,l=Bt(l);for(var V=0;V<N.length;V++){var tt=N[V];tt in l&&delete l[tt]}d.qb&&d.pb&&!l[d.qb]&&(l[d.qb]=d.pb),Wt(l)||sn(s,"customParameters",ph(l))}if(typeof this.a.Rb=="function"&&(d=this.a.Rb(),d.length&&sn(s,"scopes",d.join(","))),this.l?sn(s,"redirectUrl",this.l):oo(s.b,"redirectUrl"),this.g?sn(s,"eventId",this.g):oo(s.b,"eventId"),this.i?sn(s,"v",this.i):oo(s.b,"v"),this.b)for(var rt in this.b)this.b.hasOwnProperty(rt)&&!vi(s,rt)&&sn(s,rt,this.b[rt]);return this.h?sn(s,"tid",this.h):oo(s.b,"tid"),this.f?sn(s,"eid",this.f):oo(s.b,"eid"),rt=nx(this.c),rt.length&&sn(s,"fw",rt.join(",")),s.toString()};function nx(s){try{return Gt.app(s).auth().Ga()}catch{return[]}}function aP(s,l,d,N,V,tt){this.s=s,this.g=l,this.b=d,this.f=tt,this.c=N||null,this.i=V||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uP(s){var l=fh();return oW(s).then(function(d){t:{var N=Dr(l),V=N.c;N=N.a;for(var tt=0;tt<d.length;tt++){var rt=d[tt],lt=N,Et=V;if(rt.indexOf("chrome-extension://")==0?lt=Dr(rt).a==lt&&Et=="chrome-extension":Et!="http"&&Et!="https"?lt=!1:sV.test(rt)?lt=lt==rt:(rt=rt.split(".").join("\\."),lt=new RegExp("^(.+\\."+rt+"|"+rt+")$","i").test(lt)),lt){d=!0;break t}}d=!1}if(!d)throw new Ow(fh())})}function lP(s){return s.m||(s.m=jp().then(function(){if(!s.u){var l=s.c,d=s.i,N=nx(s.b),V=new sP(s.s,s.g,s.b,s.f);V.f=l,V.b=d,V.c=wt(N||[]),s.u=V.toString()}s.v=new zW(s.u),YW(s)})),s.m}t=aP.prototype,t.Pb=function(s,l,d){var N=new I("popup-closed-by-user"),V=new I("web-storage-unsupported"),tt=this,rt=!1;return this.ma().then(function(){qW(tt).then(function(lt){lt||(s&&xa(s),l(V),rt=!0)})}).o(function(){}).then(function(){if(!rt)return oV(s)}).then(function(){if(!rt)return Qu(d).then(function(){l(N)})})},t.Yb=function(){var s=Un();return!dh(s)&&!JI(s)},t.Ub=function(){return!1},t.Nb=function(s,l,d,N,V,tt,rt,lt){if(!s)return We(new I("popup-blocked"));if(rt&&!dh())return this.ma().o(function(Pt){xa(s),V(Pt)}),N(),Yt();this.a||(this.a=uP(cP(this)));var Et=this;return this.a.then(function(){var Pt=Et.ma().o(function(Zt){throw xa(s),V(Zt),Zt});return N(),Pt}).then(function(){if(Rw(d),!rt){var Pt=Ph(Et.s,Et.g,Et.b,l,d,null,tt,Et.c,void 0,Et.i,lt,Et.f);WI(Pt,s)}}).o(function(Pt){throw Pt.code=="auth/network-request-failed"&&(Et.a=null),Pt})};function cP(s){return s.l||(s.C=s.c?el(s.c,nx(s.b)):null,s.l=new ji(s.g,p(s.i),s.C),s.f&&av(s.l,s.f)),s.l}t.Ob=function(s,l,d,N){this.a||(this.a=uP(cP(this)));var V=this;return this.a.then(function(){Rw(l);var tt=Ph(V.s,V.g,V.b,s,l,fh(),d,V.c,void 0,V.i,N,V.f);WI(tt)}).o(function(tt){throw tt.code=="auth/network-request-failed"&&(V.a=null),tt})},t.ma=function(){var s=this;return lP(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new I("network-request-failed")})},t.ac=function(){return!0};function Ph(s,l,d,N,V,tt,rt,lt,Et,Pt,Zt,Ae){return s=new ex(s,l,d,N,V,Ae),s.l=tt,s.g=rt,s.i=lt,s.b=Bt(Et||null),s.f=Pt,s.zb(Zt).toString()}function YW(s){if(!s.v)throw Error("IfcHandler must be initialized!");WW(s.v,function(l){var d={};if(l&&l.authEvent){var N=!1;for(l=OA(l.authEvent),d=0;d<s.h.length;d++)N=s.h[d](l)||N;return d={},d.status=N?"ACK":"ERROR",Yt(d)}return d.status="ERROR",Yt(d)})}function qW(s){var l={type:"webStorageSupport"};return lP(s).then(function(){return VW(s.v,l)}).then(function(d){if(d&&d.length&&typeof d[0].webStorageSupport<"u")return d[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Ta=function(s){st(this.h,function(l){return l==s})};function hP(s){if(this.a=s||Gt.INTERNAL.reactNative&&Gt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=hP.prototype,t.get=function(s){return Yt(this.a.getItem(s)).then(function(l){return l&&rl(l)})},t.set=function(s,l){return Yt(this.a.setItem(s,ph(l)))},t.U=function(s){return Yt(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function fP(s){this.b=s,this.a={},this.f=$(this.c,this)}var dP=[];function QW(){var s=Li()?self:null;if(B(dP,function(d){d.b==s&&(l=d)}),!l){var l=new fP(s);dP.push(l)}return l}fP.prototype.c=function(s){var l=s.data.eventType,d=s.data.eventId,N=this.a[l];if(N&&0<N.length){s.ports[0].postMessage({status:"ack",eventId:d,eventType:l,response:null});var V=[];B(N,function(tt){V.push(Yt().then(function(){return tt(s.origin,s.data.data)}))}),mI(V).then(function(tt){var rt=[];B(tt,function(lt){rt.push({fulfilled:lt.Qb,value:lt.value,reason:lt.reason?lt.reason.message:void 0})}),B(rt,function(lt){for(var Et in lt)typeof lt[Et]>"u"&&delete lt[Et]}),s.ports[0].postMessage({status:"done",eventId:d,eventType:l,response:rt})})}};function pP(s,l,d){Wt(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[l]>"u"&&(s.a[l]=[]),s.a[l].push(d)}function vP(s){this.a=s}vP.prototype.postMessage=function(s,l){this.a.postMessage(s,l)};function gP(s){this.c=s,this.b=!1,this.a=[]}function mP(s,l,d,N){var V,tt=d||{},rt,lt,Et,Pt=null;if(s.b)return We(Error("connection_unavailable"));var Zt=N?800:50,Ae=typeof MessageChannel<"u"?new MessageChannel:null;return new he(function(xe,In){Ae?(V=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ae.port1.start(),lt=setTimeout(function(){In(Error("unsupported_event"))},Zt),rt=function(Do){Do.data.eventId===V&&(Do.data.status==="ack"?(clearTimeout(lt),Et=setTimeout(function(){In(Error("timeout"))},3e3)):Do.data.status==="done"?(clearTimeout(Et),typeof Do.data.response<"u"?xe(Do.data.response):In(Error("unknown_error"))):(clearTimeout(lt),clearTimeout(Et),In(Error("invalid_response"))))},Pt={messageChannel:Ae,onMessage:rt},s.a.push(Pt),Ae.port1.addEventListener("message",rt),s.c.postMessage({eventType:l,eventId:V,data:tt},[Ae.port2])):In(Error("connection_unavailable"))}).then(function(xe){return rx(s,Pt),xe}).o(function(xe){throw rx(s,Pt),xe})}function rx(s,l){if(l){var d=l.messageChannel,N=l.onMessage;d&&(d.port1.removeEventListener("message",N),d.port1.close()),st(s.a,function(V){return V==l})}}gP.prototype.close=function(){for(;0<this.a.length;)rx(this,this.a[0]);this.b=!0};function yP(){if(!sx())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;Li()&&self?(this.v=QW(),pP(this.v,"keyChanged",function(l,d){return bP(s).then(function(N){return 0<N.length&&B(s.a,function(V){V(N)}),{keyProcessed:nt(N,d.key)}})}),pP(this.v,"ping",function(){return Yt(["keyChanged"])})):fV().then(function(l){(s.h=l)&&(s.g=new gP(new vP(l)),mP(s.g,"ping",null,!0).then(function(d){d[0].fulfilled&&nt(d[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var ix;function JW(s){return new he(function(l,d){var N=s.m.deleteDatabase("firebaseLocalStorageDb");N.onsuccess=function(){l()},N.onerror=function(V){d(Error(V.target.error))}})}function wP(s){return new he(function(l,d){var N=s.m.open("firebaseLocalStorageDb",1);N.onerror=function(V){try{V.preventDefault()}catch{}d(Error(V.target.error))},N.onupgradeneeded=function(V){V=V.target.result;try{V.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(tt){d(tt)}},N.onsuccess=function(V){V=V.target.result,V.objectStoreNames.contains("firebaseLocalStorage")?l(V):JW(s).then(function(){return wP(s)}).then(function(tt){l(tt)}).o(function(tt){d(tt)})}})}function ox(s){return s.i||(s.i=wP(s)),s.i}function lv(s,l){function d(V,tt){ox(s).then(l).then(V).o(function(rt){if(3<++N)tt(rt);else return ox(s).then(function(lt){return lt.close(),s.i=void 0,d(V,tt)}).o(function(lt){tt(lt)})})}var N=0;return new he(d)}function sx(){try{return!!c.indexedDB}catch{return!1}}function Rh(s){return s.objectStore("firebaseLocalStorage")}function Mh(s,l){return s.transaction(["firebaseLocalStorage"],l?"readwrite":"readonly")}function al(s){return new he(function(l,d){s.onsuccess=function(N){N&&N.target?l(N.target.result):l()},s.onerror=function(N){d(N.target.error)}})}t=yP.prototype,t.set=function(s,l){var d=this,N=!1;return lv(this,function(V){return V=Rh(Mh(V,!0)),al(V.get(s))}).then(function(V){return lv(d,function(tt){if(tt=Rh(Mh(tt,!0)),V)return V.value=l,al(tt.put(V));d.b++,N=!0;var rt={};return rt.fbase_key=s,rt.value=l,al(tt.add(rt))})}).then(function(){return d.c[s]=l,xP(d,s)}).oa(function(){N&&d.b--})};function xP(s,l){return s.g&&s.h&&hV()===s.h?mP(s.g,"keyChanged",{key:l},s.s).then(function(){}).o(function(){}):Yt()}t.get=function(s){return lv(this,function(l){return al(Rh(Mh(l,!1)).get(s))}).then(function(l){return l&&l.value})},t.U=function(s){var l=this,d=!1;return lv(this,function(N){return d=!0,l.b++,al(Rh(Mh(N,!0)).delete(s))}).then(function(){return delete l.c[s],xP(l,s)}).oa(function(){d&&l.b--})};function bP(s){return ox(s).then(function(l){var d=Rh(Mh(l,!1));return d.getAll?al(d.getAll()):new he(function(N,V){var tt=[],rt=d.openCursor();rt.onsuccess=function(lt){(lt=lt.target.result)?(tt.push(lt.value),lt.continue()):N(tt)},rt.onerror=function(lt){V(lt.target.error)}})}).then(function(l){var d={},N=[];if(s.b==0){for(N=0;N<l.length;N++)d[l[N].fbase_key]=l[N].value;N=GI(s.c,d),s.c=d}return N})}t.ca=function(s){this.a.length==0&&ZW(this),this.a.push(s)},t.ia=function(s){st(this.a,function(l){return l==s}),this.a.length==0&&_P(this)};function ZW(s){function l(){s.f=setTimeout(function(){s.l=bP(s).then(function(d){0<d.length&&B(s.a,function(N){N(d)})}).then(function(){l()}).o(function(d){d.message!="STOP_EVENT"&&l()})},800)}_P(s),l()}function _P(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function SP(s){var l=this,d=null;this.a=[],this.type="indexedDB",this.c=s,this.b=Yt().then(function(){if(sx()){var N=_a(),V="__sak"+N;return ix||(ix=new yP),d=ix,d.set(V,N).then(function(){return d.get(V)}).then(function(tt){if(tt!==N)throw Error("indexedDB not supported!");return d.U(V)}).then(function(){return d}).o(function(){return l.c})}return l.c}).then(function(N){return l.type=N.type,N.ca(function(V){B(l.a,function(tt){tt(V)})}),N})}t=SP.prototype,t.get=function(s){return this.b.then(function(l){return l.get(s)})},t.set=function(s,l){return this.b.then(function(d){return d.set(s,l)})},t.U=function(s){return this.b.then(function(l){return l.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){st(this.a,function(l){return l==s})};function Oh(){this.a={},this.type="inMemory"}t=Oh.prototype,t.get=function(s){return Yt(this.a[s])},t.set=function(s,l){return this.a[s]=l,Yt()},t.U=function(s){return delete this.a[s],Yt()},t.ca=function(){},t.ia=function(){};function cv(){if(!t5())throw so()=="Node"?new I("internal-error","The LocalStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=EP()||Gt.INTERNAL.node.localStorage,this.type="localStorage"}function EP(){try{var s=c.localStorage,l=_a();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function t5(){var s=so()=="Node";if(s=EP()||s&&Gt.INTERNAL.node&&Gt.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=cv.prototype,t.get=function(s){var l=this;return Yt().then(function(){var d=l.a.getItem(s);return rl(d)})},t.set=function(s,l){var d=this;return Yt().then(function(){var N=ph(l);N===null?d.U(s):d.a.setItem(s,N)})},t.U=function(s){var l=this;return Yt().then(function(){l.a.removeItem(s)})},t.ca=function(s){c.window&&pi(c.window,"storage",s)},t.ia=function(s){c.window&&Xr(c.window,"storage",s)};function ax(){this.type="nullStorage"}t=ax.prototype,t.get=function(){return Yt(null)},t.set=function(){return Yt()},t.U=function(){return Yt()},t.ca=function(){},t.ia=function(){};function ux(){if(!e5())throw so()=="Node"?new I("internal-error","The SessionStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=TP()||Gt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function TP(){try{var s=c.sessionStorage,l=_a();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function e5(){var s=so()=="Node";if(s=TP()||s&&Gt.INTERNAL.node&&Gt.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=ux.prototype,t.get=function(s){var l=this;return Yt().then(function(){var d=l.a.getItem(s);return rl(d)})},t.set=function(s,l){var d=this;return Yt().then(function(){var N=ph(l);N===null?d.U(s):d.a.setItem(s,N)})},t.U=function(s){var l=this;return Yt().then(function(){l.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function n5(){var s={};s.Browser=r5,s.Node=i5,s.ReactNative=o5,s.Worker=s5,this.a=s[so()]}var lx,r5={F:cv,cb:ux},i5={F:cv,cb:ux},o5={F:hP,cb:ax},s5={F:cv,cb:ax},ul={rd:"local",NONE:"none",td:"session"};function a5(s){var l=new I("invalid-persistence-type"),d=new I("unsupported-persistence-type");t:{for(N in ul)if(ul[N]==s){var N=!0;break t}N=!1}if(!N||typeof s!="string")throw l;switch(so()){case"ReactNative":if(s==="session")throw d;break;case"Node":if(s!=="none")throw d;break;case"Worker":if(s==="session"||!sx()&&s!=="none")throw d;break;default:if(!lw()&&s!=="none")throw d}}function kP(){var s=!!(!JI(Un())&&aw()),l=dh(),d=lw();this.m=s,this.h=l,this.l=d,this.a={},lx||(lx=new n5),s=lx;try{this.g=!ow()&&tA()||!c.indexedDB?new s.a.F:new SP(Li()?new Oh:new s.a.F)}catch{this.g=new Oh,this.h=!0}try{this.i=new s.a.cb}catch{this.i=new Oh}this.v=new Oh,this.f=$(this.Zb,this),this.b={}}var cx;function Nh(){return cx||(cx=new kP),cx}function Pa(s,l){switch(l){case"session":return s.i;case"none":return s.v;default:return s.g}}function ll(s,l){return"firebase:"+s.name+(l?":"+l:"")}function u5(s,l,d){var N=ll(l,d),V=Pa(s,l.F);return s.get(l,d).then(function(tt){var rt=null;try{rt=rl(c.localStorage.getItem(N))}catch{}if(rt&&!tt)return c.localStorage.removeItem(N),s.set(l,rt,d);rt&&tt&&V.type!="localStorage"&&c.localStorage.removeItem(N)})}t=kP.prototype,t.get=function(s,l){return Pa(this,s.F).get(ll(s,l))};function cl(s,l,d){return d=ll(l,d),l.F=="local"&&(s.b[d]=null),Pa(s,l.F).U(d)}t.set=function(s,l,d){var N=ll(s,d),V=this,tt=Pa(this,s.F);return tt.set(N,l).then(function(){return tt.get(N)}).then(function(rt){s.F=="local"&&(V.b[N]=rt)})},t.addListener=function(s,l,d){s=ll(s,l),this.l&&(this.b[s]=c.localStorage.getItem(s)),Wt(this.a)&&(Pa(this,"local").ca(this.f),this.h||(ow()||!tA())&&c.indexedDB||!this.l||l5(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(d)},t.removeListener=function(s,l,d){s=ll(s,l),this.a[s]&&(st(this.a[s],function(N){return N==d}),this.a[s].length==0&&delete this.a[s]),Wt(this.a)&&(Pa(this,"local").ia(this.f),hx(this))};function l5(s){hx(s),s.c=setInterval(function(){for(var l in s.a){var d=c.localStorage.getItem(l),N=s.b[l];d!=N&&(s.b[l]=d,d=new ma({type:"storage",key:l,target:window,oldValue:N,newValue:d,a:!0}),s.Zb(d))}},1e3)}function hx(s){s.c&&(clearInterval(s.c),s.c=null)}t.Zb=function(s){if(s&&s.g){var l=s.a.key;if(l==null)for(var d in this.a){var N=this.b[d];typeof N>"u"&&(N=null);var V=c.localStorage.getItem(d);V!==N&&(this.b[d]=V,this.nb(d))}else if(l.indexOf("firebase:")==0&&this.a[l]){if(typeof s.a.a<"u"?Pa(this,"local").ia(this.f):hx(this),this.m){if(d=c.localStorage.getItem(l),N=s.a.newValue,N!==d)N!==null?c.localStorage.setItem(l,N):c.localStorage.removeItem(l);else if(this.b[l]===N&&typeof s.a.a>"u")return}var tt=this;d=function(){(typeof s.a.a<"u"||tt.b[l]!==c.localStorage.getItem(l))&&(tt.b[l]=c.localStorage.getItem(l),tt.nb(l))},Di&&cs&&cs==10&&c.localStorage.getItem(l)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(d,10):d()}}else B(s,$(this.nb,this))},t.nb=function(s){this.a[s]&&B(this.a[s],function(l){l()})};function c5(s){this.a=s,this.b=Nh()}var fx={name:"authEvent",F:"local"};function h5(s){return s.b.get(fx,s.a).then(function(l){return OA(l)})}function f5(){this.a=Nh()}function d5(){this.b=-1}function hv(s,l){this.b=CP,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=l,this.l=c.Int32Array?new Int32Array(64):Array(64),fv===void 0&&(c.Int32Array?fv=new Int32Array(PP):fv=PP),this.reset()}var fv;F(hv,d5);for(var CP=64,p5=CP-1,IP=[],dx=0;dx<p5;dx++)IP[dx]=0;var AP=mt(128,IP);hv.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):wt(this.h)};function px(s){for(var l=s.f,d=s.l,N=0,V=0;V<l.length;)d[N++]=l[V]<<24|l[V+1]<<16|l[V+2]<<8|l[V+3],V=4*N;for(l=16;64>l;l++){V=d[l-15]|0,N=d[l-2]|0;var tt=(d[l-16]|0)+((V>>>7|V<<25)^(V>>>18|V<<14)^V>>>3)|0,rt=(d[l-7]|0)+((N>>>17|N<<15)^(N>>>19|N<<13)^N>>>10)|0;d[l]=tt+rt|0}N=s.a[0]|0,V=s.a[1]|0;var lt=s.a[2]|0,Et=s.a[3]|0,Pt=s.a[4]|0,Zt=s.a[5]|0,Ae=s.a[6]|0;for(tt=s.a[7]|0,l=0;64>l;l++){var xe=((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+(N&V^N&lt^V&lt)|0;rt=Pt&Zt^~Pt&Ae,tt=tt+((Pt>>>6|Pt<<26)^(Pt>>>11|Pt<<21)^(Pt>>>25|Pt<<7))|0,rt=rt+(fv[l]|0)|0,rt=tt+(rt+(d[l]|0)|0)|0,tt=Ae,Ae=Zt,Zt=Pt,Pt=Et+rt|0,Et=lt,lt=V,V=N,N=rt+xe|0}s.a[0]=s.a[0]+N|0,s.a[1]=s.a[1]+V|0,s.a[2]=s.a[2]+lt|0,s.a[3]=s.a[3]+Et|0,s.a[4]=s.a[4]+Pt|0,s.a[5]=s.a[5]+Zt|0,s.a[6]=s.a[6]+Ae|0,s.a[7]=s.a[7]+tt|0}function vx(s,l,d){d===void 0&&(d=l.length);var N=0,V=s.c;if(typeof l=="string")for(;N<d;)s.f[V++]=l.charCodeAt(N++),V==s.b&&(px(s),V=0);else if(w(l))for(;N<d;){var tt=l[N++];if(!(typeof tt=="number"&&0<=tt&&255>=tt&&tt==(tt|0)))throw Error("message must be a byte array");s.f[V++]=tt,V==s.b&&(px(s),V=0)}else throw Error("message must be string or array");s.c=V,s.g+=d}var PP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function RP(){hv.call(this,8,v5)}F(RP,hv);var v5=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function MP(s,l,d,N,V,tt){this.v=s,this.i=l,this.l=d,this.m=N||null,this.u=V||null,this.s=tt,this.h=l+":"+d,this.C=new f5,this.g=new c5(this.h),this.f=null,this.b=[],this.a=this.c=null}function dv(s){return new I("invalid-cordova-configuration",s)}t=MP.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=uV().then(function(){if(typeof Ge("universalLinks.subscribe",c)!="function")throw dv("cordova-universal-links-plugin-fix is not installed");if(typeof Ge("BuildInfo.packageName",c)>"u")throw dv("cordova-plugin-buildinfo is not installed");if(typeof Ge("cordova.plugins.browsertab.openUrl",c)!="function")throw dv("cordova-plugin-browsertab is not installed");if(typeof Ge("cordova.InAppBrowser.open",c)!="function")throw dv("cordova-plugin-inappbrowser is not installed")},function(){throw new I("cordova-not-ready")})};function g5(){for(var s=20,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}function m5(s){var l=new RP;vx(l,s),s=[];var d=8*l.g;56>l.c?vx(l,AP,56-l.c):vx(l,AP,l.b-(l.c-56));for(var N=63;56<=N;N--)l.f[N]=d&255,d/=256;for(px(l),N=d=0;N<l.i;N++)for(var V=24;0<=V;V-=8)s[d++]=l.a[N]>>V&255;return IV(s)}t.Pb=function(s,l){return l(new I("operation-not-supported-in-this-environment")),Yt()},t.Nb=function(){return We(new I("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(s,l,d,N){if(this.c)return We(new I("redirect-operation-pending"));var V=this,tt=c.document,rt=null,lt=null,Et=null,Pt=null;return this.c=Yt().then(function(){return Rw(l),NP(V)}).then(function(){return y5(V,s,l,d,N)}).then(function(){return new he(function(Zt,Ae){lt=function(){var xe=Ge("cordova.plugins.browsertab.close",c);return Zt(),typeof xe=="function"&&xe(),V.a&&typeof V.a.close=="function"&&(V.a.close(),V.a=null),!1},V.Ea(lt),Et=function(){rt||(rt=Qu(2e3).then(function(){Ae(new I("redirect-cancelled-by-user"))}))},Pt=function(){cw()&&Et()},tt.addEventListener("resume",Et,!1),Un().toLowerCase().match(/android/)||tt.addEventListener("visibilitychange",Pt,!1)}).o(function(Zt){return gx(V).then(function(){throw Zt})})}).oa(function(){Et&&tt.removeEventListener("resume",Et,!1),Pt&&tt.removeEventListener("visibilitychange",Pt,!1),rt&&rt.cancel(),lt&&V.Ta(lt),V.c=null})};function y5(s,l,d,N,V){var tt=g5(),rt=new Fi(l,N,null,tt,new I("no-auth-event"),null,V),lt=Ge("BuildInfo.packageName",c);if(typeof lt!="string")throw new I("invalid-cordova-configuration");var Et=Ge("BuildInfo.displayName",c),Pt={};if(Un().toLowerCase().match(/iphone|ipad|ipod/))Pt.ibi=lt;else if(Un().toLowerCase().match(/android/))Pt.apn=lt;else return We(new I("operation-not-supported-in-this-environment"));Et&&(Pt.appDisplayName=Et),tt=m5(tt),Pt.sessionId=tt;var Zt=Ph(s.v,s.i,s.l,l,d,null,N,s.m,Pt,s.u,V,s.s);return s.ma().then(function(){var Ae=s.h;return s.C.a.set(fx,rt.w(),Ae)}).then(function(){var Ae=Ge("cordova.plugins.browsertab.isAvailable",c);if(typeof Ae!="function")throw new I("invalid-cordova-configuration");var xe=null;Ae(function(In){if(In){if(xe=Ge("cordova.plugins.browsertab.openUrl",c),typeof xe!="function")throw new I("invalid-cordova-configuration");xe(Zt)}else{if(xe=Ge("cordova.InAppBrowser.open",c),typeof xe!="function")throw new I("invalid-cordova-configuration");In=Un(),s.a=xe(Zt,In.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||In.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function OP(s,l){for(var d=0;d<s.b.length;d++)try{s.b[d](l)}catch{}}function NP(s){return s.f||(s.f=s.ma().then(function(){return new he(function(l){function d(N){return l(N),s.Ta(d),!1}s.Ea(d),w5(s)})})),s.f}function gx(s){var l=null;return h5(s.g).then(function(d){return l=d,d=s.g,cl(d.b,fx,d.a)}).then(function(){return l})}function w5(s){function l(rt){N=!0,V&&V.cancel(),gx(s).then(function(lt){var Et=d;if(lt&&rt&&rt.url){var Pt=null;Et=TA(rt.url),Et.indexOf("/__/auth/callback")!=-1&&(Pt=Dr(Et),Pt=rl(vi(Pt,"firebaseError")||null),Pt=(Pt=typeof Pt=="object"?A(Pt):null)?new Fi(lt.c,lt.b,null,null,Pt,null,lt.T()):new Fi(lt.c,lt.b,Et,lt.f,null,null,lt.T())),Et=Pt||d}OP(s,Et)})}var d=new Fi("unknown",null,null,null,new I("no-auth-event")),N=!1,V=Qu(500).then(function(){return gx(s).then(function(){N||OP(s,d)})}),tt=c.handleOpenURL;c.handleOpenURL=function(rt){if(rt.toLowerCase().indexOf(Ge("BuildInfo.packageName",c).toLowerCase()+"://")==0&&l({url:rt}),typeof tt=="function")try{tt(rt)}catch(lt){console.error(lt)}},Mw||(Mw=new LV),FV(l)}t.Ea=function(s){this.b.push(s),NP(this).o(function(l){l.code==="auth/invalid-cordova-configuration"&&(l=new Fi("unknown",null,null,null,new I("no-auth-event")),s(l))})},t.Ta=function(s){st(this.b,function(l){return l==s})};function x5(s){this.a=s,this.b=Nh()}var mx={name:"pendingRedirect",F:"session"};function b5(s){return s.b.set(mx,"pending",s.a)}function yx(s){return cl(s.b,mx,s.a)}function _5(s){return s.b.get(mx,s.a).then(function(l){return l=="pending"})}function pv(s,l,d,N){this.i={},this.u=0,this.D=s,this.v=l,this.m=d,this.J=N,this.h=[],this.f=!1,this.l=$(this.s,this),this.b=new gv,this.C=new WP,this.g=new x5(zP(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=DP(this.D,this.v,this.m,y,this.J)}function DP(s,l,d,N,V){var tt=Gt.SDK_VERSION||null;return sw()?new MP(s,l,d,tt,N,V):new aP(s,l,d,tt,N,V)}pv.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=DP(this.D,this.v,this.m,null,this.J),this.i={}};function LP(s){s.f||(s.f=!0,s.a.Ea(s.l));var l=s.a;return s.a.ma().o(function(d){throw s.a==l&&s.reset(),d})}function FP(s){s.a.Yb()&&LP(s).o(function(l){var d=new Fi("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));xx(l)&&s.s(d)}),s.a.Ub()||$P(s.b)}function vv(s,l){nt(s.h,l)||s.h.push(l),s.f||_5(s.g).then(function(d){d?yx(s.g).then(function(){LP(s).o(function(N){var V=new Fi("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));xx(N)&&s.s(V)})}):FP(s)}).o(function(){FP(s)})}function wx(s,l){st(s.h,function(d){return d==l})}pv.prototype.s=function(s){if(!s)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var l=!1,d=0;d<this.h.length;d++){var N=this.h[d];if(N.Gb(s.c,s.b)){(l=this.c[s.c])&&(l.h(s,N),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),l=!0;break}}return $P(this.b),l};var S5=new ds(2e3,1e4),E5=new ds(3e4,6e4);pv.prototype.ra=function(){return this.b.ra()};function jP(s,l,d,N,V,tt,rt){return s.a.Nb(l,d,N,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},V,tt,rt)}function xx(s){return!!(s&&s.code=="auth/cordova-not-ready")}function BP(s,l,d,N,V){var tt;return b5(s.g).then(function(){return s.a.Ob(l,d,N,V).o(function(rt){if(xx(rt))throw new I("operation-not-supported-in-this-environment");return tt=rt,yx(s.g).then(function(){throw tt})}).then(function(){return s.a.ac()?new he(function(){}):yx(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function UP(s,l,d,N,V){return s.a.Pb(N,function(tt){l.na(d,null,tt,V)},S5.get())}var bx={};function zP(s,l,d){return s=s+":"+l,d&&(s=s+":"+d.url),s}function _x(s,l,d,N){var V=zP(l,d,N);return bx[V]||(bx[V]=new pv(s,l,d,N)),bx[V]}function gv(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}gv.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},gv.prototype.h=function(s,l){if(s){this.reset(),this.g=!0;var d=s.c,N=s.b,V=s.a&&s.a.code=="auth/web-storage-unsupported",tt=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!V&&!tt),d!="unknown"||V||tt?s.a?(Ra(this,!0,null,s.a),Yt()):l.Fa(d,N)?T5(this,s,l):We(new I("invalid-auth-event")):(Ra(this,!1,null,null),Yt())}else We(new I("invalid-auth-event"))};function $P(s){s.g||(s.g=!0,Ra(s,!1,null,null))}function mv(s){s.g&&!s.i&&Ra(s,!1,null,null)}function T5(s,l,d){d=d.Fa(l.c,l.b);var N=l.g,V=l.f,tt=l.i,rt=l.T(),lt=!!l.c.match(/Redirect$/);d(N,V,rt,tt).then(function(Et){Ra(s,lt,Et,null)}).o(function(Et){Ra(s,lt,null,Et)})}function k5(s,l){if(s.b=function(){return We(l)},s.c.length)for(var d=0;d<s.c.length;d++)s.c[d](l)}function VP(s,l){if(s.b=function(){return Yt(l)},s.f.length)for(var d=0;d<s.f.length;d++)s.f[d](l)}function Ra(s,l,d,N){l?N?k5(s,N):VP(s,d):VP(s,{user:null}),s.f=[],s.c=[]}gv.prototype.ra=function(){var s=this;return new he(function(l,d){s.b?s.b().then(l,d):(s.f.push(l),s.c.push(d),C5(s))})};function C5(s){var l=new I("timeout");s.a&&s.a.cancel(),s.a=Qu(E5.get()).then(function(){s.b||(s.g=!0,Ra(s,!0,null,l))})}function WP(){}WP.prototype.h=function(s,l){if(s){var d=s.c,N=s.b;s.a?(l.na(s.c,null,s.a,s.b),Yt()):l.Fa(d,N)?I5(s,l):We(new I("invalid-auth-event"))}else We(new I("invalid-auth-event"))};function I5(s,l){var d=s.b,N=s.c;l.Fa(N,d)(s.g,s.f,s.T(),s.i).then(function(V){l.na(N,V,null,d)}).o(function(V){l.na(N,null,V,d)})}function GP(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function Sx(s,l){this.a=l,Vt(this,"verificationId",s)}Sx.prototype.confirm=function(s){return s=MA(this.verificationId,s),this.a(s)};function Ex(s,l,d,N){return new Oo(s).gb(l,d).then(function(V){return new Sx(V,N)})}function A5(s){var l=mA(s);if(!(l&&l.exp&&l.auth_time&&l.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");mr(this,{token:s,expirationTime:vh(1e3*l.exp),authTime:vh(1e3*l.auth_time),issuedAtTime:vh(1e3*l.iat),signInProvider:l.firebase&&l.firebase.sign_in_provider?l.firebase.sign_in_provider:null,signInSecondFactor:l.firebase&&l.firebase.sign_in_second_factor?l.firebase.sign_in_second_factor:null,claims:l})}function Tx(s,l,d){var N=l&&l[KP];if(!N)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=Bt(l),this.g=d,this.c=new Hp(null,N),this.b=[];var V=this;B(l[HP]||[],function(tt){(tt=gw(tt))&&V.b.push(tt)}),Vt(this,"auth",this.a),Vt(this,"session",this.c),Vt(this,"hints",this.b)}var HP="mfaInfo",KP="mfaPendingCredential";Tx.prototype.Rc=function(s){var l=this;return s.tb(this.a.a,this.c).then(function(d){var N=Bt(l.f);return delete N[HP],delete N[KP],It(N,d),l.g(N)})};function kx(s,l,d,N){I.call(this,"multi-factor-auth-required",N,l),this.b=new Tx(s,l,d),Vt(this,"resolver",this.b)}F(kx,I);function XP(s,l,d){if(s&&P(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new kx(l,s.serverResponse,d,s.message)}catch{}return null}function YP(){}YP.prototype.tb=function(s,l,d){return l.type==wh?P5(this,s,l,d):R5(this,s,l)};function P5(s,l,d,N){return d.Ha().then(function(V){return V={idToken:V},typeof N<"u"&&(V.displayName=N),It(V,{phoneVerificationInfo:xh(s.a)}),fe(l,wW,V)})}function R5(s,l,d){return d.Ha().then(function(N){return N={mfaPendingCredential:N},It(N,{phoneVerificationInfo:xh(s.a)}),fe(l,xW,N)})}function Cx(s){Vt(this,"factorId",s.fa),this.a=s}F(Cx,YP);function qP(s){if(Cx.call(this,s),this.a.fa!=Oo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}F(qP,Cx);function hl(s,l){Nr.call(this,s);for(var d in l)this[d]=l[d]}F(hl,Nr);function Ix(s,l){this.a=s,this.b=[],this.c=$(this.yc,this),pi(this.a,"userReloaded",this.c);var d=[];l&&l.multiFactor&&l.multiFactor.enrolledFactors&&B(l.multiFactor.enrolledFactors,function(N){var V=null,tt={};if(N){N.uid&&(tt[yw]=N.uid),N.displayName&&(tt[nA]=N.displayName),N.enrollmentTime&&(tt[mw]=new Date(N.enrollmentTime).toISOString()),N.phoneNumber&&(tt[ww]=N.phoneNumber);try{V=new gh(tt)}catch{}N=V}else N=null;N&&d.push(N)}),yv(this,d)}function M5(s){var l=[];return B(s.mfaInfo||[],function(d){(d=gw(d))&&l.push(d)}),l}t=Ix.prototype,t.yc=function(s){yv(this,M5(s.hd))};function yv(s,l){s.b=l,Vt(s,"enrolledFactors",l)}t.Sb=function(){return this.a.I().then(function(s){return new Hp(s,null)})},t.fc=function(s,l){var d=this,N=this.a.a;return this.Sb().then(function(V){return s.tb(N,V,l)}).then(function(V){return lo(d.a,V),d.a.reload()})},t.bd=function(s){var l=this,d=typeof s=="string"?s:s.uid,N=this.a.a;return this.a.I().then(function(V){return fe(N,UW,{idToken:V,mfaEnrollmentId:d})}).then(function(V){var tt=G(l.b,function(rt){return rt.uid!=d});return yv(l,tt),lo(l.a,V),l.a.reload().o(function(rt){if(rt.code!="auth/user-token-expired")throw rt})})},t.w=function(){return{multiFactor:{enrolledFactors:Z(this.b,function(s){return s.w()})}}};function Ax(s,l,d){if(this.h=s,this.i=l,this.g=d,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Ax.prototype.start=function(){this.a=this.c,Px(this,!0)};function O5(s,l){return l?(s.a=s.c,s.g()):(l=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),l)}function Px(s,l){s.stop(),s.b=Qu(O5(s,l)).then(function(){return cV()}).then(function(){return s.h()}).then(function(){Px(s,!0)}).o(function(d){s.i(d)&&Px(s,!1)})}Ax.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Rx(s){this.f=s,this.b=this.a=null,this.c=Date.now()}Rx.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function QP(s,l){typeof l>"u"&&(s.b?(l=s.b,l=l.a-l.g):l=0),s.c=Date.now()+1e3*l}function JP(s,l){s.b=Wp(l[Bi]||""),s.a=l.refreshToken,l=l.expiresIn,QP(s,typeof l<"u"?Number(l):void 0)}function N5(s,l){s.b=l.b,s.a=l.a,s.c=l.c}function D5(s,l){return rW(s.f,l).then(function(d){return s.b=Wp(d.access_token),s.a=d.refresh_token,QP(s,d.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(d){throw d.code=="auth/user-token-expired"&&(s.a=null),d})}Rx.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?We(new I("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?D5(this,{grant_type:"refresh_token",refresh_token:this.a}):Yt(null):Yt({accessToken:this.b.toString(),refreshToken:this.a})};function wv(s,l){this.a=s||null,this.b=l||null,mr(this,{lastSignInTime:vh(l||null),creationTime:vh(s||null)})}function L5(s){return new wv(s.a,s.b)}wv.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function F5(s,l,d,N,V,tt){mr(this,{uid:s,displayName:N||null,photoURL:V||null,email:d||null,phoneNumber:tt||null,providerId:l})}function qr(s,l,d){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var N=Gt.SDK_VERSION?el(Gt.SDK_VERSION):null;this.a=new ji(this.l,p(y),N),(this.u=s.emulatorConfig||null)&&av(this.a,this.u),this.h=new Rx(this.a),jx(this,l[Bi]),JP(this.h,l),Vt(this,"refreshToken",this.h.a),tR(this,d||{}),gr.call(this),this.P=!1,this.s&&ba()&&(this.b=_x(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=j5(this),this.ba=$(this.ib,this);var V=this;this.za=null,this.Pa=function(tt){V.xa(tt.h)},this.qa=null,this.Ba=function(tt){Mx(V,tt.c)},this.$=null,this.aa=[],this.Oa=function(tt){Dh(V,tt.f)},this.ja=null,this.S=new Ix(this,d),Vt(this,"multiFactor",this.S)}F(qr,gr),qr.prototype.xa=function(s){this.za=s,XA(this.a,s)};function Mx(s,l){s.u=l,av(s.a,l),s.b&&(l=s.b,s.b=_x(s.s,s.l,s.m,s.u),s.P&&(wx(l,s),vv(s.b,s)))}qr.prototype.la=function(){return this.za};function Ox(s,l){s.qa&&Xr(s.qa,"languageCodeChanged",s.Pa),(s.qa=l)&&pi(l,"languageCodeChanged",s.Pa)}function Nx(s,l){s.$&&Xr(s.$,"emulatorConfigChanged",s.Ba),(s.$=l)&&pi(l,"emulatorConfigChanged",s.Ba)}function Dh(s,l){s.aa=l,YA(s.a,Gt.SDK_VERSION?el(Gt.SDK_VERSION,s.aa):null)}qr.prototype.Ga=function(){return wt(this.aa)};function Dx(s,l){s.ja&&Xr(s.ja,"frameworkChanged",s.Oa),(s.ja=l)&&pi(l,"frameworkChanged",s.Oa)}qr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Lx(s){try{return Gt.app(s.m).auth()}catch{throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function j5(s){return new Ax(function(){return s.I(!0)},function(l){return!!(l&&l.code=="auth/network-request-failed")},function(){var l=s.h.c-Date.now()-3e5;return 0<l?l:0})}function ZP(s){s.J||s.D.b||(s.D.start(),Xr(s,"tokenChanged",s.ba),pi(s,"tokenChanged",s.ba))}function Fx(s){Xr(s,"tokenChanged",s.ba),s.D.stop()}function jx(s,l){s.Aa=l,Vt(s,"_lat",l)}function B5(s,l){st(s.W,function(d){return d==l})}function Ma(s){for(var l=[],d=0;d<s.W.length;d++)l.push(s.W[d](s));return mI(l).then(function(){return s})}function Lh(s){s.b&&!s.P&&(s.P=!0,vv(s.b,s))}function tR(s,l){mr(s,{uid:l.uid,displayName:l.displayName||null,photoURL:l.photoURL||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,isAnonymous:l.isAnonymous||!1,tenantId:l.tenantId||null,metadata:new wv(l.createdAt,l.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}Vt(qr.prototype,"providerId","firebase");function eR(){}function Bx(s){return Yt().then(function(){if(s.J)throw new I("app-deleted")})}function Ux(s){return Z(s.providerData,function(l){return l.providerId})}function zx(s,l){l&&(nR(s,l.providerId),s.providerData.push(l))}function nR(s,l){st(s.providerData,function(d){return d.providerId==l})}function gs(s,l,d){(l!="uid"||d)&&s.hasOwnProperty(l)&&Vt(s,l,d)}function xv(s,l){s!=l&&(mr(s,{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL,email:l.email,emailVerified:l.emailVerified,phoneNumber:l.phoneNumber,isAnonymous:l.isAnonymous,tenantId:l.tenantId,providerData:[]}),l.metadata?Vt(s,"metadata",L5(l.metadata)):Vt(s,"metadata",new wv),B(l.providerData,function(d){zx(s,d)}),N5(s.h,l.h),Vt(s,"refreshToken",s.h.a),yv(s.S,l.S.b))}t=qr.prototype,t.reload=function(){var s=this;return wn(this,Bx(this).then(function(){return $x(s).then(function(){return Ma(s)}).then(eR)}))};function $x(s){return s.I().then(function(l){var d=s.isAnonymous;return U5(s,l).then(function(){return d||gs(s,"isAnonymous",!1),l})})}t.oc=function(s){return this.I(s).then(function(l){return new A5(l)})},t.I=function(s){var l=this;return wn(this,Bx(this).then(function(){return l.h.getToken(s)}).then(function(d){if(!d)throw new I("internal-error");return d.accessToken!=l.Aa&&(jx(l,d.accessToken),l.dispatchEvent(new hl("tokenChanged"))),gs(l,"refreshToken",d.refreshToken),d.accessToken}))};function lo(s,l){l[Bi]&&s.Aa!=l[Bi]&&(JP(s.h,l),s.dispatchEvent(new hl("tokenChanged")),jx(s,l[Bi]),gs(s,"refreshToken",s.h.a))}function U5(s,l){return fe(s.a,bW,{idToken:l}).then($(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new I("internal-error");s=s[0],tR(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var l=z5(s),d=0;d<l.length;d++)zx(this,l[d]);gs(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new hl("userReloaded",{hd:s}))};function z5(s){return(s=s.providerUserInfo)&&s.length?Z(s,function(l){return new F5(l.rawId,l.providerId,l.email,l.displayName,l.photoUrl,l.phoneNumber)}):[]}t.Lc=function(s){return hw("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},t.ub=function(s){var l=this,d=null;return wn(this,s.c(this.a,this.uid).then(function(N){return lo(l,N),d=Fh(l,N,"reauthenticate"),l.i=null,l.reload()}).then(function(){return d}),!0)};function bv(s,l){return $x(s).then(function(){if(nt(Ux(s),l))return Ma(s).then(function(){throw new I("provider-already-linked")})})}t.Cc=function(s){return hw("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},t.rb=function(s){var l=this,d=null;return wn(this,bv(this,s.providerId).then(function(){return l.I()}).then(function(N){return s.b(l.a,N)}).then(function(N){return d=Fh(l,N,"link"),rR(l,N)}).then(function(){return d}))},t.Dc=function(s,l){var d=this;return wn(this,bv(this,"phone").then(function(){return Ex(Lx(d),s,l,$(d.rb,d))}))},t.Mc=function(s,l){var d=this;return wn(this,Yt().then(function(){return Ex(Lx(d),s,l,$(d.ub,d))}),!0)};function Fh(s,l,d){var N=Pw(l);return l=wA(l),ao({user:s,credential:N,additionalUserInfo:l,operationType:d})}function rR(s,l){return lo(s,l),s.reload().then(function(){return s})}t.Cb=function(s){var l=this;return wn(this,this.I().then(function(d){return l.a.Cb(d,s)}).then(function(d){return lo(l,d),l.reload()}))},t.ed=function(s){var l=this;return wn(this,this.I().then(function(d){return s.b(l.a,d)}).then(function(d){return lo(l,d),l.reload()}))},t.Db=function(s){var l=this;return wn(this,this.I().then(function(d){return l.a.Db(d,s)}).then(function(d){return lo(l,d),l.reload()}))},t.Eb=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return Bx(this);var l=this;return wn(this,this.I().then(function(d){return l.a.Eb(d,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(d){return lo(l,d),gs(l,"displayName",d.displayName||null),gs(l,"photoURL",d.photoUrl||null),B(l.providerData,function(N){N.providerId==="password"&&(Vt(N,"displayName",l.displayName),Vt(N,"photoURL",l.photoURL))}),Ma(l)}).then(eR))},t.cd=function(s){var l=this;return wn(this,$x(this).then(function(d){return nt(Ux(l),s)?cW(l.a,d,[s]).then(function(N){var V={};return B(N.providerUserInfo||[],function(tt){V[tt.providerId]=!0}),B(Ux(l),function(tt){V[tt]||nR(l,tt)}),V[Oo.PROVIDER_ID]||Vt(l,"phoneNumber",null),Ma(l)}):Ma(l).then(function(){throw new I("no-such-provider")})}))},t.delete=function(){var s=this;return wn(this,this.I().then(function(l){return fe(s.a,vW,{idToken:l})}).then(function(){s.dispatchEvent(new hl("userDeleted"))})).then(function(){for(var l=0;l<s.N.length;l++)s.N[l].cancel("app-deleted");Ox(s,null),Nx(s,null),Dx(s,null),s.N=[],s.J=!0,Fx(s),Vt(s,"refreshToken",null),s.b&&wx(s.b,s)})},t.Gb=function(s,l){return!!(s=="linkViaPopup"&&(this.g||null)==l&&this.f||s=="reauthViaPopup"&&(this.g||null)==l&&this.f||s=="linkViaRedirect"&&(this.ga||null)==l||s=="reauthViaRedirect"&&(this.ga||null)==l)},t.na=function(s,l,d,N){s!="linkViaPopup"&&s!="reauthViaPopup"||N!=(this.g||null)||(d&&this.C?this.C(d):l&&!d&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="linkViaPopup"&&l==(this.g||null)?$(this.Lb,this):s=="reauthViaPopup"&&l==(this.g||null)?$(this.Mb,this):s=="linkViaRedirect"&&(this.ga||null)==l?$(this.Lb,this):s=="reauthViaRedirect"&&(this.ga||null)==l?$(this.Mb,this):null},t.Ec=function(s){var l=this;return iR(this,"linkViaPopup",s,function(){return bv(l,s.providerId).then(function(){return Ma(l)})},!1)},t.Nc=function(s){return iR(this,"reauthViaPopup",s,function(){return Yt()},!0)};function iR(s,l,d,N,V){if(!ba())return We(new I("operation-not-supported-in-this-environment"));if(s.i&&!V)return We(s.i);var tt=Ew(d.providerId),rt=_a(s.uid+":::"),lt=null;(!dh()||aw())&&s.s&&d.isOAuthProvider&&(lt=Ph(s.s,s.l,s.m,l,d,null,rt,Gt.SDK_VERSION||null,null,null,s.tenantId,s.u));var Et=KI(lt,tt&&tt.va,tt&&tt.ua);return N=N().then(function(){if(sR(s),!V)return s.I().then(function(){})}).then(function(){return jP(s.b,Et,l,d,rt,!!lt,s.tenantId)}).then(function(){return new he(function(Pt,Zt){s.na(l,null,new I("cancelled-popup-request"),s.g||null),s.f=Pt,s.C=Zt,s.g=rt,s.c=UP(s.b,s,l,Et,rt)})}).then(function(Pt){return Et&&xa(Et),Pt?ao(Pt):null}).o(function(Pt){throw Et&&xa(Et),Pt}),wn(s,N,V)}t.Fc=function(s){var l=this;return oR(this,"linkViaRedirect",s,function(){return bv(l,s.providerId)},!1)},t.Oc=function(s){return oR(this,"reauthViaRedirect",s,function(){return Yt()},!0)};function oR(s,l,d,N,V){if(!ba())return We(new I("operation-not-supported-in-this-environment"));if(s.i&&!V)return We(s.i);var tt=null,rt=_a(s.uid+":::");return N=N().then(function(){if(sR(s),!V)return s.I().then(function(){})}).then(function(){return s.ga=rt,Ma(s)}).then(function(lt){return s.ha&&(lt=s.ha,lt=lt.b.set(Vx,s.w(),lt.a)),lt}).then(function(){return BP(s.b,l,d,rt,s.tenantId)}).o(function(lt){if(tt=lt,s.ha)return uR(s.ha);throw tt}).then(function(){if(tt)throw tt}),wn(s,N,V)}function sR(s){if(!s.b||!s.P)throw s.b&&!s.P?new I("internal-error"):new I("auth-domain-config-required")}t.Lb=function(s,l,d,N){var V=this;this.c&&(this.c.cancel(),this.c=null);var tt=null;return d=this.I().then(function(rt){return Qw(V.a,{requestUri:s,postBody:N,sessionId:l,idToken:rt})}).then(function(rt){return tt=Fh(V,rt,"link"),rR(V,rt)}).then(function(){return tt}),wn(this,d)},t.Mb=function(s,l,d,N){var V=this;this.c&&(this.c.cancel(),this.c=null);var tt=null,rt=Yt().then(function(){return ol(Jw(V.a,{requestUri:s,sessionId:l,postBody:N,tenantId:d}),V.uid)}).then(function(lt){return tt=Fh(V,lt,"reauthenticate"),lo(V,lt),V.i=null,V.reload()}).then(function(){return tt});return wn(this,rt,!0)},t.vb=function(s){var l=this,d=null;return wn(this,this.I().then(function(N){return d=N,typeof s>"u"||Wt(s)?{}:$p(new zp(s))}).then(function(N){return l.a.vb(d,N)}).then(function(N){if(l.email!=N)return l.reload()}).then(function(){}))},t.Fb=function(s,l){var d=this,N=null;return wn(this,this.I().then(function(V){return N=V,typeof l>"u"||Wt(l)?{}:$p(new zp(l))}).then(function(V){return d.a.Fb(N,s,V)}).then(function(V){if(d.email!=V)return d.reload()}).then(function(){}))};function wn(s,l,d){var N=$5(s,l,d);return s.N.push(N),N.oa(function(){at(s.N,N)}),N.o(function(V){var tt=null;throw V&&V.code==="auth/multi-factor-auth-required"&&(tt=XP(V.w(),Lx(s),$(s.jc,s))),tt||V})}t.jc=function(s){var l=null,d=this;return s=ol(Yt(s),d.uid).then(function(N){return l=Fh(d,N,"reauthenticate"),lo(d,N),d.i=null,d.reload()}).then(function(){return l}),wn(this,s,!0)};function $5(s,l,d){return s.i&&!d?(l.cancel(),We(s.i)):l.o(function(N){throw!N||N.code!="auth/user-disabled"&&N.code!="auth/user-token-expired"||(s.i||s.dispatchEvent(new hl("userInvalidated")),s.i=N),N})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&It(s,this.metadata.w()),B(this.providerData,function(l){s.providerData.push(dV(l))}),It(s,this.S.w()),s};function aR(s){if(!s.apiKey)return null;var l={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},d={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){d[Bi]=s.stsTokenManager.accessToken,d.refreshToken=s.stsTokenManager.refreshToken||null;var N=s.stsTokenManager.expirationTime;N&&(d.expiresIn=(N-Date.now())/1e3)}else return null;var V=new qr(l,d,s);return s.providerData&&B(s.providerData,function(tt){tt&&zx(V,ao(tt))}),s.redirectEventId&&(V.ga=s.redirectEventId),V}function V5(s,l,d,N){var V=new qr(s,l);return d&&(V.ha=d),N&&Dh(V,N),V.reload().then(function(){return V})}function W5(s,l,d,N){var V=s.h,tt={};return tt[Bi]=V.b&&V.b.toString(),tt.refreshToken=V.a,l=new qr(l||{apiKey:s.l,authDomain:s.s,appName:s.m},tt),d&&(l.ha=d),N&&Dh(l,N),xv(l,s),l}function G5(s){this.a=s,this.b=Nh()}var Vx={name:"redirectUser",F:"session"};function uR(s){return cl(s.b,Vx,s.a)}function H5(s,l){return s.b.get(Vx,s.a).then(function(d){return d&&l&&(d.authDomain=l),aR(d||{})})}function Wx(s){this.a=s,this.b=Nh(),this.c=null,this.f=K5(this),this.b.addListener(co("local"),this.a,$(this.g,this))}Wx.prototype.g=function(){var s=this,l=co("local");fl(this,function(){return Yt().then(function(){return s.c&&s.c.F!="local"?s.b.get(l,s.a):null}).then(function(d){if(d)return Gx(s,"local").then(function(){s.c=l})})})};function Gx(s,l){var d=[],N;for(N in ul)ul[N]!==l&&d.push(cl(s.b,co(ul[N]),s.a));return d.push(cl(s.b,Hx,s.a)),L$(d)}function K5(s){var l=co("local"),d=co("session"),N=co("none");return u5(s.b,l,s.a).then(function(){return s.b.get(d,s.a)}).then(function(V){return V?d:s.b.get(N,s.a).then(function(tt){return tt?N:s.b.get(l,s.a).then(function(rt){return rt?l:s.b.get(Hx,s.a).then(function(lt){return lt?co(lt):l})})})}).then(function(V){return s.c=V,Gx(s,V.F)}).o(function(){s.c||(s.c=l)})}var Hx={name:"persistence",F:"session"};function co(s){return{name:"authUser",F:s}}Wx.prototype.yb=function(s){var l=null,d=this;return a5(s),fl(this,function(){return s!=d.c.F?d.b.get(d.c,d.a).then(function(N){return l=N,Gx(d,s)}).then(function(){if(d.c=co(s),l)return d.b.set(d.c,l,d.a)}):Yt()})};function X5(s){return fl(s,function(){return s.b.set(Hx,s.c.F,s.a)})}function lR(s,l){return fl(s,function(){return s.b.set(s.c,l.w(),s.a)})}function cR(s){return fl(s,function(){return cl(s.b,s.c,s.a)})}function hR(s,l,d){return fl(s,function(){return s.b.get(s.c,s.a).then(function(N){return N&&l&&(N.authDomain=l),N&&d&&(N.emulatorConfig=d),aR(N||{})})})}function fl(s,l){return s.f=s.f.then(l,l),s.f}function Ui(s){if(this.l=!1,Vt(this,"settings",new GP),Vt(this,"app",s),Ne(this).options&&Ne(this).options.apiKey)s=Gt.SDK_VERSION?el(Gt.SDK_VERSION):null,this.a=new ji(Ne(this).options&&Ne(this).options.apiKey,p(y),s);else throw new I("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Gt.INTERNAL.createSubscribe($(this.zc,this)),this.W=void 0,this.ib=Gt.INTERNAL.createSubscribe($(this.Ac,this)),dl(this,null),this.i=new Wx(Ne(this).options.apiKey+":"+Ne(this).name),this.D=new G5(Ne(this).options.apiKey+":"+Ne(this).name),this.$=nn(this,tG(this)),this.h=nn(this,eG(this)),this.ba=!1,this.ja=$(this.Zc,this),this.Ba=$(this.da,this),this.qa=$(this.mc,this),this.za=$(this.wc,this),this.Aa=$(this.xc,this),this.b=null,Q5(this),this.INTERNAL={},this.INTERNAL.delete=$(this.delete,this),this.INTERNAL.logFramework=$(this.Gc,this),this.u=0,gr.call(this),q5(this),this.J=[],this.R=null}F(Ui,gr);function fR(s){Nr.call(this,"languageCodeChanged"),this.h=s}F(fR,Nr);function dR(s){Nr.call(this,"emulatorConfigChanged"),this.c=s}F(dR,Nr);function pR(s){Nr.call(this,"frameworkChanged"),this.f=s}F(pR,Nr),t=Ui.prototype,t.yb=function(s){return s=this.i.yb(s),nn(this,s)},t.xa=function(s){this.aa===s||this.l||(this.aa=s,XA(this.a,this.aa),this.dispatchEvent(new fR(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,l){if(!this.R){if(!/^https?:\/\//.test(s))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");l=l?!!l.disableWarnings:!1,Y5(l),this.R={url:s,ec:l},this.settings.jb=!0,av(this.a,this.R),this.dispatchEvent(new dR(this.R))}};function Y5(s){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&jp().then(function(){var l=c.document.createElement("div");l.innerText="Running in emulator mode. Do not use with production credentials.",l.style.position="fixed",l.style.width="100%",l.style.backgroundColor="#ffffff",l.style.border=".1em solid #000000",l.style.color="#b50000",l.style.bottom="0px",l.style.left="0px",l.style.margin="0px",l.style.zIndex=1e4,l.style.textAlign="center",l.classList.add("firebase-emulator-warning"),c.document.body.appendChild(l)})}t.Gc=function(s){this.J.push(s),YA(this.a,Gt.SDK_VERSION?el(Gt.SDK_VERSION,this.J):null),this.dispatchEvent(new pR(this.J))},t.Ga=function(){return wt(this.J)},t.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function q5(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(l){this.xa(l)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(l){this.zb(l)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var l=Dr(this.R.url);l=ao({protocol:l.c,host:l.a,port:l.g,options:ao({disableWarnings:this.R.ec})})}else l=null;return l},enumerable:!1})}t.toJSON=function(){return{apiKey:Ne(this).options.apiKey,authDomain:Ne(this).options.authDomain,appName:Ne(this).name,currentUser:ie(this)&&ie(this).w()}};function Kx(s){return s.Oa||We(new I("auth-domain-config-required"))}function Q5(s){var l=Ne(s).options.authDomain,d=Ne(s).options.apiKey;l&&ba()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=_x(l,d,Ne(s).name,s.R),vv(s.b,s),ie(s)&&Lh(ie(s)),s.m){Lh(s.m);var N=s.m;N.xa(s.la()),Ox(N,s),N=s.m,Dh(N,s.J),Dx(N,s),N=s.m,Mx(N,s.R),Nx(N,s),s.m=null}return s.b}}))}t.Gb=function(s,l){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==l&&!!this.f;default:return!1}},t.na=function(s,l,d,N){s=="signInViaPopup"&&this.g==N&&(d&&this.C?this.C(d):l&&!d&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==l&&this.f?$(this.ic,this):null},t.ic=function(s,l,d,N){var V=this,tt={requestUri:s,postBody:N,sessionId:l,tenantId:d};return this.c&&(this.c.cancel(),this.c=null),V.$.then(function(){return Oa(V,qw(V.a,tt))})},t.Xc=function(s){if(!ba())return We(new I("operation-not-supported-in-this-environment"));var l=this,d=Ew(s.providerId),N=_a(),V=null;(!dh()||aw())&&Ne(this).options.authDomain&&s.isOAuthProvider&&(V=Ph(Ne(this).options.authDomain,Ne(this).options.apiKey,Ne(this).name,"signInViaPopup",s,null,N,Gt.SDK_VERSION||null,null,null,this.T(),this.R));var tt=KI(V,d&&d.va,d&&d.ua);return d=Kx(this).then(function(rt){return jP(rt,tt,"signInViaPopup",s,N,!!V,l.T())}).then(function(){return new he(function(rt,lt){l.na("signInViaPopup",null,new I("cancelled-popup-request"),l.g),l.f=rt,l.C=lt,l.g=N,l.c=UP(l.b,l,"signInViaPopup",tt,N)})}).then(function(rt){return tt&&xa(tt),rt?ao(rt):null}).o(function(rt){throw tt&&xa(tt),rt}),nn(this,d)},t.Yc=function(s){if(!ba())return We(new I("operation-not-supported-in-this-environment"));var l=this,d=Kx(this).then(function(){return X5(l.i)}).then(function(){return BP(l.b,"signInViaRedirect",s,void 0,l.T())});return nn(this,d)};function vR(s){if(!ba())return We(new I("operation-not-supported-in-this-environment"));var l=Kx(s).then(function(){return s.b.ra()}).then(function(d){return d?ao(d):null});return nn(s,l)}t.ra=function(){var s=this;return vR(this).then(function(l){return s.b&&mv(s.b.b),l}).o(function(l){throw s.b&&mv(s.b.b),l})},t.dd=function(s){if(!s)return We(new I("null-user"));if(this.S!=s.tenantId)return We(new I("tenant-id-mismatch"));var l=this,d={};d.apiKey=Ne(this).options.apiKey,d.authDomain=Ne(this).options.authDomain,d.appName=Ne(this).name;var N=W5(s,d,l.D,l.Ga());return nn(this,this.h.then(function(){if(Ne(l).options.apiKey!=s.l)return N.reload()}).then(function(){return ie(l)&&s.uid==ie(l).uid?(xv(ie(l),s),l.da(s)):(dl(l,N),Lh(N),l.da(N))}).then(function(){jh(l)}))};function J5(s,l){var d={};return d.apiKey=Ne(s).options.apiKey,d.authDomain=Ne(s).options.authDomain,d.appName=Ne(s).name,s.R&&(d.emulatorConfig=s.R),s.$.then(function(){return V5(d,l,s.D,s.Ga())}).then(function(N){return ie(s)&&N.uid==ie(s).uid?(xv(ie(s),N),s.da(N)):(dl(s,N),Lh(N),s.da(N))}).then(function(){jh(s)})}function dl(s,l){ie(s)&&(B5(ie(s),s.Ba),Xr(ie(s),"tokenChanged",s.qa),Xr(ie(s),"userDeleted",s.za),Xr(ie(s),"userInvalidated",s.Aa),Fx(ie(s))),l&&(l.W.push(s.Ba),pi(l,"tokenChanged",s.qa),pi(l,"userDeleted",s.za),pi(l,"userInvalidated",s.Aa),0<s.u&&ZP(l)),Vt(s,"currentUser",l),l&&(l.xa(s.la()),Ox(l,s),Dh(l,s.J),Dx(l,s),Mx(l,s.R),Nx(l,s))}t.Bb=function(){var s=this,l=this.h.then(function(){return s.b&&mv(s.b.b),ie(s)?(dl(s,null),cR(s.i).then(function(){jh(s)})):Yt()});return nn(this,l)};function Z5(s){var l=H5(s.D,Ne(s).options.authDomain).then(function(d){return(s.m=d)&&(d.ha=s.D),uR(s.D)});return nn(s,l)}function tG(s){var l=Ne(s).options.authDomain,d=Z5(s).then(function(){return hR(s.i,l,s.R)}).then(function(N){return N?(N.ha=s.D,s.m&&(s.m.ga||null)==(N.ga||null)?N:N.reload().then(function(){return lR(s.i,N).then(function(){return N})}).o(function(V){return V.code=="auth/network-request-failed"?N:cR(s.i)})):null}).then(function(N){dl(s,N||null)});return nn(s,d)}function eG(s){return s.$.then(function(){return vR(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var l=s.i;l.b.addListener(co("local"),l.a,s.ja)}})}t.Zc=function(){var s=this;return hR(this.i,Ne(this).options.authDomain).then(function(l){if(!s.l){var d;if(d=ie(s)&&l){d=ie(s).uid;var N=l.uid;d=d==null||d===""||N===void 0||N===null||N===""?!1:d==N}if(d)return xv(ie(s),l),ie(s).I();(ie(s)||l)&&(dl(s,l),l&&(Lh(l),l.ha=s.D),s.b&&vv(s.b,s),jh(s))}})},t.da=function(s){return lR(this.i,s)},t.mc=function(){jh(this),this.da(ie(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Oa(s,l){var d=null,N=null;return nn(s,l.then(function(V){return d=Pw(V),N=wA(V),J5(s,V)},function(V){var tt=null;throw V&&V.code==="auth/multi-factor-auth-required"&&(tt=XP(V.w(),s,$(s.kc,s))),tt||V}).then(function(){return ao({user:ie(s),credential:d,additionalUserInfo:N,operationType:"signIn"})}))}t.kc=function(s){var l=this;return this.h.then(function(){return Oa(l,Yt(s))})},t.zc=function(s){var l=this;this.addAuthTokenListener(function(){s.next(ie(l))})},t.Ac=function(s){var l=this;nG(this,function(){s.next(ie(l))})},t.Ic=function(s,l,d){var N=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(ie(N)):typeof s.next=="function"&&s.next(ie(N))}),this.Pa(s,l,d)},t.Hc=function(s,l,d){var N=this;return this.ba&&Promise.resolve().then(function(){N.W=N.getUid(),typeof s=="function"?s(ie(N)):typeof s.next=="function"&&s.next(ie(N))}),this.ib(s,l,d)},t.nc=function(s){var l=this,d=this.h.then(function(){return ie(l)?ie(l).I(s).then(function(N){return{accessToken:N}}):null});return nn(this,d)},t.Tc=function(s){var l=this;return this.h.then(function(){return Oa(l,fe(l.a,LW,{token:s}))}).then(function(d){var N=d.user;return gs(N,"isAnonymous",!1),l.da(N),d})},t.Uc=function(s,l){var d=this;return this.h.then(function(){return Oa(d,fe(d.a,iP,{email:s,password:l}))})},t.dc=function(s,l){var d=this;return this.h.then(function(){return Oa(d,fe(d.a,dW,{email:s,password:l}))})},t.ab=function(s){var l=this;return this.h.then(function(){return Oa(l,s.ka(l.a))})},t.Sc=function(s){return hw("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},t.Ab=function(){var s=this;return this.h.then(function(){var l=ie(s);if(l&&l.isAnonymous){var d=ao({providerId:null,isNewUser:!1});return ao({user:l,credential:null,additionalUserInfo:d,operationType:"signIn"})}return Oa(s,s.a.Ab()).then(function(N){var V=N.user;return gs(V,"isAnonymous",!0),s.da(V),N})})};function Ne(s){return s.app}function ie(s){return s.currentUser}t.getUid=function(){return ie(this)&&ie(this).uid||null};function _v(s){return ie(s)&&ie(s)._lat||null}function jh(s){if(s.ba){for(var l=0;l<s.s.length;l++)s.s[l]&&s.s[l](_v(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),l=0;l<s.N.length;l++)s.N[l]&&s.N[l](_v(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&ie(this)&&ZP(ie(this))},t.Pc=function(s){var l=this;B(this.s,function(d){d==s&&l.u--}),0>this.u&&(this.u=0),this.u==0&&ie(this)&&Fx(ie(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var l=this;this.s.push(s),nn(this,this.h.then(function(){l.l||nt(l.s,s)&&s(_v(l))}))},t.removeAuthTokenListener=function(s){st(this.s,function(l){return l==s})};function nG(s,l){s.N.push(l),nn(s,s.h.then(function(){!s.l&&nt(s.N,l)&&s.W!==s.getUid()&&(s.W=s.getUid(),l(_v(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i,s.b.removeListener(co("local"),s.a,this.ja)),this.b&&(wx(this.b,this),mv(this.b.b)),Promise.resolve()};function nn(s,l){return s.P.push(l),l.oa(function(){at(s.P,l)}),l}t.hc=function(s){return nn(this,iW(this.a,s))},t.Bc=function(s){return!!Aw(s)},t.xb=function(s,l){var d=this;return nn(this,Yt().then(function(){var N=new zp(l);if(!N.c)throw new I("argument-error",_w+" must be true when sending sign in link to email");return $p(N)}).then(function(N){return d.a.xb(s,N)}).then(function(){}))},t.jd=function(s){return this.Sa(s).then(function(l){return l.data.email})},t.ob=function(s,l){return nn(this,this.a.ob(s,l).then(function(){}))},t.Sa=function(s){return nn(this,this.a.Sa(s).then(function(l){return new vV(l)}))},t.kb=function(s){return nn(this,this.a.kb(s).then(function(){}))},t.wb=function(s,l){var d=this;return nn(this,Yt().then(function(){return typeof l>"u"||Wt(l)?{}:$p(new zp(l))}).then(function(N){return d.a.wb(s,N)}).then(function(){}))},t.Wc=function(s,l){return nn(this,Ex(this,s,l,$(this.ab,this)))},t.Vc=function(s,l){var d=this;return nn(this,Yt().then(function(){var N=l||fh(),V=RA(s,N);if(N=Aw(N),!N)throw new I("argument-error","Invalid email link!");if(N.tenantId!==d.T())throw new I("tenant-id-mismatch");return d.ab(V)}))};function Bh(){}Bh.prototype.render=function(){},Bh.prototype.reset=function(){},Bh.prototype.getResponse=function(){},Bh.prototype.execute=function(){};function pl(){this.a={},this.b=1e12}var Xx=null;pl.prototype.render=function(s,l){return this.a[this.b.toString()]=new Sv(s,l),this.b++},pl.prototype.reset=function(s){var l=Yx(this,s);s=gR(s),l&&s&&(l.delete(),delete this.a[s])},pl.prototype.getResponse=function(s){return(s=Yx(this,s))?s.getResponse():null},pl.prototype.execute=function(s){(s=Yx(this,s))&&s.execute()};function Yx(s,l){return(l=gR(l))&&s.a[l]||null}function gR(s){return(s=typeof s>"u"?1e12:s)?s.toString():null}function Sv(s,l){this.g=!1,this.c=l,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=oh(s);var d=this;this.i=function(){d.execute()},this.h?this.execute():pi(this.f,"click",this.i)}Sv.prototype.getResponse=function(){return qx(this),this.b},Sv.prototype.execute=function(){qx(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=lV();var l=s.c.callback,d=s.c["expired-callback"];if(l)try{l(s.b)}catch{}s.a=setTimeout(function(){if(s.a=null,s.b=null,d)try{d()}catch{}s.h&&s.execute()},6e4)},500))},Sv.prototype.delete=function(){qx(this),this.g=!0,clearTimeout(this.a),this.a=null,Xr(this.f,"click",this.i)};function qx(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function Qx(){}Vt(Qx,"FACTOR_ID","phone");function Jx(){}Jx.prototype.g=function(){return Xx||(Xx=new pl),Yt(Xx)},Jx.prototype.c=function(){};var Zx=null;function tb(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var rG=new me(Be,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),iG=new ds(3e4,6e4);tb.prototype.g=function(s){var l=this;return new he(function(d,N){var V=setTimeout(function(){N(new I("network-request-failed"))},iG.get());if(!c.grecaptcha||s!==l.f&&!l.b){c[l.a]=function(){if(c.grecaptcha){l.f=s;var rt=c.grecaptcha.render;c.grecaptcha.render=function(lt,Et){return lt=rt(lt,Et),l.b++,lt},clearTimeout(V),d(c.grecaptcha)}else clearTimeout(V),N(new I("internal-error"));delete c[l.a]};var tt=D0(rG,{onload:l.a,hl:s||""});Yt(Vw(tt)).o(function(){clearTimeout(V),N(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(V),d(c.grecaptcha)})},tb.prototype.c=function(){this.b--};var eb=null;function nb(s,l,d,N,V,tt,rt){if(Vt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=l,this.g=null,rt?(Zx||(Zx=new Jx),rt=Zx):(eb||(eb=new tb),rt=eb),this.m=rt,this.a=d||{theme:"light",type:"image"},this.h=[],this.a[wR])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[oG]==="invisible",!c.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oh(l)||!this.i&&oh(l).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ji(s,tt||null,V||null),this.u=N||function(){return null};var lt=this;this.l=[];var Et=this.a[mR];this.a[mR]=function(Zt){if(xR(lt,Zt),typeof Et=="function")Et(Zt);else if(typeof Et=="string"){var Ae=Ge(Et,c);typeof Ae=="function"&&Ae(Zt)}};var Pt=this.a[yR];this.a[yR]=function(){if(xR(lt,null),typeof Pt=="function")Pt();else if(typeof Pt=="string"){var Zt=Ge(Pt,c);typeof Zt=="function"&&Zt()}}}var mR="callback",yR="expired-callback",wR="sitekey",oG="size";function xR(s,l){for(var d=0;d<s.l.length;d++)try{s.l[d](l)}catch{}}function sG(s,l){st(s.l,function(d){return d==l})}function rb(s,l){return s.h.push(l),l.oa(function(){at(s.h,l)}),l}t=nb.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=rb(this,Yt().then(function(){if(Bp()&&!Li())return jp();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(l){return s.g=l,fe(s.s,CW,{})}).then(function(l){s.a[wR]=l.recaptchaSiteKey}).o(function(l){throw s.f=null,l}))},t.render=function(){Ev(this);var s=this;return rb(this,this.Ia().then(function(){if(s.c===null){var l=s.v;if(!s.i){var d=oh(l);l=M$("DIV"),d.appendChild(l)}s.c=s.g.render(l,s.a)}return s.c}))},t.verify=function(){Ev(this);var s=this;return rb(this,this.render().then(function(l){return new he(function(d){var N=s.g.getResponse(l);if(N)d(N);else{var V=function(tt){tt&&(sG(s,V),d(tt))};s.l.push(V),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){Ev(this),this.c!==null&&this.g.reset(this.c)};function Ev(s){if(s.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Ev(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=oh(this.v);for(var l;l=s.firstChild;)s.removeChild(l)}};function ib(s,l,d){var N=!1;try{this.b=d||Gt.app()}catch{throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)d=this.b.options.apiKey;else throw new I("invalid-api-key");var V=this,tt=null;try{tt=this.b.auth().Ga()}catch{}try{N=this.b.auth().settings.appVerificationDisabledForTesting}catch{}tt=Gt.SDK_VERSION?el(Gt.SDK_VERSION,tt):null,nb.call(this,d,s,l,function(){try{var rt=V.b.auth().la()}catch{rt=null}return rt},tt,p(y),N)}F(ib,nb);function bR(s,l,d,N){t:{d=Array.prototype.slice.call(d);for(var V=0,tt=!1,rt=0;rt<l.length;rt++)if(l[rt].optional)tt=!0;else{if(tt)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");V++}if(tt=l.length,d.length<V||tt<d.length)N="Expected "+(V==tt?V==1?"1 argument":V+" arguments":V+"-"+tt+" arguments")+" but got "+d.length+".";else{for(V=0;V<d.length;V++)if(tt=l[V].optional&&d[V]===void 0,!l[V].M(d[V])&&!tt){if(l=l[V],0>V||V>=_R.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");d=_R[V],N=(N?"":d+" argument ")+(l.name?'"'+l.name+'" ':"")+"must be "+l.K+".";break t}N=null}}if(N)throw new I("argument-error",s+" failed: "+N)}var _R="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $t(s,l){return{name:s||"",K:"a valid string",optional:!!l,M:function(d){return typeof d=="string"}}}function ob(s,l){return{name:s||"",K:"a boolean",optional:!!l,M:function(d){return typeof d=="boolean"}}}function hn(s,l){return{name:s||"",K:"a valid object",optional:!!l,M:P}}function vl(s,l){return{name:s||"",K:"a function",optional:!!l,M:function(d){return typeof d=="function"}}}function ho(s,l){return{name:s||"",K:"null",optional:!!l,M:function(d){return d===null}}}function aG(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function uG(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof Ui)}}}function lG(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof Gt.app.App)}}}function ms(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(l){if(!l)return!1;var d=!s||l.providerId===s;return!(!l.ka||!d)}}}function SR(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.tb:!1}}}function gl(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function sb(s,l){return P(s)&&typeof s.type=="string"&&s.type===l&&typeof s.Ha=="function"}function ER(s){return P(s)&&typeof s.uid=="string"}function Tv(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function an(s,l,d,N){return{name:d||"",K:s.K+" or "+l.K,optional:!!N,M:function(V){return s.M(V)||l.M(V)}}}function qe(s,l){for(var d in l){var N=l[d].name;s[N]=kR(N,s[d],l[d].j)}}function TR(s,l){for(var d in l){var N=l[d].name;N!==d&&Object.defineProperty(s,N,{get:H(function(V){return this[V]},d),set:H(function(V,tt,rt,lt){bR(V,[rt],[lt],!0),this[tt]=lt},N,d,l[d].lb),enumerable:!0})}}function un(s,l,d,N){s[l]=kR(l,d,N)}function kR(s,l,d){function N(){var rt=Array.prototype.slice.call(arguments);return bR(V,d,rt),l.apply(this,rt)}if(!d)return l;var V=cG(s),tt;for(tt in l)N[tt]=l[tt];for(tt in l.prototype)N.prototype[tt]=l.prototype[tt];return N}function cG(s){return s=s.split("."),s[s.length-1]}qe(Ui.prototype,{kb:{name:"applyActionCode",j:[$t("code")]},Sa:{name:"checkActionCode",j:[$t("code")]},ob:{name:"confirmPasswordReset",j:[$t("code"),$t("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$t("email"),$t("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$t("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$t("emailLink")]},Hc:{name:"onAuthStateChanged",j:[an(hn(),vl(),"nextOrObserver"),vl("opt_error",!0),vl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[an(hn(),vl(),"nextOrObserver"),vl("opt_error",!0),vl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[$t("email"),an(hn("opt_actionCodeSettings",!0),ho(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[$t("email"),hn("actionCodeSettings")]},yb:{name:"setPersistence",j:[$t("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ms()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ms()]},Tc:{name:"signInWithCustomToken",j:[$t("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$t("email"),$t("password")]},Vc:{name:"signInWithEmailLink",j:[$t("email"),$t("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$t("phoneNumber"),Tv()]},Xc:{name:"signInWithPopup",j:[gl()]},Yc:{name:"signInWithRedirect",j:[gl()]},dd:{name:"updateCurrentUser",j:[an(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(l){return!!(l&&l instanceof qr)}}}(),ho(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$t(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$t("url"),hn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$t("code")]}}),TR(Ui.prototype,{lc:{name:"languageCode",lb:an($t(),ho(),"languageCode")},ti:{name:"tenantId",lb:an($t(),ho(),"tenantId")}}),Ui.Persistence=ul,Ui.Persistence.LOCAL="local",Ui.Persistence.SESSION="session",Ui.Persistence.NONE="none",qe(qr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[ob("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[ob("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ms()]},rb:{name:"linkWithCredential",j:[ms()]},Dc:{name:"linkWithPhoneNumber",j:[$t("phoneNumber"),Tv()]},Ec:{name:"linkWithPopup",j:[gl()]},Fc:{name:"linkWithRedirect",j:[gl()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ms()]},ub:{name:"reauthenticateWithCredential",j:[ms()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$t("phoneNumber"),Tv()]},Nc:{name:"reauthenticateWithPopup",j:[gl()]},Oc:{name:"reauthenticateWithRedirect",j:[gl()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[an(hn("opt_actionCodeSettings",!0),ho(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$t(null,!0)]},cd:{name:"unlink",j:[$t("provider")]},Cb:{name:"updateEmail",j:[$t("email")]},Db:{name:"updatePassword",j:[$t("password")]},ed:{name:"updatePhoneNumber",j:[ms("phone")]},Eb:{name:"updateProfile",j:[hn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[$t("email"),an(hn("opt_actionCodeSettings",!0),ho(null,!0),"opt_actionCodeSettings",!0)]}}),qe(pl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qe(Bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qe(he.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),TR(GP.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:ob("appVerificationDisabledForTesting")}}),qe(Sx.prototype,{confirm:{name:"confirm",j:[$t("verificationCode")]}}),un(il,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var l,d=[OV,NV,DV,MV],N=0;N<d.length;N++)if(l=d[N](s))return l;return null},[an($t(),hn(),"json")]),un(gi,"credential",function(s,l){return new ps(s,l)},[$t("email"),$t("password")]),qe(ps.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),qe(Ta.prototype,{Ca:{name:"addScope",j:[$t("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(Ta,"credential",CA,[an($t(),hn(),"token")]),un(gi,"credentialWithLink",RA,[$t("email"),$t("emailLink")]),qe(ka.prototype,{Ca:{name:"addScope",j:[$t("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(ka,"credential",IA,[an($t(),hn(),"token")]),qe(Ca.prototype,{Ca:{name:"addScope",j:[$t("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(Ca,"credential",AA,[an($t(),an(hn(),ho()),"idToken"),an($t(),ho(),"accessToken",!0)]),qe(sl.prototype,{Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(sl,"credential",PA,[an($t(),hn(),"token"),$t("secret",!0)]),qe(Yr.prototype,{Ca:{name:"addScope",j:[$t("scope")]},credential:{name:"credential",j:[an($t(),an(hn(),ho()),"optionsOrIdToken"),an($t(),ho(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),qe(Mo.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),qe(Sa.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),un(Oo,"credential",MA,[$t("verificationId"),$t("verificationCode")]),qe(Oo.prototype,{gb:{name:"verifyPhoneNumber",j:[an($t(),function(s,l){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!l,M:function(d){return d?d.session&&d.phoneNumber?sb(d.session,wh)&&typeof d.phoneNumber=="string":d.session&&d.multiFactorHint?sb(d.session,Kp)&&ER(d.multiFactorHint):d.session&&d.multiFactorUid?sb(d.session,Kp)&&typeof d.multiFactorUid=="string":d.phoneNumber?typeof d.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Tv()]}}),qe(vs.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),qe(I.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),qe(bh.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),qe(Ow.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),qe(kx.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),qe(Tx.prototype,{Rc:{name:"resolveSignIn",j:[SR()]}}),qe(Ix.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[SR(),$t("displayName",!0)]},bd:{name:"unenroll",j:[an({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ER},$t(),"multiFactorInfoIdentifier")]}}),qe(ib.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),un(bw,"parseLink",lA,[$t("link")]),un(Qx,"assertion",function(s){return new qP(s)},[ms("phone")]),function(){if(typeof Gt<"u"&&Gt.INTERNAL&&Gt.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Up,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:xw,VERIFY_AND_CHANGE_EMAIL:mh,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ui,AuthCredential:il,Error:I};un(s,"EmailAuthProvider",gi,[]),un(s,"FacebookAuthProvider",Ta,[]),un(s,"GithubAuthProvider",ka,[]),un(s,"GoogleAuthProvider",Ca,[]),un(s,"TwitterAuthProvider",sl,[]),un(s,"OAuthProvider",Yr,[$t("providerId")]),un(s,"SAMLAuthProvider",kA,[$t("providerId")]),un(s,"PhoneAuthProvider",Oo,[uG()]),un(s,"RecaptchaVerifier",ib,[an($t(),aG(),"recaptchaContainer"),hn("recaptchaParameters",!0),lG()]),un(s,"ActionCodeURL",bw,[]),un(s,"PhoneMultiFactorGenerator",Qx,[]),Gt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(l){return l=l.getProvider("app").getImmediate(),new Ui(l)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(l){l.getProvider("auth-internal").initialize()}}),Gt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(l){return l=l.getProvider("auth").getImmediate(),{getUid:$(l.getUid,l),getToken:$(l.nc,l),addAuthTokenListener:$(l.cc,l),removeAuthTokenListener:$(l.Pc,l)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Gt.registerVersion("@firebase/auth","0.16.8"),Gt.INTERNAL.extendNamespace({User:qr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var q9="@firebase/database",Q9="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj="";function Lj(t){Dj=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J9=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_n(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sd(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z9=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return ui(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fj=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new J9(e)}}catch{}return new Z9},Qa=Fj("localStorage"),tS=Fj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql=new Du("@firebase/database"),jj=function(){var t=1;return function(){return t++}}(),Bj=function(t){var e=m9(t),n=new d9;n.update(e);var r=n.digest();return Ay.encodeByteArray(r)},qd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=qd.apply(null,i):typeof i=="object"?n+=_n(i):n+=i,n+=" "}return n},au=null,IO=!0,Uj=function(t,e){Nt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ql.logLevel=ce.VERBOSE,au=ql.log.bind(ql),e&&tS.set("logging_enabled",!0)):typeof t=="function"?au=t:(au=null,tS.remove("logging_enabled"))},Mn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(IO===!0&&(IO=!1,au===null&&tS.get("logging_enabled")===!0&&Uj(!0)),au){var n=qd.apply(null,t);au(n)}},Qd=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Mn.apply(void 0,se([t],Hn(e)))}},eS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+qd.apply(void 0,se([],Hn(t)));ql.error(n)},To=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+qd.apply(void 0,se([],Hn(t)));throw ql.error(n),new Error(n)},Yn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+qd.apply(void 0,se([],Hn(t)));ql.warn(n)},t7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ry=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},e7=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ts="[MIN_NAME]",ko="[MAX_NAME]",Lu=function(t,e){if(t===e)return 0;if(t===ts||e===ko)return-1;if(e===ts||t===ko)return 1;var n=om(t),r=om(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},n7=function(t,e){return t===e?0:t<e?-1:1},qh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_n(e))},AT=function(t){if(typeof t!="object"||t===null)return _n(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=_n(e[i]),r+=":",r+=AT(t[e[i]]);return r+="}",r},zj=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function kn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var $j=function(t){Nt(!Ry(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,u,c;t===0?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);h.push(i?1:0),h.reverse();var f=h.join(""),v="";for(c=0;c<64;c+=8){var g=parseInt(f.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},r7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},i7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function o7(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var s7=new RegExp("^-?(0*)\\d{1,10}$"),Vj=-2147483648,PT=2147483647,om=function(t){if(s7.test(t)){var e=Number(t);if(e>=Vj&&e<=PT)return e}return null},$c=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Yn("Exception was thrown by user callback.",n),e},Math.floor(0))}},a7=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u7=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){Yn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l7=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yn(e)},t}(),Cf=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RT="5",Wj="v",Gj="s",Hj="r",Kj="f",Xj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yj="ls",c7="p",nS="ac",qj="websocket",Qj="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MT=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=!1),a===void 0&&(a=""),u===void 0&&(u=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qa.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qa.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function h7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Jj(t,e,n){Nt(typeof e=="string","typeof type must == string"),Nt(typeof n=="object","typeof params must == object");var r;if(e===qj)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Qj)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);h7(t)&&(n.ns=t.namespace);var i=[];return kn(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f7=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),ui(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return Tj(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o1={},s1={};function OT(t){var e=t.toString();return o1[e]||(o1[e]=new f7),o1[e]}function d7(t,e){var n=t.toString();return s1[n]||(s1[n]=e()),s1[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p7=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var u=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(f){u[f]&&$c(function(){r.onMessage_(u[f])})},h=0;h<u.length;++h)c(h);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AO="start",v7="close",g7="pLPCommand",m7="pRTLPCB",Zj="id",tB="pw",eB="ser",y7="cb",w7="seg",x7="ts",b7="d",_7="dframe",nB=1870,rB=30,S7=nB-rB,E7=25e3,T7=3e4,NT=function(){function t(e,n,r,i,o,a,u){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qd(e),this.stats_=OT(n),this.urlFn=function(h){return c.appCheckToken&&(h[nS]=c.appCheckToken),Jj(n,Qj,h)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new p7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(T7)),e7(function(){if(!r.isClosed_){r.scriptTagHolder=new k7(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Hn(a,5),h=c[0],f=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===AO)r.id=f,r.password=v;else if(h===v7)f?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(f,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Hn(a,2),h=c[0],f=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,f)},function(){r.onClosed_()},r.urlFn);var i={};i[AO]="t",i[eB]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[y7]=r.scriptTagHolder.uniqueCallbackIdentifier),i[Wj]=RT,r.transportSessionId&&(i[Gj]=r.transportSessionId),r.lastSessionId&&(i[Yj]=r.lastSessionId),r.applicationId&&(i[c7]=r.applicationId),r.appCheckToken&&(i[nS]=r.appCheckToken),typeof location<"u"&&location.hostname&&Xj.test(location.hostname)&&(i[Hj]=Kj);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!r7()&&!i7()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=_n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=Ej(n),i=zj(r,S7),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[_7]="t",r[Zj]=e,r[tB]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=_n(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),k7=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jj(),window[g7+this.uniqueCallbackIdentifier]=e,window[m7+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){Mn("frame writing exception"),c.stack&&Mn(c.stack),Mn(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||Mn("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Zj]=this.myID,e[tB]=this.myPW,e[eB]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+rB+r.length<=nB){var a=this.pendingSegs.shift();r=r+"&"+w7+i+"="+a.seg+"&"+x7+i+"="+a.ts+"&"+b7+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(E7)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Mn("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C7=16384,I7=45e3,sm=null;typeof MozWebSocket<"u"?sm=MozWebSocket:typeof WebSocket<"u"&&(sm=WebSocket);var Wa=function(){function t(e,n,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qd(this.connId),this.stats_=OT(n),this.connURL=t.connectionURL_(n,a,u,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[Wj]=RT,typeof location<"u"&&location.hostname&&Xj.test(location.hostname)&&(o[Hj]=Kj),n&&(o[Gj]=n),r&&(o[Yj]=r),i&&(o[nS]=i),Jj(e,qj,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qa.set("previous_websocket_failure",!0);try{var i,o,a,u;if(!Ij()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new sm(this.connURL,[],o)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var f=h.message||h.data;f&&r.log_(f),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sm!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Qa.isInMemoryStorage||Qa.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Qa.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=sd(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Nt(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=_n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=zj(n,C7);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(I7))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A7=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[NT,Wa]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Wa&&Wa.isAvailable(),o=i&&!Wa.previouslyFailed();if(e.webSocketOnly&&(i||Yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Wa];else{var a=this.transports_=[];try{for(var u=Fn(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P7=6e4,R7=5e3,M7=10*1024,O7=100*1024,a1="t",PO="d",N7="s",RO="r",D7="e",MO="o",OO="a",NO="n",DO="p",L7="h",iB=function(){function t(e,n,r,i,o,a,u,c,h,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qd("c:"+this.id+":"),this.transportManager_=new A7(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=kf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>O7?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>M7?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(a1 in e){var n=e[a1];n===OO?this.upgradeIfSecondaryHealthy_():n===RO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===MO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=qh("t",e),r=qh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DO,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:NO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=qh("t",e),r=qh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=qh(a1,e);if(PO in e){var r=e[PO];if(n===L7)this.onHandshake_(r);else if(n===NO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===N7?this.onConnectionShutdown_(r):n===RO?this.onReset_(r):n===D7?eS("Server Error: "+r):n===MO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eS("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),RT!==r&&Yn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),kf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(P7))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(R7))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DO,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oB=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sB=function(){function t(e){this.allowedEvents_=e,this.listeners_={},Nt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=se([],Hn(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){Nt(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LO=function(t){jt(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ST()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return Nt(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(sB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FO=32,jO=768,Ce=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function Se(){return new Ce("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ta(t){return t.pieces_.length-t.pieceNum_}function De(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function DT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function F7(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ad(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function aB(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function Ye(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ce(n,0)}function ue(t){return t.pieceNum_>=t.pieces_.length}function Tr(t,e){var n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return Tr(De(t),De(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function j7(t,e){for(var n=ad(t,0),r=ad(e,0),i=0;i<n.length&&i<r.length;i++){var o=Lu(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function LT(t,e){if(ta(t)!==ta(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bi(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ta(t)>ta(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var B7=function(){function t(e,n){this.errorPrefix_=n,this.parts_=ad(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Py(this.parts_[r]);uB(this)}return t}();function U7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Py(e),uB(t)}function z7(t){var e=t.parts_.pop();t.byteLength_-=Py(e),t.parts_.length>0&&(t.byteLength_-=1)}function uB(t){if(t.byteLength_>jO)throw new Error(t.errorPrefix_+"has a key path longer than "+jO+" bytes ("+t.byteLength_+").");if(t.parts_.length>FO)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+FO+") or object contains a cycle "+za(t))}function za(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $7=function(t){jt(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return Nt(n==="visible","Unknown event type: "+n),[this.visible_]},e}(sB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qh=1e3,V7=60*5*1e3,W7=3*1e3,BO=30*1e3,G7=1.3,H7=3e4,K7="server_kill",UO=3,uu=function(t){jt(e,t);function e(n,r,i,o,a,u,c,h){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=o,f.onServerInfoUpdate_=a,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=h,f.id=e.nextPersistentConnectionId_++,f.log_=Qd("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Qh,f.maxReconnectDelay_=V7,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,h&&!Ij())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $7.getInstance().on("visible",f.onVisible_,f),n.host.indexOf("fblocal")===-1&&LO.getInstance().on("online",f.onOnline_,f),f}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(_n(a)),Nt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new Nn,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var u=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[u];c===void 0||a!==c||(delete r.outstandingGets_[u],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},W7),this.connected_&&this.sendGet_(u),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,u=n._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),Nt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Nt(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(u).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var u={p:o},c="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(c,u,function(h){var f=h.d,v=h.s;e.warnOnListenWarnings_(f,i);var g=r.listens.get(o)&&r.listens.get(o).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(v,f))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&ui(n,"w")){var i=bu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Yn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||h9(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BO)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=c9(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var u=a.s,c=a.d||"error";n.authToken_===r&&(u==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(u,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Nt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(u){o&&setTimeout(function(){o(u.s,u.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var u={p:r,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:n,request:u,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(u){r.log_(i+" response",u),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(u.s,u.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var u=o.d;r.log_("reportStats","Error sending stats: "+u)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+_n(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):eS("Unrecognized action received from server: "+_n(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;Nt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qh,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Qh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>H7&&(this.reconnectDelay_=Qh),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*G7)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c,h,f,v,g,b,w,T,P=this;return dt(this,function(k){switch(k.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,h=function(){c?c.close():(u=!0,i())},f=function(S){Nt(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(S)},this.realtime_={close:h,sendRequest:f},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,k.label=1;case 1:return k.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=Hn.apply(void 0,[k.sent(),2]),b=g[0],w=g[1],u?Mn("getToken() completed but was canceled"):(Mn("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=w&&w.token,c=new iB(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(S){Yn(S+" ("+P.repoInfo_.toString()+")"),P.interrupt(K7)},a)),[3,4];case 3:return T=k.sent(),this.log_("Failed to get token: "+T),u||(this.repoInfo_.nodeAdmin&&Yn(T),h()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){Mn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){Mn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],J_(this.interruptReasons_)&&(this.reconnectDelay_=Qh,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return AT(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new Ce(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){Mn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UO&&(this.reconnectDelay_=BO,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){Mn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UO&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=Fn(this.listens.values()),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var h=(i=void 0,Fn(c.values())),f=h.next();!f.done;f=h.next()){var v=f.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var b=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(b.action,b.pathString,b.data,b.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+Dj.replace(/\./g,"-")]=1,ST()?n["framework.cordova"]=1:Cj()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=LO.getInstance().currentlyOnline();return J_(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(oB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var My=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new pe(ts,e),i=new pe(ts,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return pe.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gv,lB=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Gv},set:function(n){Gv=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Lu(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw Uc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return pe.MIN},e.prototype.maxPost=function(){return new pe(ko,Gv)},e.prototype.makePost=function(n,r){return Nt(typeof n=="string","KeyIndex indexValue must always be a string."),new pe(n,Gv)},e.prototype.toString=function(){return".key"},e}(My),xo=new lB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Ki=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??$o.EMPTY_NODE,this.right=o??$o.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return $o.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return $o.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),X7=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Ki(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),$o=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ki.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ki.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new Hv(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new Hv(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new Hv(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new Hv(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new X7,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t,e){return Lu(t.name,e.name)}function FT(t,e){return Lu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rS;function q7(t){rS=t}var cB=function(t){return typeof t=="number"?"number:"+$j(t):"string:"+t},hB=function(t){if(t.isLeafNode()){var e=t.val();Nt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ui(e,".sv"),"Priority must be a string or number.")}else Nt(t===rS||t.isEmpty(),"priority of unexpected type.");Nt(t===rS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zO,hc=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Nt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hB(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return zO},set:function(e){zO=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return ue(e)?this:ae(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Nt(r!==".priority"||ta(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+cB(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=$j(this.value_):e+=this.value_,this.lazyHash_=Bj(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Nt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Nt(i>=0,"Unknown leaf type: "+n),Nt(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fB,dB;function Q7(t){fB=t}function J7(t){dB=t}var Z7=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Lu(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return pe.MIN},e.prototype.maxPost=function(){return new pe(ko,new hc("[PRIORITY-POST]",dB))},e.prototype.makePost=function(n,r){var i=fB(n);return new pe(r,new hc("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(My),je=new Z7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tQ=Math.log(2),eQ=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/tQ,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),am=function(t,e,n,r){t.sort(e);var i=function(c,h){var f=h-c,v,g;if(f===0)return null;if(f===1)return v=t[c],g=n?n(v):v,new Ki(g,v.node,Ki.BLACK,null,null);var b=parseInt(f/2,10)+c,w=i(c,b),T=i(b+1,h);return v=t[b],g=n?n(v):v,new Ki(g,v.node,Ki.BLACK,w,T)},o=function(c){for(var h=null,f=null,v=t.length,g=function(k,S){var C=v-k,D=v;v-=k;var U=i(C+1,D),$=t[C],H=n?n($):$;b(new Ki(H,$.node,S,null,U))},b=function(k){h?(h.left=k,h=k):(f=k,h=k)},w=0;w<c.count;++w){var T=c.nextBitIsOne(),P=Math.pow(2,c.count-(w+1));T?g(P,Ki.BLACK):(g(P,Ki.BLACK),g(P,Ki.RED))}return f},a=new eQ(t.length),u=o(a);return new $o(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u1,bl={},um=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return Nt(bl&&je,"ChildrenNode.ts has not been loaded"),u1=u1||new t({".priority":bl},{".priority":je}),u1},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=bu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $o?n:null},t.prototype.hasIndex=function(e){return ui(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){Nt(e!==xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(pe.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;i?u=am(r,e.getCompare()):u=bl;var c=e.toString(),h=qt({},this.indexSet_);h[c]=e;var f=qt({},this.indexes_);return f[c]=u,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=rm(this.indexes_,function(o,a){var u=bu(r.indexSet_,a);if(Nt(u,"Missing index implementation for "+a),o===bl)if(u.isDefinedOn(e.node)){for(var c=[],h=n.getIterator(pe.Wrap),f=h.getNext();f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),am(c,u.getCompare())}else return bl;else{var v=n.get(e.name),g=o;return v&&(g=g.remove(new pe(e.name,v))),g.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=rm(this.indexes_,function(i){if(i===bl)return i;var o=n.get(e.name);return o?i.remove(new pe(e.name,o)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jh,ne=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hB(this.priorityNode_),this.children_.isEmpty()&&Nt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Jh||(Jh=new t(new $o(FT),null,um.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Jh},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Jh:n},t.prototype.getChild=function(e){var n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(De(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(Nt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new pe(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Jh:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=ae(e);if(r===null)return n;Nt(ae(e)!==".priority"||ta(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(De(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(je,function(c,h){n[c]=h.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+cB(this.getPriority().val())+":"),this.forEachChild(je,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Bj(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new pe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,pe.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,pe.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jd?-1:0},t.prototype.withIndex=function(e){if(e===xo||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===xo||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(je),i=n.getIterator(je),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===xo?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),nQ=function(t){jt(e,t);function e(){return t.call(this,new $o(FT),ne.EMPTY_NODE,um.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return ne.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ne),Jd=new nQ;Object.defineProperties(pe,{MIN:{value:new pe(ts,ne.EMPTY_NODE)},MAX:{value:new pe(ko,Jd)}});lB.__EMPTY_NODE=ne.EMPTY_NODE;hc.__childrenNodeConstructor=ne;q7(Jd);J7(Jd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rQ=!0;function Je(t,e){if(e===void 0&&(e=null),t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Nt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new hc(n,Je(e))}if(!(t instanceof Array)&&rQ){var r=[],i=!1,o=t;if(kn(o,function(h,f){if(h.substring(0,1)!=="."){var v=Je(f);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new pe(h,v)))}}),r.length===0)return ne.EMPTY_NODE;var a=am(r,Y7,function(h){return h.name},FT);if(i){var u=am(r,je.getCompare());return new ne(a,Je(e),new um({".priority":u},{".priority":je}))}else return new ne(a,Je(e),um.Default)}else{var c=ne.EMPTY_NODE;return kn(t,function(h,f){if(ui(t,h)&&h.substring(0,1)!=="."){var v=Je(f);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(Je(e))}}Q7(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jT=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,Nt(!ue(n)&&ae(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Lu(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Je(n),o=ne.EMPTY_NODE.updateChild(this.indexPath_,i);return new pe(r,o)},e.prototype.maxPost=function(){var n=ne.EMPTY_NODE.updateChild(this.indexPath_,Jd);return new pe(ko,n)},e.prototype.toString=function(){return ad(this.indexPath_,0).join("/")},e}(My);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iQ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Lu(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return pe.MIN},e.prototype.maxPost=function(){return pe.MAX},e.prototype.makePost=function(n,r){var i=Je(n);return new pe(r,i)},e.prototype.toString=function(){return".value"},e}(My),BT=new iQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iS="-",pB="z",vB=786,oQ=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=fc.charAt(n%64),n=Math.floor(n/64);Nt(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=fc.charAt(e[i]);return Nt(a.length===20,"nextPushId: Length should be 20."),a}}(),$O=function(t){if(t===""+PT)return iS;var e=om(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<vB)return n.push(iS),n.join("");for(var i=n.length-1;i>=0&&n[i]===pB;)i--;if(i===-1)return ko;var o=n[i],a=fc.charAt(fc.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},VO=function(t){if(t===""+Vj)return ts;var e=om(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===iS?n.length===1?""+PT:(delete n[n.length-1],n.join("")):(n[n.length-1]=fc.charAt(fc.indexOf(n[n.length-1])-1),n.join("")+pB.repeat(vB-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t){return{type:"value",snapshotNode:t}}function dc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ud(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ld(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sQ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UT=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){Nt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(ud(n,u)):Nt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(dc(n,r)):a.trackChildChange(ld(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(je,function(i,o){n.hasChild(i)||r.trackChildChange(ud(i,o))}),n.isLeafNode()||n.forEachChild(je,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(ld(i,o,a))}else r.trackChildChange(dc(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mB=function(){function t(e){this.indexedFilter_=new UT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new pe(n,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=ne.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(ne.EMPTY_NODE);var o=this;return n.forEachChild(je,function(a,u){o.matches(new pe(a,u))||(i=i.updateImmediateChild(a,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aQ=function(){function t(e){this.rangedFilter_=new mB(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new pe(n,r))||(r=ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ne.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var u=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:c=this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(u.name,u.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ne.EMPTY_NODE);var h=void 0,f=void 0,v=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(P,k){return g(k,P)}}else o=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,b=!1;o.hasNext();){var u=o.getNext();!b&&v(h,u)<=0&&(b=!0);var c=b&&a<this.limit_&&v(u,f)<=0;c?a++:i=i.updateImmediateChild(u.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var u=this.index_.getCompare();a=function(S,C){return u(C,S)}}else a=this.index_.getCompare();var c=e;Nt(c.numChildren()===this.limit_,"");var h=new pe(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),b=i.getChildAfterChild(this.index_,f,this.reverse_);b!=null&&(b.name===n||c.hasChild(b.name));)b=i.getChildAfterChild(this.index_,b,this.reverse_);var w=b==null?1:a(b,h),T=v&&!r.isEmpty()&&w>=0;if(T)return o!=null&&o.trackChildChange(ld(n,r,g)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(ud(n,g));var P=c.updateImmediateChild(n,ne.EMPTY_NODE),k=b!=null&&this.rangedFilter_.matches(b);return k?(o!=null&&o.trackChildChange(dc(b.name,b.node)),P.updateImmediateChild(b.name,b.node)):P}else return r.isEmpty()?e:v&&a(f,h)>=0?(o!=null&&(o.trackChildChange(ud(f.name,f.node)),o.trackChildChange(dc(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,ne.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yB=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return Nt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Nt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ts},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Nt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Nt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ko},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return Nt(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===je},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function uQ(t){return t.loadsAllData()?new UT(t.getIndex()):t.hasLimit()?new aQ(t):new mB(t)}function lQ(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function cQ(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function oS(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function hQ(t,e,n){var r;if(t.index_===xo)typeof e=="string"&&(e=$O(e)),r=oS(t,e,n);else{var i=void 0;n==null?i=ko:i=$O(n),r=oS(t,e,i)}return r.startAfterSet_=!0,r}function sS(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function fQ(t,e,n){var r,i;return t.index_===xo?(typeof e=="string"&&(e=VO(e)),i=sS(t,e,n)):(n==null?r=ts:r=VO(n),i=sS(t,e,r)),i.endBeforeSet_=!0,i}function Oy(t,e){var n=t.copy();return n.index_=e,n}function WO(t){var e={};if(t.isDefault())return e;var n;return t.index_===je?n="$priority":t.index_===BT?n="$value":t.index_===xo?n="$key":(Nt(t.index_ instanceof jT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_n(n),t.startSet_&&(e.startAt=_n(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+_n(t.indexStartName_))),t.endSet_&&(e.endAt=_n(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+_n(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function GO(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dQ=function(t){jt(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Qd("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(Nt(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);var c=e.getListenId_(n,i),h={};this.listens_[c]=h;var f=WO(n._queryParams);this.restRequest_(u+".json",f,function(v,g){var b=g;if(v===404&&(b=null,v=null),v===null&&a.onDataUpdate_(u,b,!1,i),bu(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",o(w,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=WO(n._queryParams),o=n._path.toString(),a=new Nn;return this.restRequest_(o+".json",i,function(u,c){var h=c;u===404&&(h=null,u=null),u===null?(r.onDataUpdate_(o,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var u=Hn(a,2),c=u[0],h=u[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var f=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+f9(r);o.log_("Sending REST request for "+f);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){o.log_("REST Response for "+f+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=sd(v.responseText)}catch{Yn("Failed to parse JSON response for "+f+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&Yn("Got unsuccessful REST response for "+f+" Status: "+v.status),i(v.status);i=null}},v.open("GET",f,!0),v.send()})},e}(oB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pQ=function(){function t(){this.rootNode_=ne.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){return{value:null,children:new Map}}function Vc(t,e,n){if(ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=ae(e);t.children.has(r)||t.children.set(r,lm());var i=t.children.get(r);e=De(e),Vc(i,e,n)}}function aS(t,e){if(ue(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(je,function(o,a){Vc(t,new Ce(o),a)}),aS(t,e)}else if(t.children.size>0){var r=ae(e);if(e=De(e),t.children.has(r)){var i=aS(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function uS(t,e,n){t.value!==null?n(e,t.value):vQ(t,function(r,i){var o=new Ce(e.toString()+"/"+r);uS(i,o,n)})}function vQ(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wB=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=qt({},e);return this.last_&&kn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HO=10*1e3,gQ=30*1e3,mQ=5*60*1e3,yQ=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wB(e);var r=HO+(gQ-HO)*Math.random();kf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;kn(n,function(o,a){a>0&&ui(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),kf(this.reportStats_.bind(this),Math.floor(Math.random()*2*mQ))},t}();function wQ(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function zT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $T(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function VT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xQ=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=zT()}return t.prototype.operationForChild=function(e){if(ue(this.path)){if(this.affectedTree.value!=null)return Nt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ce(e));return new t(Se(),n,this.revert)}else return Nt(ae(this.path)===e,"operationForChild called for unrelated child."),new t(De(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xB=function(){function t(e,n){this.source=e,this.path=n,this.type=qi.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return ue(this.path)?new t(this.source,Se()):new t(this.source,De(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ny=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}return t.prototype.operationForChild=function(e){return ue(this.path)?new t(this.source,Se(),this.snap.getImmediateChild(e)):new t(this.source,De(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WT=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}return t.prototype.operationForChild=function(e){if(ue(this.path)){var n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new Ny(this.source,Se(),n.value):new t(this.source,Se(),n)}else return Nt(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,De(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;var n=ae(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bQ=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function _Q(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(sQ(a.childName,a.snapshotNode))}),Zh(t,i,"child_removed",e,r,n),Zh(t,i,"child_added",e,r,n),Zh(t,i,"child_moved",o,r,n),Zh(t,i,"child_changed",e,r,n),Zh(t,i,"value",e,r,n),i}function Zh(t,e,n,r,i,o){var a=r.filter(function(u){return u.type===n});a.sort(function(u,c){return EQ(t,u,c)}),a.forEach(function(u){var c=SQ(t,u,o);i.forEach(function(h){h.respondsTo(u.type)&&e.push(h.createEvent(c,t.query_))})})}function SQ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function EQ(t,e,n){if(e.childName==null||n.childName==null)throw Uc("Should only compare child_ events.");var r=new pe(e.childName,e.snapshotNode),i=new pe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e){return{eventCache:t,serverCache:e}}function If(t,e,n,r){return Dy(new ea(e,n,r),t.serverCache)}function bB(t,e,n,r){return Dy(t.eventCache,new ea(e,n,r))}function cm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _u(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l1,TQ=function(){return l1||(l1=new $o(n7)),l1},li=function(){function t(e,n){n===void 0&&(n=TQ()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return kn(e,function(r,i){n=n.set(new Ce(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(ue(e))return null;var r=ae(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(De(e),n);if(o!=null){var a=Ye(new Ce(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(ue(e))return this;var n=ae(e),r=this.children.get(n);return r!==null?r.subtree(De(e)):new t(null)},t.prototype.set=function(e,n){if(ue(e))return new t(n,this.children);var r=ae(e),i=this.children.get(r)||new t(null),o=i.set(De(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(ue(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ae(e),r=this.children.get(n);if(r){var i=r.remove(De(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(ue(e))return this.value;var n=ae(e),r=this.children.get(n);return r?r.get(De(e)):null},t.prototype.setTree=function(e,n){if(ue(e))return n;var r=ae(e),i=this.children.get(r)||new t(null),o=i.setTree(De(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(Se(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(Ye(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,Se(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(ue(e))return null;var o=ae(e),a=this.children.get(o);return a?a.findOnPath_(De(e),Ye(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,Se(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(ue(e))return this;this.value&&r(n,this.value);var i=ae(e),o=this.children.get(i);return o?o.foreachOnPath_(De(e),Ye(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(Se(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ye(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new li(null))},t}();function Af(t,e,n){if(ue(e))return new Ho(new li(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Tr(i,e);return o=o.updateChild(a,n),new Ho(t.writeTree_.set(i,o))}else{var u=new li(n),c=t.writeTree_.setTree(e,u);return new Ho(c)}}function lS(t,e,n){var r=t;return kn(n,function(i,o){r=Af(r,Ye(e,i),o)}),r}function KO(t,e){if(ue(e))return Ho.empty();var n=t.writeTree_.setTree(e,new li(null));return new Ho(n)}function cS(t,e){return Fu(t,e)!=null}function Fu(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tr(n.path,e)):null}function XO(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,function(r,i){e.push(new pe(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new pe(r,i.value))}),e}function Hs(t,e){if(ue(e))return t;var n=Fu(t,e);return n!=null?new Ho(new li(n)):new Ho(t.writeTree_.subtree(e))}function hS(t){return t.writeTree_.isEmpty()}function pc(t,e){return _B(Se(),t.writeTree_,e)}function _B(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(Nt(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=_B(Ye(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ye(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){return kB(e,t)}function kQ(t,e,n,r,i){Nt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Af(t.visibleWrites,e,n)),t.lastWriteId=r}function CQ(t,e,n,r){Nt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=lS(t.visibleWrites,e,n),t.lastWriteId=r}function IQ(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function AQ(t,e){var n=t.allWrites.findIndex(function(h){return h.writeId===e});Nt(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&PQ(u,r.path)?i=!1:bi(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return RQ(t),!0;if(r.snap)t.visibleWrites=KO(t.visibleWrites,r.path);else{var c=r.children;kn(c,function(h){t.visibleWrites=KO(t.visibleWrites,Ye(r.path,h))})}return!0}else return!1}function PQ(t,e){if(t.snap)return bi(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&bi(Ye(t.path,n),e))return!0;return!1}function RQ(t){t.visibleWrites=SB(t.allWrites,MQ,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MQ(t){return t.visible}function SB(t,e,n){for(var r=Ho.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)bi(n,a)?(u=Tr(n,a),r=Af(r,u,o.snap)):bi(a,n)&&(u=Tr(a,n),r=Af(r,Se(),o.snap.getChild(u)));else if(o.children){if(bi(n,a))u=Tr(n,a),r=lS(r,u,o.children);else if(bi(a,n))if(u=Tr(a,n),ue(u))r=lS(r,Se(),o.children);else{var c=bu(o.children,ae(u));if(c){var h=c.getChild(De(u));r=Af(r,Se(),h)}}}else throw Uc("WriteRecord should have .snap or .children")}}return r}function EB(t,e,n,r,i){if(!r&&!i){var o=Fu(t.visibleWrites,e);if(o!=null)return o;var a=Hs(t.visibleWrites,e);if(hS(a))return n;if(n==null&&!cS(a,Se()))return null;var u=n||ne.EMPTY_NODE;return pc(a,u)}else{var c=Hs(t.visibleWrites,e);if(!i&&hS(c))return n;if(!i&&n==null&&!cS(c,Se()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(bi(g.path,e)||bi(e,g.path))},f=SB(t.allWrites,h,e),u=n||ne.EMPTY_NODE;return pc(f,u)}}function OQ(t,e,n){var r=ne.EMPTY_NODE,i=Fu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(je,function(u,c){r=r.updateImmediateChild(u,c)}),r;if(n){var o=Hs(t.visibleWrites,e);return n.forEachChild(je,function(u,c){var h=pc(Hs(o,new Ce(u)),c);r=r.updateImmediateChild(u,h)}),XO(o).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}else{var a=Hs(t.visibleWrites,e);return XO(a).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}}function NQ(t,e,n,r,i){Nt(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Ye(e,n);if(cS(t.visibleWrites,o))return null;var a=Hs(t.visibleWrites,o);return hS(a)?i.getChild(n):pc(a,i.getChild(n))}function DQ(t,e,n,r){var i=Ye(e,n),o=Fu(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=Hs(t.visibleWrites,i);return pc(a,r.getNode().getImmediateChild(n))}else return null}function LQ(t,e){return Fu(t.visibleWrites,e)}function FQ(t,e,n,r,i,o,a){var u,c=Hs(t.visibleWrites,e),h=Fu(c,Se());if(h!=null)u=h;else if(n!=null)u=pc(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){for(var f=[],v=a.getCompare(),g=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),b=g.getNext();b&&f.length<i;)v(b,r)!==0&&f.push(b),b=g.getNext();return f}else return[]}function jQ(){return{visibleWrites:Ho.empty(),allWrites:[],lastWriteId:-1}}function hm(t,e,n,r){return EB(t.writeTree,t.treePath,e,n,r)}function GT(t,e){return OQ(t.writeTree,t.treePath,e)}function YO(t,e,n,r){return NQ(t.writeTree,t.treePath,e,n,r)}function fm(t,e){return LQ(t.writeTree,Ye(t.treePath,e))}function BQ(t,e,n,r,i,o){return FQ(t.writeTree,t.treePath,e,n,r,i,o)}function HT(t,e,n){return DQ(t.writeTree,t.treePath,e,n)}function TB(t,e){return kB(Ye(t.treePath,e),t.writeTree)}function kB(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UQ=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;Nt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Nt(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ld(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ud(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,dc(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ld(r,e.snapshotNode,i.oldSnap));else throw Uc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zQ=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),CB=new zQ,KT=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ea(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return HT(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_u(this.viewCache_),o=BQ(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t){return{filter:t}}function VQ(t,e){Nt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Nt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function WQ(t,e,n,r,i){var o=new UQ,a,u;if(n.type===qi.OVERWRITE){var c=n;c.source.fromUser?a=fS(t,e,c.path,c.snap,r,i,o):(Nt(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered()&&!ue(c.path),a=dm(t,e,c.path,c.snap,r,i,u,o))}else if(n.type===qi.MERGE){var h=n;h.source.fromUser?a=HQ(t,e,h.path,h.children,r,i,o):(Nt(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),a=dS(t,e,h.path,h.children,r,i,u,o))}else if(n.type===qi.ACK_USER_WRITE){var f=n;f.revert?a=YQ(t,e,f.path,r,i,o):a=KQ(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===qi.LISTEN_COMPLETE)a=XQ(t,e,n.path,r,o);else throw Uc("Unknown operation type: "+n.type);var v=o.getChanges();return GQ(e,a,v),{viewCache:a,changes:v}}function GQ(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=cm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gB(cm(e)))}}function IB(t,e,n,r,i,o){var a=e.eventCache;if(fm(r,n)!=null)return e;var u=void 0,c=void 0;if(ue(n))if(Nt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var h=_u(e),f=h instanceof ne?h:ne.EMPTY_NODE,v=GT(r,f);u=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{var g=hm(r,_u(e));u=t.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{var b=ae(n);if(b===".priority"){Nt(ta(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=e.serverCache.getNode();var T=YO(r,n,w,c);T!=null?u=t.filter.updatePriority(w,T):u=a.getNode()}else{var P=De(n),k=void 0;if(a.isCompleteForChild(b)){c=e.serverCache.getNode();var S=YO(r,n,a.getNode(),c);S!=null?k=a.getNode().getImmediateChild(b).updateChild(P,S):k=a.getNode().getImmediateChild(b)}else k=HT(r,b,e.serverCache);k!=null?u=t.filter.updateChild(a.getNode(),b,k,P,i,o):u=a.getNode()}}return If(e,u,a.isFullyInitialized()||ue(n),t.filter.filtersNodes())}function dm(t,e,n,r,i,o,a,u){var c=e.serverCache,h,f=a?t.filter:t.filter.getIndexedFilter();if(ue(n))h=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=f.updateFullNode(c.getNode(),v,null)}else{var g=ae(n);if(!c.isCompleteForPath(n)&&ta(n)>1)return e;var b=De(n),w=c.getNode().getImmediateChild(g),T=w.updateChild(b,r);g===".priority"?h=f.updatePriority(c.getNode(),T):h=f.updateChild(c.getNode(),g,T,b,CB,null)}var P=bB(e,h,c.isFullyInitialized()||ue(n),f.filtersNodes()),k=new KT(i,P,o);return IB(t,P,n,i,k,u)}function fS(t,e,n,r,i,o,a){var u=e.eventCache,c,h,f=new KT(i,e,o);if(ue(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=If(e,h,!0,t.filter.filtersNodes());else{var v=ae(n);if(v===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),c=If(e,h,u.isFullyInitialized(),u.isFiltered());else{var g=De(n),b=u.getNode().getImmediateChild(v),w=void 0;if(ue(g))w=r;else{var T=f.getCompleteChild(v);T!=null?DT(g)===".priority"&&T.getChild(aB(g)).isEmpty()?w=T:w=T.updateChild(g,r):w=ne.EMPTY_NODE}if(b.equals(w))c=e;else{var P=t.filter.updateChild(u.getNode(),v,w,g,f,a);c=If(e,P,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function qO(t,e){return t.eventCache.isCompleteForChild(e)}function HQ(t,e,n,r,i,o,a){var u=e;return r.foreach(function(c,h){var f=Ye(n,c);qO(e,ae(f))&&(u=fS(t,u,f,h,i,o,a))}),r.foreach(function(c,h){var f=Ye(n,c);qO(e,ae(f))||(u=fS(t,u,f,h,i,o,a))}),u}function QO(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function dS(t,e,n,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,h;ue(n)?h=r:h=new li(null).setTree(n,r);var f=e.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(f.hasChild(v)){var b=e.serverCache.getNode().getImmediateChild(v),w=QO(t,b,g);c=dm(t,c,new Ce(v),w,i,o,a,u)}}),h.children.inorderTraversal(function(v,g){var b=!e.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!f.hasChild(v)&&!b){var w=e.serverCache.getNode().getImmediateChild(v),T=QO(t,w,g);c=dm(t,c,new Ce(v),T,i,o,a,u)}}),c}function KQ(t,e,n,r,i,o,a){if(fm(i,n)!=null)return e;var u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ue(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return dm(t,e,n,c.getNode().getChild(n),i,o,u,a);if(ue(n)){var h=new li(null);return c.getNode().forEachChild(xo,function(v,g){h=h.set(new Ce(v),g)}),dS(t,e,n,h,i,o,u,a)}else return e}else{var f=new li(null);return r.foreach(function(v,g){var b=Ye(n,v);c.isCompleteForPath(b)&&(f=f.set(v,c.getNode().getChild(b)))}),dS(t,e,n,f,i,o,u,a)}}function XQ(t,e,n,r,i){var o=e.serverCache,a=bB(e,o.getNode(),o.isFullyInitialized()||ue(n),o.isFiltered());return IB(t,a,n,r,CB,i)}function YQ(t,e,n,r,i,o){var a;if(fm(r,n)!=null)return e;var u=new KT(r,e,i),c=e.eventCache.getNode(),h=void 0;if(ue(n)||ae(n)===".priority"){var f=void 0;if(e.serverCache.isFullyInitialized())f=hm(r,_u(e));else{var v=e.serverCache.getNode();Nt(v instanceof ne,"serverChildren would be complete if leaf node"),f=GT(r,v)}f=f,h=t.filter.updateFullNode(c,f,o)}else{var g=ae(n),b=HT(r,g,e.serverCache);b==null&&e.serverCache.isCompleteForChild(g)&&(b=c.getImmediateChild(g)),b!=null?h=t.filter.updateChild(c,g,b,De(n),u,o):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(c,g,ne.EMPTY_NODE,De(n),u,o):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=hm(r,_u(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,o)))}return a=e.serverCache.isFullyInitialized()||fm(r,Se())!=null,If(e,h,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qQ=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new UT(r.getIndex()),o=uQ(r);this.processor_=$Q(o);var a=n.serverCache,u=n.eventCache,c=i.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),h=o.updateFullNode(ne.EMPTY_NODE,u.getNode(),null),f=new ea(c,a.isFullyInitialized(),i.filtersNodes()),v=new ea(h,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Dy(v,f),this.eventGenerator_=new bQ(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function QQ(t){return t.viewCache_.serverCache.getNode()}function JQ(t){return cm(t.viewCache_)}function ZQ(t,e){var n=_u(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ue(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function JO(t){return t.eventRegistrations_.length===0}function tJ(t,e){t.eventRegistrations_.push(e)}function ZO(t,e,n){var r=[];if(n){Nt(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function tN(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(Nt(_u(t.viewCache_),"We should always have a full cache before handling merges"),Nt(cm(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=WQ(t.processor_,i,e,n,r);return VQ(t.processor_,o.viewCache),Nt(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,AB(t,o.changes,o.viewCache.eventCache.getNode(),null)}function eJ(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(je,function(o,a){r.push(dc(o,a))})}return n.isFullyInitialized()&&r.push(gB(n.getNode())),AB(t,r,n.getNode(),e)}function AB(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return _Q(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pm,PB=function(){function t(){this.views=new Map}return t}();function nJ(t){Nt(!pm,"__referenceConstructor has already been defined"),pm=t}function rJ(){return Nt(pm,"Reference.ts has not been loaded"),pm}function iJ(t){return t.views.size===0}function XT(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var u=t.views.get(a);return Nt(u!=null,"SyncTree gave us an op for an invalid query."),tN(u,e,n,r)}else{var c=[];try{for(var h=Fn(t.views.values()),f=h.next();!f.done;f=h.next()){var u=f.value;c=c.concat(tN(u,e,n,r))}}catch(v){i={error:v}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return c}}function RB(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var u=hm(n,i?r:null),c=!1;u?c=!0:r instanceof ne?(u=GT(n,r),c=!1):(u=ne.EMPTY_NODE,c=!1);var h=Dy(new ea(u,c,!1),new ea(r,i,!1));return new qQ(e,h)}return a}function oJ(t,e,n,r,i,o){var a=RB(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),tJ(a,n),eJ(a,n)}function sJ(t,e,n,r){var i,o,a=e._queryIdentifier,u=[],c=[],h=na(t);if(a==="default")try{for(var f=Fn(t.views.entries()),v=f.next();!v.done;v=f.next()){var g=Hn(v.value,2),b=g[0],w=g[1];c=c.concat(ZO(w,n,r)),JO(w)&&(t.views.delete(b),w.query._queryParams.loadsAllData()||u.push(w.query))}}catch(T){i={error:T}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else{var w=t.views.get(a);w&&(c=c.concat(ZO(w,n,r)),JO(w)&&(t.views.delete(a),w.query._queryParams.loadsAllData()||u.push(w.query)))}return h&&!na(t)&&u.push(new(rJ())(e._repo,e._path)),{removed:u,events:c}}function MB(t){var e,n,r=[];try{for(var i=Fn(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ks(t,e){var n,r,i=null;try{for(var o=Fn(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||ZQ(u,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function OB(t,e){var n=e._queryParams;if(n.loadsAllData())return Fy(t);var r=e._queryIdentifier;return t.views.get(r)}function NB(t,e){return OB(t,e)!=null}function na(t){return Fy(t)!=null}function Fy(t){var e,n;try{for(var r=Fn(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vm;function aJ(t){Nt(!vm,"__referenceConstructor has already been defined"),vm=t}function uJ(){return Nt(vm,"Reference.ts has not been loaded"),vm}var lJ=1,eN=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new li(null),this.pendingWriteTree_=jQ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function YT(t,e,n,r,i){return kQ(t.pendingWriteTree_,e,n,r,i),i?Wc(t,new Ny(zT(),e,n)):[]}function cJ(t,e,n,r){CQ(t.pendingWriteTree_,e,n,r);var i=li.fromObject(n);return Wc(t,new WT(zT(),e,i))}function Ls(t,e,n){n===void 0&&(n=!1);var r=IQ(t.pendingWriteTree_,e),i=AQ(t.pendingWriteTree_,e);if(i){var o=new li(null);return r.snap!=null?o=o.set(Se(),!0):kn(r.children,function(a){o=o.set(new Ce(a),!0)}),Wc(t,new xQ(r.path,o,n))}else return[]}function Zd(t,e,n){return Wc(t,new Ny($T(),e,n))}function hJ(t,e,n){var r=li.fromObject(n);return Wc(t,new WT($T(),e,r))}function fJ(t,e){return Wc(t,new xB($T(),e))}function dJ(t,e,n){var r=qT(t,n);if(r){var i=QT(r),o=i.path,a=i.queryId,u=Tr(o,e),c=new xB(VT(a),u);return JT(t,o,c)}else return[]}function pS(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||NB(o,e))){var u=sJ(o,e,n,r);iJ(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=u.removed;a=u.events;var h=c.findIndex(function(S){return S._queryParams.loadsAllData()})!==-1,f=t.syncPointTree_.findOnPath(i,function(S,C){return na(C)});if(h&&!f){var v=t.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=mJ(v),b=0;b<g.length;++b){var w=g[b],T=w.query,P=FB(t,w);t.listenProvider_.startListening(Pf(T),gm(t,T),P.hashFn,P.onComplete)}}if(!f&&c.length>0&&!r)if(h){var k=null;t.listenProvider_.stopListening(Pf(e),k)}else c.forEach(function(S){var C=t.queryToTagMap.get(By(S));t.listenProvider_.stopListening(Pf(S),C)});yJ(t,c)}return a}function pJ(t,e,n,r){var i=qT(t,r);if(i!=null){var o=QT(i),a=o.path,u=o.queryId,c=Tr(a,e),h=new Ny(VT(u),c,n);return JT(t,a,h)}else return[]}function vJ(t,e,n,r){var i=qT(t,r);if(i){var o=QT(i),a=o.path,u=o.queryId,c=Tr(a,e),h=li.fromObject(n),f=new WT(VT(u),c,h);return JT(t,a,f)}else return[]}function nN(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(T,P){var k=Tr(T,r);i=i||Ks(P,k),o=o||na(P)});var a=t.syncPointTree_.get(r);a?(o=o||na(a),i=i||Ks(a,Se())):(a=new PB,t.syncPointTree_=t.syncPointTree_.set(r,a));var u;if(i!=null)u=!0;else{u=!1,i=ne.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(T,P){var k=Ks(P,Se());k&&(i=i.updateImmediateChild(T,k))})}var h=NB(a,e);if(!h&&!e._queryParams.loadsAllData()){var f=By(e);Nt(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");var v=wJ();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}var g=Ly(t.pendingWriteTree_,r),b=oJ(a,e,n,g,i,u);if(!h&&!o){var w=OB(a,e);b=b.concat(xJ(t,e,w))}return b}function jy(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,u){var c=Tr(a,e),h=Ks(u,c);if(h)return h});return EB(i,e,o,n,r)}function gJ(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(h,f){var v=Tr(h,n);r=r||Ks(f,v)});var i=t.syncPointTree_.get(n);i?r=r||Ks(i,Se()):(i=new PB,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new ea(r,!0,!1):null,u=Ly(t.pendingWriteTree_,e._path),c=RB(i,e,u,o?a.getNode():ne.EMPTY_NODE,o);return JQ(c)}function Wc(t,e){return DB(e,t.syncPointTree_,null,Ly(t.pendingWriteTree_,Se()))}function DB(t,e,n,r){if(ue(t.path))return LB(t,e,n,r);var i=e.get(Se());n==null&&i!=null&&(n=Ks(i,Se()));var o=[],a=ae(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){var h=n?n.getImmediateChild(a):null,f=TB(r,a);o=o.concat(DB(u,c,h,f))}return i&&(o=o.concat(XT(i,t,r,n))),o}function LB(t,e,n,r){var i=e.get(Se());n==null&&i!=null&&(n=Ks(i,Se()));var o=[];return e.children.inorderTraversal(function(a,u){var c=n?n.getImmediateChild(a):null,h=TB(r,a),f=t.operationForChild(a);f&&(o=o.concat(LB(f,u,c,h)))}),i&&(o=o.concat(XT(i,t,r,n))),o}function FB(t,e){var n=e.query,r=gm(t,n);return{hashFn:function(){var i=QQ(e)||ne.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?dJ(t,n._path,r):fJ(t,n._path);var o=o7(i,n);return pS(t,n,null,o)}}}function gm(t,e){var n=By(e);return t.queryToTagMap.get(n)}function By(t){return t._path.toString()+"$"+t._queryIdentifier}function qT(t,e){return t.tagToQueryMap.get(e)}function QT(t){var e=t.indexOf("$");return Nt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function JT(t,e,n){var r=t.syncPointTree_.get(e);Nt(r,"Missing sync point for query tag that we're tracking");var i=Ly(t.pendingWriteTree_,e);return XT(r,n,i,null)}function mJ(t){return t.fold(function(e,n,r){if(n&&na(n)){var i=Fy(n);return[i]}else{var o=[];return n&&(o=MB(n)),kn(r,function(a,u){o=o.concat(u)}),o}})}function Pf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(uJ())(t._repo,t._path):t}function yJ(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=By(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function wJ(){return lJ++}function xJ(t,e,n){var r=e._path,i=gm(t,e),o=FB(t,n),a=t.listenProvider_.startListening(Pf(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)Nt(!na(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(v,g,b){if(!ue(v)&&g&&na(g))return[Fy(g).query];var w=[];return g&&(w=w.concat(MB(g).map(function(T){return T.query}))),kn(b,function(T,P){w=w.concat(P)}),w}),h=0;h<c.length;++h){var f=c[h];t.listenProvider_.stopListening(Pf(f),gm(t,f))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bJ=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),_J=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=Ye(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return jy(this.syncTree_,this.path_)},t}(),SJ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rN=function(t,e,n){if(!t||typeof t!="object")return t;if(Nt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return EJ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return TJ(t[".sv"],e);Nt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},EJ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Nt(!1,"Unexpected server value: "+t)}},TJ=function(t,e,n){t.hasOwnProperty("increment")||Nt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&Nt(!1,"Unexpected increment value: "+r);var i=e.node();if(Nt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},jB=function(t,e,n,r){return tk(e,new _J(n,t),r)},ZT=function(t,e,n){return tk(t,new bJ(e),n)};function tk(t,e,n){var r=t.getPriority().val(),i=rN(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,u=rN(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new hc(u,Je(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new hc(i))),c.forEachChild(je,function(h,f){var v=tk(f,e.getImmediateChild(h),n);v!==f&&(o=o.updateImmediateChild(h,v))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ek=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function Uy(t,e){for(var n=e instanceof Ce?e:new Ce(e),r=t,i=ae(n);i!==null;){var o=bu(r.node.children,i)||{children:{},childCount:0};r=new ek(i,r,o),n=De(n),i=ae(n)}return r}function ju(t){return t.node.value}function nk(t,e){t.node.value=e,vS(t)}function BB(t){return t.node.childCount>0}function kJ(t){return ju(t)===void 0&&!BB(t)}function zy(t,e){kn(t.node.children,function(n,r){e(new ek(n,t,r))})}function UB(t,e,n,r){n&&!r&&e(t),zy(t,function(i){UB(i,e,!0,r)}),n&&r&&e(t)}function CJ(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function tp(t){return new Ce(t.parent===null?t.name:tp(t.parent)+"/"+t.name)}function vS(t){t.parent!==null&&IJ(t.parent,t.name,t)}function IJ(t,e,n){var r=kJ(n),i=ui(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,vS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,vS(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AJ=/[\[\].#$\/\u0000-\u001F\u007F]/,PJ=/[\[\].#$\u0000-\u001F\u007F]/,c1=10*1024*1024,$y=function(t){return typeof t=="string"&&t.length!==0&&!AJ.test(t)},zB=function(t){return typeof t=="string"&&t.length!==0&&!PJ.test(t)},RJ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zB(t)},cd=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ry(t)||t&&typeof t=="object"&&ui(t,".sv")},Co=function(t,e,n,r){r&&e===void 0||ep(Wr(t,"value"),e,n)},ep=function(t,e,n){var r=n instanceof Ce?new B7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+za(r));if(typeof e=="function")throw new Error(t+"contains a function "+za(r)+" with contents = "+e.toString());if(Ry(e))throw new Error(t+"contains "+e.toString()+" "+za(r));if(typeof e=="string"&&e.length>c1/3&&Py(e)>c1)throw new Error(t+"contains a string greater than "+c1+" utf8 bytes "+za(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(kn(e,function(a,u){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!$y(a)))throw new Error(t+" contains an invalid key ("+a+") "+za(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);U7(r,a),ep(t,u,r),z7(r)}),i&&o)throw new Error(t+' contains ".value" child '+za(r)+" in addition to actual children.")}},MJ=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=ad(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!$y(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(j7);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&bi(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},$B=function(t,e,n,r){if(!(r&&e===void 0)){var i=Wr(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];kn(e,function(a,u){var c=new Ce(a);if(ep(i,u,Ye(n,c)),DT(c)===".priority"&&!cd(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),MJ(i,o)}},rk=function(t,e,n){if(!(n&&e===void 0)){if(Ry(e))throw new Error(Wr(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cd(e))throw new Error(Wr(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},OJ=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Wr(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},np=function(t,e,n,r){if(!(r&&n===void 0)&&!$y(n))throw new Error(Wr(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},hd=function(t,e,n,r){if(!(r&&n===void 0)&&!zB(n))throw new Error(Wr(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NJ=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hd(t,e,n,r)},_i=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},VB=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$y(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!RJ(n))throw new Error(Wr(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},DJ=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Wr(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LJ=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function Vy(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!LT(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ik(t,e,n){Vy(t,n),WB(t,function(r){return LT(r,e)})}function Mi(t,e,n){Vy(t,n),WB(t,function(r){return bi(r,e)||bi(e,r)})}function WB(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(FJ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function FJ(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();au&&Mn("event: "+n.toString()),$c(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GB="repo_interrupt",jJ=25,BJ=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lm(),this.transactionQueueTree_=new ek,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function UJ(t,e,n){if(t.stats_=OT(t.repoInfo_),t.forceRestClient_||a7())t.server_=new dQ(t.repoInfo_,function(r,i,o,a){iN(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return oN(t,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_n(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new uu(t.repoInfo_,e,function(r,i,o,a){iN(t,r,i,o,a)},function(r){oN(t,r)},function(r){$J(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=d7(t.repoInfo_,function(){return new yQ(t.stats_,t.server_)}),t.infoData_=new pQ,t.infoSyncTree_=new eN({startListening:function(r,i,o,a){var u=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=Zd(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),u},stopListening:function(){}}),ok(t,"connected",!1),t.serverSyncTree_=new eN({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(u,c){var h=a(u,c);Mi(t.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function HB(t){var e=t.infoData_.getNode(new Ce(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function rp(t){return SJ({timestamp:HB(t)})}function iN(t,e,n,r,i){t.dataUpdateCount++;var o=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=rm(n,function(g){return Je(g)});a=vJ(t.serverSyncTree_,o,u,i)}else{var c=Je(n);a=pJ(t.serverSyncTree_,o,c,i)}else if(r){var h=rm(n,function(g){return Je(g)});a=hJ(t.serverSyncTree_,o,h)}else{var f=Je(n);a=Zd(t.serverSyncTree_,o,f)}var v=o;a.length>0&&(v=vc(t,o)),Mi(t.eventQueue_,v,a)}function zJ(t,e){t.interceptServerDataCallback_=e}function oN(t,e){ok(t,"connected",e),e===!1&&GJ(t)}function $J(t,e){kn(e,function(n,r){ok(t,n,r)})}function ok(t,e,n){var r=new Ce("/.info/"+e),i=Je(n);t.infoData_.updateSnapshot(r,i);var o=Zd(t.infoSyncTree_,r,i);Mi(t.eventQueue_,r,o)}function Wy(t){return t.nextWriteId_++}function VJ(t,e){var n=gJ(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=Je(r).withIndex(e._queryParams.getIndex()),o=Zd(t.serverSyncTree_,e._path,i);return ik(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return Gc(t,"get for query "+_n(e)+" failed: "+r),Promise.reject(new Error(r))})}function sk(t,e,n,r,i){Gc(t,"set",{path:e.toString(),value:n,priority:r});var o=rp(t),a=Je(n,r),u=jy(t.serverSyncTree_,e),c=ZT(a,u,o),h=Wy(t),f=YT(t.serverSyncTree_,e,c,h,!0);Vy(t.eventQueue_,f),t.server_.put(e.toString(),a.val(!0),function(g,b){var w=g==="ok";w||Yn("set at "+e+" failed: "+g);var T=Ls(t.serverSyncTree_,h,!w);Mi(t.eventQueue_,e,T),ra(t,i,g,b)});var v=uk(t,e);vc(t,v),Mi(t.eventQueue_,v,[])}function WJ(t,e,n,r){Gc(t,"update",{path:e.toString(),value:n});var i=!0,o=rp(t),a={};if(kn(n,function(h,f){i=!1,a[h]=jB(Ye(e,h),Je(f),t.serverSyncTree_,o)}),i)Mn("update() called with empty data.  Don't do anything."),ra(t,r,"ok",void 0);else{var u=Wy(t),c=cJ(t.serverSyncTree_,e,a,u);Vy(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(h,f){var v=h==="ok";v||Yn("update at "+e+" failed: "+h);var g=Ls(t.serverSyncTree_,u,!v),b=g.length>0?vc(t,e):e;Mi(t.eventQueue_,b,g),ra(t,r,h,f)}),kn(n,function(h){var f=uk(t,Ye(e,h));vc(t,f)}),Mi(t.eventQueue_,e,[])}}function GJ(t){Gc(t,"onDisconnectEvents");var e=rp(t),n=lm();uS(t.onDisconnect_,Se(),function(i,o){var a=jB(i,o,t.serverSyncTree_,e);Vc(n,i,a)});var r=[];uS(n,Se(),function(i,o){r=r.concat(Zd(t.serverSyncTree_,i,o));var a=uk(t,i);vc(t,a)}),t.onDisconnect_=lm(),Mi(t.eventQueue_,Se(),r)}function HJ(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&aS(t.onDisconnect_,e),ra(t,n,r,i)})}function sN(t,e,n,r){var i=Je(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&Vc(t.onDisconnect_,e,i),ra(t,r,o,a)})}function KJ(t,e,n,r,i){var o=Je(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,u){a==="ok"&&Vc(t.onDisconnect_,e,o),ra(t,i,a,u)})}function XJ(t,e,n,r){if(J_(n)){Mn("onDisconnect().update() called with empty data.  Don't do anything."),ra(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&kn(n,function(a,u){var c=Je(u);Vc(t.onDisconnect_,Ye(e,a),c)}),ra(t,r,i,o)})}function YJ(t,e,n){var r;ae(e._path)===".info"?r=nN(t.infoSyncTree_,e,n):r=nN(t.serverSyncTree_,e,n),ik(t.eventQueue_,e._path,r)}function gS(t,e,n){var r;ae(e._path)===".info"?r=pS(t.infoSyncTree_,e,n):r=pS(t.serverSyncTree_,e,n),ik(t.eventQueue_,e._path,r)}function KB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(GB)}function qJ(t){t.persistentConnection_&&t.persistentConnection_.resume(GB)}function QJ(t,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(t.statsListener_||(t.statsListener_=new wB(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);kn(n,function(i,o){for(var a=i,u=i.length;u<r+2;u++)a+=" ";console.log(a+o)})}}function JJ(t,e){t.stats_.incrementCounter(e),wQ(t.statsReporter_,e)}function Gc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Mn.apply(void 0,se([r],Hn(e)))}function ra(t,e,n,r){e&&$c(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function ZJ(t,e,n,r,i,o){Gc(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:jj(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ak(t,e,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{ep("transaction failed: Data returned ",c,a.path),a.status=0;var h=Uy(t.transactionQueueTree_,e),f=ju(h)||[];f.push(a),nk(h,f);var v=void 0;if(typeof c=="object"&&c!==null&&ui(c,".priority"))v=bu(c,".priority"),Nt(cd(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=jy(t.serverSyncTree_,e)||ne.EMPTY_NODE;v=g.getPriority().val()}var b=rp(t),w=Je(c,v),T=ZT(w,u,b);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=T,a.currentWriteId=Wy(t);var P=YT(t.serverSyncTree_,e,T,a.currentWriteId,a.applyLocally);Mi(t.eventQueue_,e,P),Gy(t,t.transactionQueueTree_)}}function ak(t,e,n){return jy(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function Gy(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||Hy(t,e),ju(e)){var n=YB(t,e);Nt(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&tZ(t,tp(e),n)}else BB(e)&&zy(e,function(i){Gy(t,i)})}function tZ(t,e,n){for(var r=n.map(function(g){return g.currentWriteId}),i=ak(t,e,r),o=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];Nt(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Tr(e,c.path);o=o.updateChild(h,c.currentOutputSnapshotRaw)}var f=o.val(!0),v=e;t.server_.put(v.toString(),f,function(g){Gc(t,"transaction put response",{path:v.toString(),status:g});var b=[];if(g==="ok"){for(var w=[],T=function(k){n[k].status=2,b=b.concat(Ls(t.serverSyncTree_,n[k].currentWriteId)),n[k].onComplete&&w.push(function(){return n[k].onComplete(null,!0,n[k].currentOutputSnapshotResolved)}),n[k].unwatcher()},P=0;P<n.length;P++)T(P);Hy(t,Uy(t.transactionQueueTree_,e)),Gy(t,t.transactionQueueTree_),Mi(t.eventQueue_,e,b);for(var P=0;P<w.length;P++)$c(w[P])}else{if(g==="datastale")for(var P=0;P<n.length;P++)n[P].status===3?n[P].status=4:n[P].status=0;else{Yn("transaction at "+v.toString()+" failed: "+g);for(var P=0;P<n.length;P++)n[P].status=4,n[P].abortReason=g}vc(t,e)}},a)}function vc(t,e){var n=XB(t,e),r=tp(n),i=YB(t,n);return eZ(t,i,r),r}function eZ(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(h){return h.status===0}),a=o.map(function(h){return h.currentWriteId}),u=function(h){var f=e[h],v=Tr(n,f.path),g=!1,b;if(Nt(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,b=f.abortReason,i=i.concat(Ls(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=jJ)g=!0,b="maxretry",i=i.concat(Ls(t.serverSyncTree_,f.currentWriteId,!0));else{var w=ak(t,f.path,a);f.currentInputSnapshot=w;var T=e[h].update(w.val());if(T!==void 0){ep("transaction failed: Data returned ",T,f.path);var P=Je(T),k=typeof T=="object"&&T!=null&&ui(T,".priority");k||(P=P.updatePriority(w.getPriority()));var S=f.currentWriteId,C=rp(t),D=ZT(P,w,C);f.currentOutputSnapshotRaw=P,f.currentOutputSnapshotResolved=D,f.currentWriteId=Wy(t),a.splice(a.indexOf(S),1),i=i.concat(YT(t.serverSyncTree_,f.path,D,f.currentWriteId,f.applyLocally)),i=i.concat(Ls(t.serverSyncTree_,S,!0))}else g=!0,b="nodata",i=i.concat(Ls(t.serverSyncTree_,f.currentWriteId,!0))}Mi(t.eventQueue_,n,i),i=[],g&&(e[h].status=2,function(U){setTimeout(U,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(b==="nodata"?r.push(function(){return e[h].onComplete(null,!1,e[h].currentInputSnapshot)}):r.push(function(){return e[h].onComplete(new Error(b),!1,null)})))},c=0;c<e.length;c++)u(c);Hy(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)$c(r[c]);Gy(t,t.transactionQueueTree_)}}function XB(t,e){var n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&ju(r)===void 0;)r=Uy(r,n),e=De(e),n=ae(e);return r}function YB(t,e){var n=[];return qB(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function qB(t,e,n){var r=ju(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);zy(e,function(o){qB(t,o,n)})}function Hy(t,e){var n=ju(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,nk(e,n.length>0?n:void 0)}zy(e,function(o){Hy(t,o)})}function uk(t,e){var n=tp(XB(t,e)),r=Uy(t.transactionQueueTree_,e);return CJ(r,function(i){h1(t,i)}),h1(t,r),UB(r,function(i){h1(t,i)}),n}function h1(t,e){var n=ju(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Nt(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Nt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ls(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?nk(e,void 0):n.length=o+1,Mi(t.eventQueue_,tp(e),i);for(var a=0;a<r.length;a++)$c(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function rZ(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Fn(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var u=a.split("=");u.length===2?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Yn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var mS=function(t,e){var n=iZ(t),r=n.namespace;n.domain==="firebase.com"&&To(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&To("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||t7();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new MT(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Ce(n.pathString)}},iZ=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));var f=t.indexOf("/");f===-1&&(f=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(f,v)),f<v&&(i=nZ(t.substring(f,v)));var g=rZ(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;var b=e.slice(0,h);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{var w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=r}"ns"in g&&(o=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QB=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+_n(this.snapshot.exportVal())},t}(),JB=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZB=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return Nt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oZ=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new Nn;return HJ(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){_i("OnDisconnect.remove",this._path);var e=new Nn;return sN(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){_i("OnDisconnect.set",this._path),Co("OnDisconnect.set",e,this._path,!1);var n=new Nn;return sN(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){_i("OnDisconnect.setWithPriority",this._path),Co("OnDisconnect.setWithPriority",e,this._path,!1),rk("OnDisconnect.setWithPriority",n,!1);var r=new Nn;return KJ(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){_i("OnDisconnect.update",this._path),$B("OnDisconnect.update",e,this._path,!1);var n=new Nn;return XJ(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return ue(this._path)?null:DT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=GO(this._queryParams),n=AT(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return GO(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=oe(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=LT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+F7(this._path)},t}();function Ky(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function la(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xo){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==ts)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==ko)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===je){if(e!=null&&!cd(e)||n!=null&&!cd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Nt(t.getIndex()instanceof jT||t.getIndex()===BT,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xy(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ao=function(t){jt(e,t);function e(n,r){return t.call(this,n,r,new yB,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=aB(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Ni),Yy=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Ce(e),r=Su(this.ref,e);return new t(this._node.getChild(n),r,je)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,Su(n.ref,i),je))})},t.prototype.hasChild=function(e){var n=new Ce(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function t3(t,e){return t=oe(t),t._checkNotDeleted("ref"),e!==void 0?Su(t._root,e):t._root}function aN(t,e){t=oe(t),t._checkNotDeleted("refFromURL");var n=mS(e,t._repo.repoInfo_.nodeAdmin);VB("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&To("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),t3(t,n.path.toString())}function Su(t,e){return t=oe(t),ae(t._path)===null?NJ("child","path",e,!1):hd("child","path",e,!1),new Ao(t._repo,Ye(t._path,e))}function sZ(t,e){t=oe(t),_i("push",t._path),Co("push",e,t._path,!0);var n=HB(t._repo),r=oQ(n),i=Su(t,r),o=Su(t,r),a;return e!=null?a=lk(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function aZ(t){return _i("remove",t._path),lk(t,null)}function lk(t,e){t=oe(t),_i("set",t._path),Co("set",e,t._path,!1);var n=new Nn;return sk(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function uZ(t,e){t=oe(t),_i("setPriority",t._path),rk("setPriority",e,!1);var n=new Nn;return sk(t._repo,Ye(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function lZ(t,e,n){if(_i("setWithPriority",t._path),Co("setWithPriority",e,t._path,!1),rk("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Nn;return sk(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function cZ(t,e){$B("update",e,t._path,!1);var n=new Nn;return WJ(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function hZ(t){return t=oe(t),VJ(t._repo,t).then(function(e){return new Yy(e,new Ao(t._repo,t._path),t._queryParams.getIndex())})}var e3=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new QB("value",this,new Yy(e.snapshotNode,new Ao(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new JB(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),n3=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new JB(this,e,n):null},t.prototype.createEvent=function(e,n){Nt(e.childName!=null,"Child events should have a childName.");var r=Su(new Ao(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new QB(e.type,this,new Yy(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function ip(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,u=function(f,v){gS(t._repo,t,h),a(f,v)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new ZB(n,o||void 0),h=e==="value"?new e3(c):new n3(e,c);return YJ(t._repo,t,h),function(){return gS(t._repo,t,h)}}function yS(t,e,n,r){return ip(t,"value",e,n,r)}function uN(t,e,n,r){return ip(t,"child_added",e,n,r)}function lN(t,e,n,r){return ip(t,"child_changed",e,n,r)}function cN(t,e,n,r){return ip(t,"child_moved",e,n,r)}function hN(t,e,n,r){return ip(t,"child_removed",e,n,r)}function fN(t,e,n){var r=null,i=n?new ZB(n):null;e==="value"?r=new e3(i):e&&(r=new n3(e,i)),gS(t._repo,t,r)}var io=function(){function t(){}return t}(),r3=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("endAt",this._value,n._path,!0);var r=sS(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function fZ(t,e){return np("endAt","key",e,!0),new r3(t,e)}var dZ=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("endBefore",this._value,n._path,!1);var r=fQ(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function pZ(t,e){return np("endBefore","key",e,!0),new dZ(t,e)}var i3=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("startAt",this._value,n._path,!0);var r=oS(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function vZ(t,e){return t===void 0&&(t=null),np("startAt","key",e,!0),new i3(t,e)}var gZ=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("startAfter",this._value,n._path,!1);var r=hQ(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function mZ(t,e){return np("startAfter","key",e,!0),new gZ(t,e)}var yZ=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(n._repo,n._path,lQ(n._queryParams,this._limit),n._orderByCalled)},e}(io);function wZ(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yZ(t)}var xZ=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(n._repo,n._path,cQ(n._queryParams,this._limit),n._orderByCalled)},e}(io);function bZ(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xZ(t)}var _Z=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){Ky(n,"orderByChild");var r=new Ce(this._path);if(ue(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new jT(r),o=Oy(n._queryParams,i);return la(o),new Ni(n._repo,n._path,o,!0)},e}(io);function SZ(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hd("orderByChild","path",t,!1),new _Z(t)}var EZ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ky(n,"orderByKey");var r=Oy(n._queryParams,xo);return la(r),new Ni(n._repo,n._path,r,!0)},e}(io);function TZ(){return new EZ}var kZ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ky(n,"orderByPriority");var r=Oy(n._queryParams,je);return la(r),new Ni(n._repo,n._path,r,!0)},e}(io);function CZ(){return new kZ}var IZ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ky(n,"orderByValue");var r=Oy(n._queryParams,BT);return la(r),new Ni(n._repo,n._path,r,!0)},e}(io);function AZ(){return new IZ}var PZ=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Co("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new r3(this._value,this._key)._apply(new i3(this._value,this._key)._apply(n))},e}(io);function RZ(t,e){return np("equalTo","key",e,!0),new PZ(t,e)}function $i(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=oe(t);try{for(var a=Fn(r),u=a.next();!u.done;u=a.next()){var c=u.value;o=c._apply(o)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}nJ(Ao);aJ(Ao);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MZ="FIREBASE_DATABASE_EMULATOR_HOST",wS={},o3=!1;function OZ(t,e,n,r){t.repoInfo_=new MT(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function s3(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||To("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mn("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=mS(o,i),u=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[MZ]),h?(c=!0,o="http://"+h+"?ns="+u.namespace,a=mS(o,i),u=a.repoInfo):c=!a.repoInfo.secure;var f=i&&c?new Cf(Cf.OWNER):new l7(t.name,t.options,e);VB("Invalid Firebase Database URL",a),ue(a.path)||To("Database URL must point to the root of a Firebase Database (not including a child path).");var v=DZ(u,t,f,new u7(t.name,n));return new FZ(v,t)}function NZ(t,e){var n=wS[e];(!n||n[t.key]!==t)&&To("Database "+e+"("+t.repoInfo_+") has already been deleted."),KB(t),delete n[t.key]}function DZ(t,e,n,r){var i=wS[e.name];i||(i={},wS[e.name]=i);var o=i[t.toURLString()];return o&&To("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new BJ(t,o3,n,r),i[t.toURLString()]=o,o}function LZ(t){o3=t}var FZ=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(UJ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ao(this._repo,Se())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(NZ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&To("Cannot call "+e+" on a deleted database.")},t}();function jZ(t,e,n,r){r===void 0&&(r={}),t=oe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&To("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&To('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cf(Cf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:_T(r.mockUserToken,t.app.options.projectId);o=new Cf(a)}OZ(i,e,n,o)}function BZ(t){t=oe(t),t._checkNotDeleted("goOffline"),KB(t._repo)}function UZ(t){t=oe(t),t._checkNotDeleted("goOnline"),qJ(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zZ={".sv":"timestamp"};function $Z(){return zZ}function VZ(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WZ=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function GZ(t,e,n){var r;if(t=oe(t),_i("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Nn,a=function(c,h,f){var v=null;c?o.reject(c):(v=new Yy(f,new Ao(t._repo,t._path),je),o.resolve(new WZ(h,v)))},u=yS(t,function(){});return ZJ(t._repo,t._path,e,a,u,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HZ=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){Qt("OnDisconnect.cancel",0,1,arguments.length),Rn("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){Qt("OnDisconnect.remove",0,1,arguments.length),Rn("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){Qt("OnDisconnect.set",1,2,arguments.length),Rn("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){Qt("OnDisconnect.setWithPriority",2,3,arguments.length),Rn("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(Qt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Yn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rn("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KZ=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return Qt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rf=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return Qt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Qt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Qt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Qt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Qt("DataSnapshot.child",0,1,arguments.length),e=String(e),hd("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return Qt("DataSnapshot.hasChild",1,1,arguments.length),hd("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return Qt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Qt("DataSnapshot.forEach",1,1,arguments.length),Rn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Qt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Qt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Qt("DataSnapshot.ref",0,0,arguments.length),new Ja(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),a3=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;Qt("Query.on",2,4,arguments.length),Rn("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(f,v){n.call(u.context,new Rf(o.database,f),v)};c.userCallback=n,c.context=u.context;var h=(a=u.cancel)===null||a===void 0?void 0:a.bind(u.context);switch(e){case"value":return yS(this._delegate,c,h),n;case"child_added":return uN(this._delegate,c,h),n;case"child_removed":return hN(this._delegate,c,h),n;case"child_changed":return lN(this._delegate,c,h),n;case"child_moved":return cN(this._delegate,c,h),n;default:throw new Error(Wr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(Qt("Query.off",0,3,arguments.length),OJ("Query.off",e,!0),Rn("Query.off","callback",n,!0),kO("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,fN(this._delegate,e,i)}else fN(this._delegate,e)},t.prototype.get=function(){var e=this;return hZ(this._delegate).then(function(n){return new Rf(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;Qt("Query.once",1,4,arguments.length),Rn("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new Nn,c=function(f,v){var g=new Rf(o.database,f);n&&n.call(a.context,g,v),u.resolve(g)};c.userCallback=n,c.context=a.context;var h=function(f){a.cancel&&a.cancel.call(a.context,f),u.reject(f)};switch(e){case"value":yS(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":uN(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":hN(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":lN(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":cN(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Wr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Qt("Query.limitToFirst",1,1,arguments.length),new t(this.database,$i(this._delegate,wZ(e)))},t.prototype.limitToLast=function(e){return Qt("Query.limitToLast",1,1,arguments.length),new t(this.database,$i(this._delegate,bZ(e)))},t.prototype.orderByChild=function(e){return Qt("Query.orderByChild",1,1,arguments.length),new t(this.database,$i(this._delegate,SZ(e)))},t.prototype.orderByKey=function(){return Qt("Query.orderByKey",0,0,arguments.length),new t(this.database,$i(this._delegate,TZ()))},t.prototype.orderByPriority=function(){return Qt("Query.orderByPriority",0,0,arguments.length),new t(this.database,$i(this._delegate,CZ()))},t.prototype.orderByValue=function(){return Qt("Query.orderByValue",0,0,arguments.length),new t(this.database,$i(this._delegate,AZ()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),Qt("Query.startAt",0,2,arguments.length),new t(this.database,$i(this._delegate,vZ(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),Qt("Query.startAfter",0,2,arguments.length),new t(this.database,$i(this._delegate,mZ(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),Qt("Query.endAt",0,2,arguments.length),new t(this.database,$i(this._delegate,fZ(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),Qt("Query.endBefore",0,2,arguments.length),new t(this.database,$i(this._delegate,pZ(e,n)))},t.prototype.equalTo=function(e,n){return Qt("Query.equalTo",1,2,arguments.length),new t(this.database,$i(this._delegate,RZ(e,n)))},t.prototype.toString=function(){return Qt("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Qt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Qt("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Rn(e,"cancel",i.cancel,!0),i.context=r,kO(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Wr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new Ja(this.database,new Ao(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Ja=function(t){jt(e,t);function e(n,r){var i=t.call(this,n,new Ni(r._repo,r._path,new yB,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return Qt("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return Qt("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Su(this._delegate,n))},e.prototype.getParent=function(){Qt("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return Qt("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){Qt("Reference.set",1,2,arguments.length),Rn("Reference.set","onComplete",r,!0);var i=lk(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(Qt("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Yn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_i("Reference.update",this._delegate._path),Rn("Reference.update","onComplete",r,!0);var a=cZ(this._delegate,n);return r&&a.then(function(){return r(null)},function(u){return r(u)}),a},e.prototype.setWithPriority=function(n,r,i){Qt("Reference.setWithPriority",2,3,arguments.length),Rn("Reference.setWithPriority","onComplete",i,!0);var o=lZ(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){Qt("Reference.remove",0,1,arguments.length),Rn("Reference.remove","onComplete",n,!0);var r=aZ(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;Qt("Reference.transaction",1,3,arguments.length),Rn("Reference.transaction","transactionUpdate",n,!1),Rn("Reference.transaction","onComplete",r,!0),DJ("Reference.transaction","applyLocally",i,!0);var a=GZ(this._delegate,n,{applyLocally:i}).then(function(u){return new KZ(u.committed,new Rf(o.database,u.snapshot))});return r&&a.then(function(u){return r(null,u.committed,u.snapshot)},function(u){return r(u,!1,null)}),a},e.prototype.setPriority=function(n,r){Qt("Reference.setPriority",1,2,arguments.length),Rn("Reference.setPriority","onComplete",r,!0);var i=uZ(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;Qt("Reference.push",0,2,arguments.length),Rn("Reference.push","onComplete",r,!0);var o=sZ(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var u=new e(this.database,o);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u},e.prototype.onDisconnect=function(){return _i("Reference.onDisconnect",this._delegate._path),new HZ(new oZ(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(a3);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mm=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),jZ(this._delegate,e,n,r)},t.prototype.ref=function(e){if(Qt("database.ref",0,1,arguments.length),e instanceof Ja){var n=aN(this._delegate,e.toString());return new Ja(this,n)}else{var n=t3(this._delegate,e);return new Ja(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";Qt(n,1,1,arguments.length);var r=aN(this._delegate,e);return new Ja(this,r)},t.prototype.goOffline=function(){return Qt("database.goOffline",0,0,arguments.length),BZ(this._delegate)},t.prototype.goOnline=function(){return Qt("database.goOnline",0,0,arguments.length),UZ(this._delegate)},t.ServerValue={TIMESTAMP:$Z(),increment:function(e){return VZ(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XZ=function(){Wa.forceDisallow(),NT.forceAllow()},YZ=function(){NT.forceDisallow()},qZ=function(){return Wa.isAvailable()},QZ=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},JZ=function(t,e){QJ(t._delegate._repo,e)},ZZ=function(t,e){JJ(t._delegate._repo,e)},ttt=function(t){return t._delegate._repo.dataUpdateCount},ett=function(t,e){return zJ(t._delegate._repo,e)};function ntt(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=a===void 0?!1:a;Lj(r);var c=new Pj("auth-internal",new Rj("database-standalone"));return c.setComponent(new dr("auth-internal",function(){return i},"PRIVATE")),{instance:new mm(s3(e,c,void 0,n,u),e),namespace:o}}var rtt=Object.freeze({__proto__:null,forceLongPolling:XZ,forceWebSockets:YZ,isWebSocketsAvailable:qZ,setSecurityDebugCallback:QZ,stats:JZ,statsIncrementCounter:ZZ,dataUpdateCount:ttt,interceptServerData:ett,initStandalone:ntt});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var itt=uu;uu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};uu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var ott=iB,stt=function(t){var e=uu.prototype.put;return uu.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){uu.prototype.put=e}},att=MT,utt=function(t){return t._delegate._queryIdentifier},ltt=function(t){LZ(t)},ctt=Object.freeze({__proto__:null,DataConnection:itt,RealTimeConnection:ott,hijackHash:stt,ConnectionTarget:att,queryIdentifier:utt,forceRestClient:ltt});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var htt=mm.ServerValue;function ftt(t){Lj(t.SDK_VERSION),t.INTERNAL.registerComponent(new dr("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new mm(s3(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:Ja,Query:a3,Database:mm,DataSnapshot:Rf,enableLogging:Uj,INTERNAL:rtt,ServerValue:htt,TEST_ACCESS:ctt}).setMultipleInstances(!0)),t.registerVersion(q9,Q9)}ftt(Gt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xS=function(t,e){return xS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},xS(t,e)};function dtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function u3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ptt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zt,ck=ck||{},ee=ptt||self;function ym(){}function bS(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function op(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vtt(t){return Object.prototype.hasOwnProperty.call(t,f1)&&t[f1]||(t[f1]=++gtt)}var f1="closure_uid_"+(1e9*Math.random()>>>0),gtt=0;function mtt(t,e,n){return t.call.apply(t.bind,arguments)}function ytt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function qn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qn=mtt:qn=ytt,qn.apply(null,arguments)}function Kv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function tr(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function ca(){this.s=this.s,this.o=this.o}var wtt=0;ca.prototype.s=!1;ca.prototype.na=function(){!this.s&&(this.s=!0,this.M(),wtt!=0)&&vtt(this)};ca.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var l3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},c3=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function xtt(t){t:{for(var e=fet,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function dN(t){return Array.prototype.concat.apply([],arguments)}function hk(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function wm(t){return/^[\s\xa0]*$/.test(t)}var pN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Sr(t,e){return t.indexOf(e)!=-1}function d1(t,e){return t<e?-1:t>e?1:0}var Er;t:{var vN=ee.navigator;if(vN){var gN=vN.userAgent;if(gN){Er=gN;break t}}Er=""}function fk(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function h3(t){var e={};for(var n in t)e[n]=t[n];return e}var mN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f3(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<mN.length;o++)n=mN[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dk(t){return dk[" "](t),t}dk[" "]=ym;function btt(t){var e=Ett;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var _tt=Sr(Er,"Opera"),gc=Sr(Er,"Trident")||Sr(Er,"MSIE"),d3=Sr(Er,"Edge"),_S=d3||gc,p3=Sr(Er,"Gecko")&&!(Sr(Er.toLowerCase(),"webkit")&&!Sr(Er,"Edge"))&&!(Sr(Er,"Trident")||Sr(Er,"MSIE"))&&!Sr(Er,"Edge"),Stt=Sr(Er.toLowerCase(),"webkit")&&!Sr(Er,"Edge");function v3(){var t=ee.document;return t?t.documentMode:void 0}var xm;t:{var p1="",v1=function(){var t=Er;if(p3)return/rv:([^\);]+)(\)|;)/.exec(t);if(d3)return/Edge\/([\d\.]+)/.exec(t);if(gc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Stt)return/WebKit\/(\S+)/.exec(t);if(_tt)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(v1&&(p1=v1?v1[1]:""),gc){var g1=v3();if(g1!=null&&g1>parseFloat(p1)){xm=String(g1);break t}}xm=p1}var Ett={};function Ttt(){return btt(function(){for(var t=0,e=pN(String(xm)).split("."),n=pN("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o[0].length==0&&a[0].length==0)break;t=d1(o[1].length==0?0:parseInt(o[1],10),a[1].length==0?0:parseInt(a[1],10))||d1(o[2].length==0,a[2].length==0)||d1(o[2],a[2]),o=o[3],a=a[3]}while(t==0)}return 0<=t})}var SS;if(ee.document&&gc){var yN=v3();SS=yN||parseInt(xm,10)||void 0}else SS=void 0;var ktt=SS,Ctt=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",ym,e),ee.removeEventListener("test",ym,e)}catch{}return t}();function lr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lr.prototype.h=function(){this.defaultPrevented=!0};function fd(t,e){if(lr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(p3){t:{try{dk(e.nodeName);var i=!0;break t}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Itt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fd.Z.h.call(this)}}tr(fd,lr);var Itt={2:"touch",3:"pen",4:"mouse"};fd.prototype.h=function(){fd.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sp="closure_listenable_"+(1e6*Math.random()|0),Att=0;function Ptt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Att,this.ca=this.fa=!1}function qy(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Qy(t){this.src=t,this.g={},this.h=0}Qy.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=TS(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new Ptt(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function ES(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=l3(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(qy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function TS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var pk="closure_lm_"+(1e6*Math.random()|0),m1={};function g3(t,e,n,r,i){if(r&&r.once)return y3(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)g3(t,e[o],n,r,i);return null}return n=mk(n),t&&t[sp]?t.N(e,n,op(r)?!!r.capture:!!r,i):m3(t,e,n,!1,r,i)}function m3(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=op(i)?!!i.capture:!!i,u=gk(t);if(u||(t[pk]=u=new Qy(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=Rtt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ctt||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(x3(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Rtt(){function t(n){return e.call(t.src,t.listener,n)}var e=Mtt;return t}function y3(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)y3(t,e[o],n,r,i);return null}return n=mk(n),t&&t[sp]?t.O(e,n,op(r)?!!r.capture:!!r,i):m3(t,e,n,!0,r,i)}function w3(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)w3(t,e[o],n,r,i);else r=op(r)?!!r.capture:!!r,n=mk(n),t&&t[sp]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=TS(o,n,r,i),-1<n&&(qy(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=gk(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TS(e,n,r,i)),(n=-1<t?e[t]:null)&&vk(n))}function vk(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[sp])ES(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(x3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gk(e))?(ES(n,t),n.h==0&&(n.src=null,e[pk]=null)):qy(t)}}}function x3(t){return t in m1?m1[t]:m1[t]="on"+t}function Mtt(t,e){if(t.ca)t=!0;else{e=new fd(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&vk(t),t=n.call(r,e)}return t}function gk(t){return t=t[pk],t instanceof Qy?t:null}var y1="__closure_events_fn_"+(1e9*Math.random()>>>0);function mk(t){return typeof t=="function"?t:(t[y1]||(t[y1]=function(e){return t.handleEvent(e)}),t[y1])}function jn(){ca.call(this),this.i=new Qy(this),this.P=this,this.I=null}tr(jn,ca);jn.prototype[sp]=!0;jn.prototype.removeEventListener=function(t,e,n,r){w3(this,t,e,n,r)};function Qn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new lr(e,t);else if(e instanceof lr)e.target=e.target||t;else{var i=e;e=new lr(r,t),f3(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Xv(a,r,!0,e)&&i}if(a=e.g=t,i=Xv(a,r,!0,e)&&i,i=Xv(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=Xv(a,r,!1,e)&&i}jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qy(n[r]);delete t.g[e],t.h--}}this.I=null};jn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};jn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Xv(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,c=a.ia||a.src;a.fa&&ES(t.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var yk=ee.JSON.stringify;function Ott(){var t=_3,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ntt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=b3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),b3=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new Dtt},function(t){return t.reset()}),Dtt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ltt(t){ee.setTimeout(function(){throw t},0)}function wk(t,e){kS||Ftt(),CS||(kS(),CS=!0),_3.add(t,e)}var kS;function Ftt(){var t=ee.Promise.resolve(void 0);kS=function(){t.then(jtt)}}var CS=!1,_3=new Ntt;function jtt(){for(var t;t=Ott();){try{t.h.call(t.g)}catch(n){Ltt(n)}var e=b3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}CS=!1}function Jy(t,e){jn.call(this),this.h=t||1,this.g=e||ee,this.j=qn(this.kb,this),this.l=Date.now()}tr(Jy,jn);zt=Jy.prototype;zt.da=!1;zt.S=null;zt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qn(this,"tick"),this.da&&(xk(this),this.start()))}};zt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xk(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}zt.M=function(){Jy.Z.M.call(this),xk(this),delete this.g};function bk(t,e,n){if(typeof t=="function")n&&(t=qn(t,n));else if(t&&typeof t.handleEvent=="function")t=qn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function S3(t){t.g=bk(function(){t.g=null,t.i&&(t.i=!1,S3(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var Btt=function(t){dtt(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:S3(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ca);function dd(t){ca.call(this),this.h=t,this.g={}}tr(dd,ca);var wN=[];function E3(t,e,n,r){Array.isArray(n)||(n&&(wN[0]=n.toString()),n=wN);for(var i=0;i<n.length;i++){var o=g3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function T3(t){fk(t.g,function(e,n){this.g.hasOwnProperty(n)&&vk(e)},t),t.g={}}dd.prototype.M=function(){dd.Z.M.call(this),T3(this)};dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zy(){this.g=!0}Zy.prototype.Aa=function(){this.g=!1};function Utt(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var h=u[c].split("=");if(1<h.length){var f=h[0];h=h[1];var v=f.split("_");a=2<=v.length&&v[1]=="type"?a+(f+"="+h+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function ztt(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function $l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Vtt(t,n)+(r?" "+r:"")})}function $tt(t,e){t.info(function(){return"TIMEOUT: "+e})}Zy.prototype.info=function(){};function Vtt(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return yk(n)}catch{return e}}var Bu={},xN=null;function t0(){return xN=xN||new jn}Bu.Ma="serverreachability";function k3(t){lr.call(this,Bu.Ma,t)}tr(k3,lr);function pd(t){var e=t0();Qn(e,new k3(e))}Bu.STAT_EVENT="statevent";function C3(t,e){lr.call(this,Bu.STAT_EVENT,t),this.stat=e}tr(C3,lr);function kr(t){var e=t0();Qn(e,new C3(e,t))}Bu.Na="timingevent";function I3(t,e){lr.call(this,Bu.Na,t),this.size=e}tr(I3,lr);function ap(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var e0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},A3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _k(){}_k.prototype.h=null;function bN(t){return t.h||(t.h=t.i())}function P3(){}var up={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sk(){lr.call(this,"d")}tr(Sk,lr);function Ek(){lr.call(this,"c")}tr(Ek,lr);var IS;function n0(){}tr(n0,_k);n0.prototype.g=function(){return new XMLHttpRequest};n0.prototype.i=function(){return{}};IS=new n0;function lp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new dd(this),this.P=Wtt,t=_S?125:void 0,this.W=new Jy(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new R3}function R3(){this.i=null,this.g="",this.h=!1}var Wtt=45e3,AS={},bm={};zt=lp.prototype;zt.setTimeout=function(t){this.P=t};function PS(t,e,n){t.K=1,t.v=i0(es(e)),t.s=n,t.U=!0,M3(t,null)}function M3(t,e){t.F=Date.now(),cp(t),t.A=es(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),B3(n.h,"t",r),t.C=0,n=t.l.H,t.h=new R3,t.g=oU(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Btt(qn(t.Ia,t,t.g),t.O)),E3(t.V,t.g,"readystatechange",t.gb),e=t.H?h3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),pd(),Utt(t.j,t.u,t.A,t.m,t.X,t.s)}zt.gb=function(t){t=t.target;var e=this.L;e&&Vo(t)==3?e.l():this.Ia(t)};zt.Ia=function(t){try{if(t==this.g)t:{var e=Vo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||_S||this.g&&(this.h.h||this.g.ga()||TN(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?pd(3):pd(2)),r0(this);var i=this.g.ba();this.N=i;e:if(O3(this)){var o=TN(this.g);t="";var a=o.length,u=Vo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Za(this),Mf(this);var c="";break e}this.h.i=new ee.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,ztt(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wm(h)){var v=h;break e}}v=null}if(i=v)$l(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,RS(this,i);else{this.i=!1,this.o=3,kr(12),Za(this),Mf(this);break t}}this.U?(N3(this,e,c),_S&&this.i&&e==3&&(E3(this.V,this.W,"tick",this.fb),this.W.start())):($l(this.j,this.m,c,null),RS(this,c)),e==4&&Za(this),this.i&&!this.I&&(e==4?eU(this.l,this):(this.i=!1,cp(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Za(this),Mf(this)}}}catch{}finally{}};function O3(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function N3(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=Gtt(t,n),i==bm){e==4&&(t.o=4,kr(14),r=!1),$l(t.j,t.m,null,"[Incomplete Response]");break}else if(i==AS){t.o=4,kr(15),$l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else $l(t.j,t.m,i,null),RS(t,i);O3(t)&&i!=bm&&i!=AS&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,kr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ok(e),e.L=!0,kr(11))):($l(t.j,t.m,n,"[Invalid Chunked Response]"),Za(t),Mf(t))}zt.fb=function(){if(this.g){var t=Vo(this.g),e=this.g.ga();this.C<e.length&&(r0(this),N3(this,t,e),this.i&&t!=4&&cp(this))}};function Gtt(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?bm:(n=Number(e.substring(n,r)),isNaN(n)?AS:(r+=1,r+n>e.length?bm:(e=e.substr(r,n),t.C=r+n,e)))}zt.cancel=function(){this.I=!0,Za(this)};function cp(t){t.Y=Date.now()+t.P,D3(t,t.P)}function D3(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ap(qn(t.eb,t),e)}function r0(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}zt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?($tt(this.j,this.A),this.K!=2&&(pd(),kr(17)),Za(this),this.o=2,Mf(this)):D3(this,this.Y-t)};function Mf(t){t.l.G==0||t.I||eU(t.l,t)}function Za(t){r0(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,xk(t.W),T3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function RS(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||MS(n.i,t))){if(n.I=t.N,!t.J&&MS(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Tm(n),a0(n);else break t;Mk(n),kr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=ap(qn(n.ab,n),6e3));if(1>=$3(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else tu(n,11)}else if((t.J||n.g==t)&&Tm(n),!wm(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var a=o[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var c=o[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=t.g;if(h){var f=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var v=r.i;!v.g&&(Sr(f,"spdy")||Sr(f,"quic")||Sr(f,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Ck(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Xe(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var b=t;if(r.oa=iU(r,r.H?r.la:null,r.W),b.J){V3(r.i,b);var w=b,T=r.K;T&&w.setTimeout(T),w.B&&(r0(w),cp(w)),r.g=b}else Z3(r);0<n.l.length&&u0(n)}else o[0]!="stop"&&o[0]!="close"||tu(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?tu(n,7):Rk(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}pd(4)}catch{}}function Htt(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(bS(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Tk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bS(t)||typeof t=="string")c3(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(bS(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Htt(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Hc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Hc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}zt=Hc.prototype;zt.R=function(){kk(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};zt.T=function(){return kk(this),this.g.concat()};function kk(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Eu(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Eu(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}zt.get=function(t,e){return Eu(this.h,t)?this.h[t]:e};zt.set=function(t,e){Eu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};zt.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function Eu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var L3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ktt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Tu(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Tu){this.g=e!==void 0?e:t.g,_m(this,t.j),this.s=t.s,Sm(this,t.i),Em(this,t.m),this.l=t.l,e=t.h;var n=new vd;n.i=e.i,e.g&&(n.g=new Hc(e.g),n.h=e.h),_N(this,n),this.o=t.o}else t&&(n=String(t).match(L3))?(this.g=!!e,_m(this,n[1]||"",!0),this.s=Of(n[2]||""),Sm(this,n[3]||"",!0),Em(this,n[4]),this.l=Of(n[5]||"",!0),_N(this,n[6]||"",!0),this.o=Of(n[7]||"")):(this.g=!!e,this.h=new vd(null,this.g))}Tu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ff(e,SN,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ff(e,SN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(ff(n,n.charAt(0)=="/"?Jtt:Qtt,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ff(n,tet)),t.join("")};function es(t){return new Tu(t)}function _m(t,e,n){t.j=n?Of(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sm(t,e,n){t.i=n?Of(e,!0):e}function Em(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _N(t,e,n){e instanceof vd?(t.h=e,eet(t.h,t.g)):(n||(e=ff(e,Ztt)),t.h=new vd(e,t.g))}function Xe(t,e,n){t.h.set(e,n)}function i0(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xtt(t){return t instanceof Tu?es(t):new Tu(t,void 0)}function Ytt(t,e,n,r){var i=new Tu(null,void 0);return t&&_m(i,t),e&&Sm(i,e),n&&Em(i,n),r&&(i.l=r),i}function Of(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ff(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qtt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qtt(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var SN=/[#\/\?@]/g,Qtt=/[#\?:]/g,Jtt=/[#\?]/g,Ztt=/[#\?@]/g,tet=/#/g;function vd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ha(t){t.g||(t.g=new Hc,t.h=0,t.i&&Ktt(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}zt=vd.prototype;zt.add=function(t,e){ha(this),this.i=null,t=Kc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function F3(t,e){ha(t),e=Kc(t,e),Eu(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Eu(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&kk(t)))}function j3(t,e){return ha(t),e=Kc(t,e),Eu(t.g.h,e)}zt.forEach=function(t,e){ha(this),this.g.forEach(function(n,r){c3(n,function(i){t.call(e,i,r,this)},this)},this)};zt.T=function(){ha(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};zt.R=function(t){ha(this);var e=[];if(typeof t=="string")j3(this,t)&&(e=dN(e,this.g.get(Kc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=dN(e,t[n])}return e};zt.set=function(t,e){return ha(this),this.i=null,t=Kc(this,t),j3(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};zt.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function B3(t,e,n){F3(t,e),0<n.length&&(t.i=null,t.g.set(Kc(t,e),hk(n)),t.h+=n.length)}zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};function Kc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eet(t,e){e&&!t.j&&(ha(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(F3(this,r),B3(this,i,n))},t)),t.j=e}var net=function(){function t(e,n){this.h=e,this.g=n}return t}();function U3(t){this.l=t||ret,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ret=10;function z3(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $3(t){return t.h?1:t.g?t.g.size:0}function MS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ck(t,e){t.g?t.g.add(e):t.h=e}function V3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}U3.prototype.cancel=function(){var t,e;if(this.i=W3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=u3(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function W3(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=u3(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return hk(t.i)}function Ik(){}Ik.prototype.stringify=function(t){return ee.JSON.stringify(t,void 0)};Ik.prototype.parse=function(t){return ee.JSON.parse(t,void 0)};function iet(){this.g=new Ik}function oet(t,e,n){var r=n||"";try{Tk(t,function(i,o){var a=i;op(i)&&(a=yk(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function set(t,e){var n=new Zy;if(ee.Image){var r=new Image;r.onload=Kv(Yv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Kv(Yv,n,r,"TestLoadImage: error",!1,e),r.onabort=Kv(Yv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kv(Yv,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hp(t){this.l=t.$b||null,this.j=t.ib||!1}tr(hp,_k);hp.prototype.g=function(){return new o0(this.l,this.j)};hp.prototype.i=function(t){return function(){return t}}({});function o0(t,e){jn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ak,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tr(o0,jn);var Ak=0;zt=o0.prototype;zt.open=function(t,e){if(this.readyState!=Ak)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gd(this)};zt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fp(this)),this.readyState=Ak};zt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gd(this)),this.g&&(this.readyState=3,gd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G3(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function G3(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}zt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fp(this):gd(this),this.readyState==3&&G3(this)}};zt.Ua=function(t){this.g&&(this.response=this.responseText=t,fp(this))};zt.Ta=function(t){this.g&&(this.response=t,fp(this))};zt.ha=function(){this.g&&fp(this)};function fp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gd(t)}zt.setRequestHeader=function(t,e){this.v.append(t,e)};zt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};zt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function gd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(o0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aet=ee.JSON.parse;function gn(t){jn.call(this),this.headers=new Hc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=H3,this.K=this.L=!1}tr(gn,jn);var H3="",uet=/^https?$/i,cet=["POST","PUT"];zt=gn.prototype;zt.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():IS.g(),this.C=this.u?bN(this.u):bN(IS),this.g.onreadystatechange=qn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){EN(this,o);return}t=n||"";var i=new Hc(this.headers);r&&Tk(r,function(o,a){i.set(a,o)}),r=xtt(i.T()),n=ee.FormData&&t instanceof ee.FormData,!(0<=l3(cet,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Y3(this),0<this.B&&((this.K=het(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qn(this.pa,this)):this.A=bk(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){EN(this,o)}};function het(t){return gc&&Ttt()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function fet(t){return t.toLowerCase()=="content-type"}zt.pa=function(){typeof ck<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))};function EN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,K3(t),s0(t)}function K3(t){t.D||(t.D=!0,Qn(t,"complete"),Qn(t,"error"))}zt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qn(this,"complete"),Qn(this,"abort"),s0(this))};zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),s0(this,!0)),gn.Z.M.call(this)};zt.Fa=function(){this.s||(this.F||this.v||this.l?X3(this):this.cb())};zt.cb=function(){X3(this)};function X3(t){if(t.h&&typeof ck<"u"&&(!t.C[1]||Vo(t)!=4||t.ba()!=2)){if(t.v&&Vo(t)==4)bk(t.Fa,0,t);else if(Qn(t,"readystatechange"),Vo(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.H).match(L3)[1]||null;if(!o&&ee.self&&ee.self.location){var a=ee.self.location.protocol;o=a.substr(0,a.length-1)}i=!uet.test(o?o.toLowerCase():"")}r=i}if(r)Qn(t,"complete"),Qn(t,"success");else{t.m=6;try{var u=2<Vo(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.ba()+"]",K3(t)}}finally{s0(t)}}}}function s0(t,e){if(t.g){Y3(t);var n=t.g,r=t.C[0]?ym:null;t.g=null,t.C=null,e||Qn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Y3(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function Vo(t){return t.g?t.g.readyState:0}zt.ba=function(){try{return 2<Vo(this)?this.g.status:-1}catch{return-1}};zt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};zt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aet(e)}};function TN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case H3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}zt.Da=function(){return this.m};zt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function det(t){var e="";return fk(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Pk(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=det(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xe(t,e,n))}function tf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function q3(t){this.za=0,this.l=[],this.h=new Zy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tf("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tf("baseRetryDelayMs",5e3,t),this.$a=tf("retryDelaySeedMs",1e4,t),this.Ya=tf("forwardChannelMaxRetries",2,t),this.ra=tf("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new U3(t&&t.concurrentRequestLimit),this.Ca=new iet,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}zt=q3.prototype;zt.ma=8;zt.G=1;function Rk(t){if(Q3(t),t.G==3){var e=t.V++,n=es(t.F);Xe(n,"SID",t.J),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),dp(t,n),e=new lp(t,t.h,e,void 0),e.K=2,e.v=i0(es(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(e.v.toString(),"")),!n&&ee.Image&&(new Image().src=e.v,n=!0),n||(e.g=oU(e.l,null),e.g.ea(e.v)),e.F=Date.now(),cp(e)}rU(t)}zt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function a0(t){t.g&&(Ok(t),t.g.cancel(),t.g=null)}function Q3(t){a0(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Tm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function w1(t,e){t.l.push(new net(t.Za++,e)),t.G==3&&u0(t)}function u0(t){z3(t.i)||t.m||(t.m=!0,wk(t.Ha,t),t.C=0)}function pet(t,e){return $3(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=ap(qn(t.Ha,t,e),nU(t,t.C)),t.C++,!0)}zt.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new lp(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=h3(n),f3(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){e:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break e}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break t}if(r===4096||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=J3(this,e,r),i=es(this.F),Xe(i,"RID",t),Xe(i,"CVER",22),this.D&&Xe(i,"X-HTTP-Session-Id",this.D),dp(this,i),this.o&&n&&Pk(i,this.o,n),Ck(this.i,e),this.Ra&&Xe(i,"TYPE","init"),this.ja?(Xe(i,"$req",r),Xe(i,"SID","null"),e.$=!0,PS(e,i,null)):PS(e,i,r),this.G=2}}else this.G==3&&(t?kN(this,t):this.l.length==0||z3(this.i)||kN(this))};function kN(t,e){var n;e?n=e.m:n=t.V++;var r=es(t.F);Xe(r,"SID",t.J),Xe(r,"RID",n),Xe(r,"AID",t.U),dp(t,r),t.o&&t.s&&Pk(r,t.o,t.s),n=new lp(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=J3(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ck(t.i,n),PS(n,r,e)}function dp(t,e){t.j&&Tk({},function(n,r){Xe(e,r,n)})}function J3(t,e,n){n=Math.min(t.l.length,n);var r=t.j?qn(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var h=i[c].h,f=i[c].g;if(h-=o,0>h)o=Math.max(0,i[c].h-100),u=!1;else try{oet(f,a,"req"+h+"_")}catch{r&&r(f)}}if(u){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Z3(t){t.g||t.u||(t.Y=1,wk(t.Ga,t),t.A=0)}function Mk(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=ap(qn(t.Ga,t),nU(t,t.A)),t.A++,!0)}zt.Ga=function(){if(this.u=null,tU(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ap(qn(this.bb,this),t)}};zt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kr(10),a0(this),tU(this))};function Ok(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function tU(t){t.g=new lp(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=es(t.oa);Xe(e,"RID","rpc"),Xe(e,"SID",t.J),Xe(e,"CI",t.N?"0":"1"),Xe(e,"AID",t.U),dp(t,e),Xe(e,"TYPE","xmlhttp"),t.o&&t.s&&Pk(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=i0(es(e)),n.s=null,n.U=!0,M3(n,t)}zt.ab=function(){this.v!=null&&(this.v=null,a0(this),Mk(this),kr(19))};function Tm(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function eU(t,e){var n=null;if(t.g==e){Tm(t),Ok(t),t.g=null;var r=2}else if(MS(t.i,e))n=e.D,V3(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=t0(),Qn(r,new I3(r,n)),u0(t)}else Z3(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&pet(t,e)||r==2&&Mk(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tu(t,5);break;case 4:tu(t,10);break;case 3:tu(t,6);break;default:tu(t,2)}}}function nU(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function tu(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=qn(t.jb,t);n||(n=new Tu("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||_m(n,"https"),i0(n)),set(n.toString(),r)}else kr(2);t.G=0,t.j&&t.j.va(e),rU(t),Q3(t)}zt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),kr(2)):(this.h.info("Failed to ping google.com"),kr(1))};function rU(t){t.G=0,t.I=-1,t.j&&((W3(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,hk(t.l),t.l.length=0),t.j.ua())}function iU(t,e,n){var r=Xtt(n);if(r.i!="")e&&Sm(r,e+"."+r.i),Em(r,r.m);else{var i=ee.location;r=Ytt(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&fk(t.aa,function(o,a){Xe(r,a,o)}),e=t.D,n=t.sa,e&&n&&Xe(r,e,n),Xe(r,"VER",t.ma),dp(t,r),r}function oU(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new gn(new hp({ib:!0})):new gn(t.qa),e.L=t.H,e}function sU(){}zt=sU.prototype;zt.xa=function(){};zt.wa=function(){};zt.va=function(){};zt.ua=function(){};zt.Oa=function(){};function km(){if(gc&&!(10<=Number(ktt)))throw Error("Environmental error: no available transport.")}km.prototype.g=function(t,e){return new ci(t,e)};function ci(t,e){jn.call(this),this.g=new q3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!wm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wm(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xc(this)}tr(ci,jn);ci.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),wk(qn(t.hb,t,e))),kr(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=iU(t,null,t.W),u0(t)};ci.prototype.close=function(){Rk(this.g)};ci.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,w1(this.g,e)}else this.v?(e={},e.__data__=yk(t),w1(this.g,e)):w1(this.g,t)};ci.prototype.M=function(){this.g.j=null,delete this.j,Rk(this.g),delete this.g,ci.Z.M.call(this)};function aU(t){Sk.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tr(aU,Sk);function uU(){Ek.call(this),this.status=1}tr(uU,Ek);function Xc(t){this.g=t}tr(Xc,sU);Xc.prototype.xa=function(){Qn(this.g,"a")};Xc.prototype.wa=function(t){Qn(this.g,new aU(t))};Xc.prototype.va=function(t){Qn(this.g,new uU)};Xc.prototype.ua=function(){Qn(this.g,"b")};km.prototype.createWebChannel=km.prototype.g;ci.prototype.send=ci.prototype.u;ci.prototype.open=ci.prototype.m;ci.prototype.close=ci.prototype.close;e0.NO_ERROR=0;e0.TIMEOUT=8;e0.HTTP_ERROR=6;A3.COMPLETE="complete";P3.EventType=up;up.OPEN="a";up.CLOSE="b";up.ERROR="c";up.MESSAGE="d";jn.prototype.listen=jn.prototype.N;gn.prototype.listenOnce=gn.prototype.O;gn.prototype.getLastError=gn.prototype.La;gn.prototype.getLastErrorCode=gn.prototype.Da;gn.prototype.getStatus=gn.prototype.ba;gn.prototype.getResponseJson=gn.prototype.Qa;gn.prototype.getResponseText=gn.prototype.ga;gn.prototype.send=gn.prototype.ea;var vet=function(){return new km},get=function(){return t0()},x1=e0,met=A3,yet=Bu,CN={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wet=hp,qv=P3,xet=gn;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();ri.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rt=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return jt(e,t),e}(Error),Zi=new Du("@firebase/firestore");function OS(){return Zi.logLevel}function Dt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=ce.DEBUG){var r=e.map(Nk);Zi.debug.apply(Zi,se(["Firestore (8.10.1): "+t],r))}}function vn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=ce.ERROR){var r=e.map(Nk);Zi.error.apply(Zi,se(["Firestore (8.10.1): "+t],r))}}function md(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=ce.WARN){var r=e.map(Nk);Zi.warn.apply(Zi,se(["Firestore (8.10.1): "+t],r))}}function Nk(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw vn(e),new Error(e)}function Jt(t,e){t||Ht()}function Ft(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bet(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lU=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=bet(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function de(t,e){return t<e?-1:t>e?1:0}function mc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function cU(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),le=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Gr(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hU(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fU=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&Ht(),r===void 0?r=e.length-n:r>e.length-n&&Ht(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Ee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(fU),_et=/^[_a-zA-Z][_a-zA-Z0-9]*$/,no=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return _et.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new Rt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Rt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(i+=c,o++):(a(),o++)}if(a(),u)throw new Rt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(fU),yc=function(){function t(e){this.fields=e,e.sort(no.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return mc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Ir=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return de(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Ir.EMPTY_BYTE_STRING=new Ir("");var Eet=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(Jt(!!t),typeof t=="string"){var e=0,n=Eet.exec(t);if(Jt(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wc(t){return typeof t=="string"?Ir.fromBase64String(t):Ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dU(t){var e=t.mapValue.fields.__previous_value__;return Dk(e)?dU(e):e}function yd(t){var e=ia(t.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){return t==null}function Cm(t){return t===0&&1/t==-1/0}function pU(t){return typeof t=="number"&&Number.isInteger(t)&&!Cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Ee.fromString(e))},t.fromName=function(e){return new t(Ee.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Ee.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Ee.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Ee(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dk(t)?4:10:Ht()}function Io(t,e){var n=ku(t);if(n!==ku(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yd(t).isEqual(yd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=ia(r.timestampValue),a=ia(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return wc(r.bytesValue).isEqual(wc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dn(r.geoPointValue.latitude)===dn(i.geoPointValue.latitude)&&dn(r.geoPointValue.longitude)===dn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dn(r.integerValue)===dn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=dn(r.doubleValue),a=dn(i.doubleValue);return o===a?Cm(o)===Cm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(IN(o)!==IN(a))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Io(o[u],a[u])))return!1;return!0}(t,e);default:return Ht()}}function wd(t,e){return(t.values||[]).find(function(n){return Io(n,e)})!==void 0}function xc(t,e){var n=ku(t),r=ku(e);if(n!==r)return de(n,r);switch(n){case 0:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=dn(i.integerValue||i.doubleValue),u=dn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return AN(t.timestampValue,e.timestampValue);case 4:return AN(yd(t),yd(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(i,o){var a=wc(i),u=wc(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),u=o.split("/"),c=0;c<a.length&&c<u.length;c++){var h=de(a[c],u[c]);if(h!==0)return h}return de(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=de(dn(i.latitude),dn(o.latitude));return a!==0?a:de(dn(i.longitude),dn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],u=o.values||[],c=0;c<a.length&&c<u.length;++c){var h=xc(a[c],u[c]);if(h)return h}return de(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(var f=0;f<u.length&&f<h.length;++f){var v=de(u[f],h[f]);if(v!==0)return v;var g=xc(a[u[f]],c[h[f]]);if(g!==0)return g}return de(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Ht()}}function AN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);var n=ia(t),r=ia(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function Lk(t){return NS(t)}function NS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=ia(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Xt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,u=r.values||[];a<u.length;a++)o?o=!1:i+=",",i+=NS(u[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,u=Object.keys(r.fields||{}).sort();a<u.length;a++){var c=u[a];o?o=!1:i+=",",i+=c+":"+NS(r.fields[c])}return i+"}"}(t.mapValue):Ht();var e,n}function Im(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function DS(t){return!!t&&"integerValue"in t}function Fk(t){return!!t&&"arrayValue"in t}function PN(t){return!!t&&"nullValue"in t}function RN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _g(t){return!!t&&"mapValue"in t}function Nf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Uu(t.mapValue.fields,function(i,o){return e.mapValue.fields[i]=Nf(o)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nf(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!_g(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nf(n)},t.prototype.setAll=function(e){var n=this,r=no.emptyPath(),i={},o=[];e.forEach(function(u,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,o),i={},o=[],r=c.popLast()}u?i[c.lastSegment()]=Nf(u):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},t.prototype.delete=function(e){var n=this.field(e.popLast());_g(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Io(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];_g(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){Uu(n,function(u,c){return e[u]=c});for(var i=0,o=r;i<o.length;i++){var a=o[i];delete e[a]}},t.prototype.clone=function(){return new t(Nf(this.value))},t}();function vU(t){var e=[];return Uu(t.fields,function(n,r){var i=new no([n]);if(_g(r)){var o=vU(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,u=o;a<u.length;a++){var c=u[a];e.push(i.child(c))}}else e.push(i)}),new yc(e)}var Zn=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,le.min(),ei.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ei.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ei.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Tet=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new Tet(t,e,n,r,i,o,a)}function pp(t){var e=Ft(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Lk(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),zu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Pm(e.startAt)),e.endAt&&(n+="|ub:",n+=Pm(e.endAt)),e.h=n}return e.h}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Oet(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Io(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NN(t.startAt,e.startAt)&&NN(t.endAt,e.endAt)}function Am(t){return Xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ii=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return jt(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new ket(n,r,i):r==="array-contains"?new Aet(n,i):r==="in"?new Pet(n,i):r==="not-in"?new Ret(n,i):r==="array-contains-any"?new Met(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new Cet(n,i):new Iet(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(xc(r,this.value)):r!==null&&ku(this.value)===ku(r)&&this.m(xc(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ht()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ket=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=Xt.fromName(i.referenceValue),o}return jt(e,t),e.prototype.matches=function(n){var r=Xt.comparator(n.key,this.key);return this.m(r)},e}(ii),Cet=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=gU("in",r),i}return jt(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(ii),Iet=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=gU("not-in",r),i}return jt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(ii);function gU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Xt.fromName(r.referenceValue)})}var Aet=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return jt(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return Fk(r)&&wd(r.arrayValue,this.value)},e}(ii),Pet=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return jt(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&wd(this.value.arrayValue,r)},e}(ii),Ret=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return jt(e,t),e.prototype.matches=function(n){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!wd(this.value.arrayValue,r)},e}(ii),Met=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return jt(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Fk(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return wd(r.value.arrayValue,o)})},e}(ii),xd=function(t,e){this.position=t,this.before=e};function Pm(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Lk(e)}).join(",")}var Ql=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function Oet(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ON(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Xt.comparator(Xt.fromName(a.referenceValue),n.key):xc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function NN(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Io(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as=function(t,e,n,r,i,o,a,u){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),u===void 0&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function mU(t,e,n,r,i,o,a,u){return new as(t,e,n,r,i,o,a,u)}function Yc(t){return new as(t)}function Sg(t){return!zu(t.limit)&&t.limitType==="F"}function Rm(t){return!zu(t.limit)&&t.limitType==="L"}function jk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bk(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Uk(t){return t.collectionGroup!==null}function bc(t){var e=Ft(t);if(e.p===null){e.p=[];var n=Bk(e),r=jk(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new Ql(n)),e.p.push(new Ql(no.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var u=a[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ql(no.keyField(),c))}}}return e.p}function Oi(t){var e=Ft(t);if(!e.T)if(e.limitType==="F")e.T=MN(e.path,e.collectionGroup,bc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=bc(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new Ql(o.field,a))}var u=e.endAt?new xd(e.endAt.position,!e.endAt.before):null,c=e.startAt?new xd(e.startAt.position,!e.startAt.before):null;e.T=MN(e.path,e.collectionGroup,n,e.filters,e.limit,u,c)}return e.T}function yU(t,e,n){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vp(t,e){return l0(Oi(t),Oi(e))&&t.limitType===e.limitType}function wU(t){return pp(Oi(t))+"|lt:"+t.limitType}function LS(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Lk(i.value);var i}).join(", ")+"]"),zu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Pm(e.startAt)),e.endAt&&(n+=", endAt: "+Pm(e.endAt)),"Target("+n+")"}(Oi(t))+"; limitType="+t.limitType+")"}function gp(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Xt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!ON(n.startAt,bc(n),r))&&(!n.endAt||!ON(n.endAt,bc(n),r))}(t,e)}function xU(t){return function(e,n){for(var r=!1,i=0,o=bc(t);i<o.length;i++){var a=o[i],u=Net(a,e,n);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function Net(t,e,n){var r=t.field.isKeyField()?Xt.comparator(e.key,n.key):function(i,o,a){var u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?xc(u,c):Ht()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ht()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(e)?"-0":e}}function _U(t){return{integerValue:""+t}}function SU(t,e){return pU(e)?_U(e):bU(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c0=function(){this._=void 0};function Det(t,e,n){return t instanceof _c?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Cu?TU(t,e):t instanceof Iu?kU(t,e):function(r,i){var o=EU(r,i),a=DN(o)+DN(r.A);return DS(o)&&DS(r.A)?_U(a):bU(r.R,a)}(t,e)}function Let(t,e,n){return t instanceof Cu?TU(t,e):t instanceof Iu?kU(t,e):n}function EU(t,e){return t instanceof Sc?DS(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var _c=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e}(c0),Cu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return jt(e,t),e}(c0);function TU(t,e){for(var n=CU(e),r=function(a){n.some(function(u){return Io(u,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Iu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return jt(e,t),e}(c0);function kU(t,e){for(var n=CU(e),r=function(a){n=n.filter(function(u){return!Io(u,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sc=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return jt(e,t),e}(c0);function DN(t){return dn(t.integerValue||t.doubleValue)}function CU(t){return Fk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp=function(t,e){this.field=t,this.transform=e},Fet=function(t,e){this.version=t,this.transformResults=e},ur=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Eg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var h0=function(){};function jet(t,e,n){t instanceof yp?function(r,i,o){var a=r.value.clone(),u=jN(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(r,i,o){if(Eg(r.precondition,i)){var a=jN(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(IU(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function FS(t,e,n){t instanceof yp?function(r,i,o){if(Eg(r.precondition,i)){var a=r.value.clone(),u=BN(r.fieldTransforms,o,i);a.setAll(u),i.convertToFoundDocument(FN(i),a).setHasLocalMutations()}}(t,e,n):t instanceof fa?function(r,i,o){if(Eg(r.precondition,i)){var a=BN(r.fieldTransforms,o,i),u=i.data;u.setAll(IU(r)),u.setAll(a),i.convertToFoundDocument(FN(i),u).setHasLocalMutations()}}(t,e,n):function(r,i){Eg(r.precondition,i)&&i.convertToNoDocument(le.min())}(t,e)}function Bet(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),u=EU(o.transform,a||null);u!=null&&(n==null&&(n=ei.empty()),n.set(o.field,u))}return n||null}function LN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&mc(n,r,function(i,o){return function(a,u){return a.field.isEqual(u.field)&&function(c,h){return c instanceof Cu&&h instanceof Cu||c instanceof Iu&&h instanceof Iu?mc(c.elements,h.elements,Io):c instanceof Sc&&h instanceof Sc?Io(c.A,h.A):c instanceof _c&&h instanceof _c}(a.transform,u.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function FN(t){return t.isFoundDocument()?t.version:le.min()}var yp=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return jt(e,t),e}(h0),fa=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var u=this;return(u=t.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=a,u.type=1,u}return jt(e,t),e}(h0);function IU(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function jN(t,e,n){var r=new Map;Jt(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,Let(a,u,n[i]))}return r}function BN(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],u=a.transform,c=n.data.field(a.field);r.set(a.field,Det(u,c,e))}return r}var fn,ye,wp=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return jt(e,t),e}(h0),zk=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return jt(e,t),e}(h0),Uet=function(t){this.count=t};function AU(t){switch(t){case _t.OK:return Ht();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return Ht()}}function PU(t){if(t===void 0)return vn("GRPC error has no .code"),_t.UNKNOWN;switch(t){case fn.OK:return _t.OK;case fn.CANCELLED:return _t.CANCELLED;case fn.UNKNOWN:return _t.UNKNOWN;case fn.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case fn.INTERNAL:return _t.INTERNAL;case fn.UNAVAILABLE:return _t.UNAVAILABLE;case fn.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case fn.NOT_FOUND:return _t.NOT_FOUND;case fn.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case fn.ABORTED:return _t.ABORTED;case fn.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case fn.DATA_LOSS:return _t.DATA_LOSS;default:return Ht()}}(ye=fn||(fn={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr=function(){function t(e,n){this.comparator=e,this.root=n||Ps.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ps.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Qv(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Qv(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Qv(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Qv(this.root,e,this.comparator,!0)},t}(),Qv=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ps=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();var e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)},t}();Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ht()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ht()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ht()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ht()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ht()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Ps(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn=function(){function t(e){this.comparator=e,this.data=new vr(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new UN(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new UN(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),UN=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),zet=new vr(Xt.comparator);function Ci(){return zet}var $et=new vr(Xt.comparator);function jS(){return $et}var Vet=new vr(Xt.comparator);function RU(){return Vet}var Wet=new Tn(Xt.comparator);function Re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Wet,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Get=new Tn(de);function f0(){return Get}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $k=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Vk.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(le.min(),r,f0(),Ci(),Re())},t}(),Vk=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ir.EMPTY_BYTE_STRING,n,Re(),Re(),Re())},t}(),Tg=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},MU=function(t,e){this.targetId=t,this.V=e},OU=function(t,e,n,r){n===void 0&&(n=Ir.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},zN=function(){function t(){this.S=0,this.D=VN(),this.C=Ir.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Re(),n=Re(),r=Re();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ht()}}),new Vk(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=VN()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Het=function(){function t(e){this.W=e,this.G=new Map,this.H=Ci(),this.J=$N(),this.Y=new Tn(de)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:Ht()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(Am(o))if(r===0){var a=new Xt(o.path);this.tt(n,a,Zn.newNoDocument(a,le.min()))}else Jt(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,u){var c=n.ot(u);if(c){if(a.current&&Am(c.target)){var h=new Xt(c.target.path);n.H.get(h)!==null||n.at(u,h)||n.tt(u,h,Zn.newNoDocument(h,e))}a.$&&(r.set(u,a.M()),a.L())}});var i=Re();this.J.forEach(function(a,u){var c=!0;u.forEachWhile(function(h){var f=n.ot(h);return!f||f.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new $k(e,r,this.Y,this.H,i);return this.H=Ci(),this.J=$N(),this.Y=new Tn(de),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new zN,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Tn(de),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||Dt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new zN),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function $N(){return new vr(Xt.comparator)}function VN(){return new vr(Xt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ket={asc:"ASCENDING",desc:"DESCENDING"},Xet={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yet=function(t,e){this.databaseId=t,this.I=e};function bd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function NU(t,e){return t.I?e.toBase64():e.toUint8Array()}function qet(t,e){return bd(t,e.toTimestamp())}function Dn(t){return Jt(!!t),le.fromTimestamp(function(e){var n=ia(e);return new Gr(n.seconds,n.nanos)}(t))}function Wk(t,e){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function DU(t){var e=Ee.fromString(t);return Jt(VU(e)),e}function _d(t,e){return Wk(t.databaseId,e.path)}function bo(t,e){var n=DU(e);if(n.get(1)!==t.databaseId.projectId)throw new Rt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Rt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xt(FU(n))}function BS(t,e){return Wk(t.databaseId,e)}function LU(t){var e=DU(t);return e.length===4?Ee.emptyPath():FU(e)}function Sd(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FU(t){return Jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WN(t,e,n){return{name:_d(t,e),fields:n.value.mapValue.fields}}function jU(t,e,n){var r=bo(t,e.name),i=Dn(e.updateTime),o=new ei({mapValue:{fields:e.fields}}),a=Zn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Mm(t,e){var n;if(e instanceof yp)n={update:WN(t,e.key,e.value)};else if(e instanceof wp)n={delete:_d(t,e.key)};else if(e instanceof fa)n={update:WN(t,e.key,e.data),updateMask:ent(e.fieldMask)};else{if(!(e instanceof zk))return Ht();n={verify:_d(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof _c)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),increment:a.A};throw Ht()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:qet(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ht()}(t,e.precondition)),n}function GN(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?ur.updateTime(Dn(h.updateTime)):h.exists!==void 0?ur.exists(h.exists):ur.none()}(e.currentDocument):ur.none(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(f,v){var g=null;if("setToServerValue"in v)Jt(v.setToServerValue==="REQUEST_TIME"),g=new _c;else if("appendMissingElements"in v){var b=v.appendMissingElements.values||[];g=new Cu(b)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];g=new Iu(w)}else"increment"in v?g=new Sc(f,v.increment):Ht();var T=no.fromServerFormat(v.fieldPath);return new mp(T,g)}(t,h)}):[];if(e.update){e.update.name;var i=bo(t,e.update.name),o=new ei({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var f=h.fieldPaths||[];return new yc(f.map(function(v){return no.fromServerFormat(v)}))}(e.updateMask);return new fa(i,o,a,n,r)}return new yp(i,o,n,r)}if(e.delete){var u=bo(t,e.delete);return new wp(u,n)}if(e.verify){var c=bo(t,e.verify);return new zk(c,n)}return Ht()}function BU(t,e){return{documents:[BS(t,e.path)]}}function UU(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=BS(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=BS(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var c=u.map(function(h){return function(f){if(f.op==="=="){if(RN(f.value))return{unaryFilter:{field:_l(f.field),op:"IS_NAN"}};if(PN(f.value))return{unaryFilter:{field:_l(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(RN(f.value))return{unaryFilter:{field:_l(f.field),op:"IS_NOT_NAN"}};if(PN(f.value))return{unaryFilter:{field:_l(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(f.field),op:Jet(f.op),value:f.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(c){return function(h){return{field:_l(h.field),direction:Qet(h.dir)}}(c)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(u,c){return u.I||zu(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=HN(e.startAt)),e.endAt&&(n.structuredQuery.endAt=HN(e.endAt)),n}function zU(t){var e=LU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jt(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=$U(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(v){return function(g){return new Ql(Vl(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var c=null;n.limit&&(c=function(v){var g;return zu(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=KN(n.startAt));var f=null;return n.endAt&&(f=KN(n.endAt)),mU(e,i,u,a,c,"F",h,f)}function $U(t){return t?t.unaryFilter!==void 0?[tnt(t)]:t.fieldFilter!==void 0?[Zet(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return $U(e)}).reduce(function(e,n){return e.concat(n)}):Ht():[]}function HN(t){return{before:t.before,values:t.position}}function KN(t){var e=!!t.before,n=t.values||[];return new xd(n,e)}function Qet(t){return Ket[t]}function Jet(t){return Xet[t]}function _l(t){return{fieldPath:t.canonicalString()}}function Vl(t){return no.fromServerFormat(t.fieldPath)}function Zet(t){return ii.create(Vl(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ht()}}(t.fieldFilter.op),t.fieldFilter.value)}function tnt(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Vl(t.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Vl(t.unaryFilter.field);return ii.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vl(t.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vl(t.unaryFilter.field);return ii.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ht()}}function ent(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function VU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=XN(e)),e=nnt(t.get(n),e);return XN(e)}function nnt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function XN(t){return t+""}function Wo(t){var e=t.length;if(Jt(e>=2),e===2)return Jt(t.charAt(0)===""&&t.charAt(1)===""),Ee.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Ht(),t.charAt(a+1)){case"":var u=t.substring(o,a),c=void 0;i.length===0?c=u:(c=i+=u,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Ht()}o=a+2}return new Ee(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rnt=function(t,e){this.seconds=t,this.nanoseconds=e},Jr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Jr.store="owner",Jr.key="owner";var Xs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Xs.store="mutationQueues",Xs.keyPath="userId";var ze=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];var ar=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,to(n)]},t.key=function(e,n,r){return[e,to(n),r]},t}();ar.store="documentMutations",ar.PLACEHOLDER=new ar;var int=function(t,e){this.path=t,this.readTime=e},ont=function(t,e){this.path=t,this.version=e},on=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};on.store="remoteDocuments",on.readTimeIndex="readTimeIndex",on.readTimeIndexPath="readTime",on.collectionReadTimeIndex="collectionReadTimeIndex",on.collectionReadTimeIndexPath=["parentPath","readTime"];var mo=function(t){this.byteSize=t};mo.store="remoteDocumentGlobal",mo.key="remoteDocumentGlobalKey";var Br=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Br.store="targets",Br.keyPath="targetId",Br.queryTargetsIndexName="queryTargetsIndex",Br.queryTargetsKeyPath=["canonicalId","targetId"];var Kn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kn.store="targetDocuments",Kn.keyPath=["targetId","path"],Kn.documentTargetsIndex="documentTargetsIndex",Kn.documentTargetsKeyPath=["path","targetId"];var Zr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zr.key="targetGlobalKey",Zr.store="targetGlobal";var lu=function(t,e){this.collectionId=t,this.parent=e};lu.store="collectionParents",lu.keyPath=["collectionId","parent"];var Ko=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ko.store="clientMetadata",Ko.keyPath="clientId";var Ec=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ec.store="bundles",Ec.keyPath="bundleId";var Tc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Tc.store="namedQueries",Tc.keyPath="name";var snt=se(se([],se(se([],se(se([],se(se([],[Xs.store,ze.store,ar.store,on.store,Br.store,Jr.store,Zr.store,Kn.store]),[Ko.store])),[mo.store])),[lu.store])),[Ec.store,Tc.store]),WU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GU=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),pr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Mt=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(u){++i,u.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(u){return u?t.resolve(u):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),HU=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new pr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Df(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Gk(i.target.error);r.ft.reject(new Df(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Df(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new unt(n)},t}(),kc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(xu())===12.2&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return Dt("SimpleDb","Removing database:",e),Ga(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=xu(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Dt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(c){var h=c.target.result;o(h)},u.onblocked=function(){a(new Df(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new Rt(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Df(e,h))},u.onupgradeneeded=function(c){Dt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,u.transaction,c.oldVersion,r.version).next(function(){Dt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return pt(this,void 0,void 0,function(){var o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:o=n==="readonly",a=0,u=function(){var v,g,b,w,T;return dt(this,function(P){switch(P.label){case 0:++a,P.label=1;case 1:return P.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=P.sent(),v=HU.open(c.db,e,o?"readonly":"readwrite",r),g=i(v).catch(function(k){return v.abort(k),Mt.reject(k)}).toPromise(),b={},g.catch(function(){}),[4,v.dt];case 3:return[2,(b.value=(P.sent(),g),b)];case 4:return w=P.sent(),T=w.name!=="FirebaseError"&&a<3,Dt("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),c.close(),T?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,f.label=1;case 1:return[5,u()];case 2:if(typeof(h=f.sent())=="object")return[2,h.value];f.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ant=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Ga(this.Pt.delete())},t}(),Df=function(t){function e(n,r){var i=this;return(i=t.call(this,_t.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return jt(e,t),e}(Rt);function $u(t){return t.name==="IndexedDbTransactionError"}var unt=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(Dt("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ga(r)},t.prototype.add=function(e){return Dt("SimpleDb","ADD",this.store.name,e,e),Ga(this.store.add(e))},t.prototype.get=function(e){var n=this;return Ga(this.store.get(e)).next(function(r){return r===void 0&&(r=null),Dt("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return Dt("SimpleDb","DELETE",this.store.name,e),Ga(this.store.delete(e))},t.prototype.count=function(){return Dt("SimpleDb","COUNT",this.store.name),Ga(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.kt=function(e,n){Dt("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,u){return u.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new Mt(function(r,i){n.onerror=function(o){var a=Gk(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(u){u?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new Mt(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var u=a.target.result;if(u){var c=new ant(u),h=n(u.primaryKey,u.value,c);if(h instanceof Mt){var f=h.catch(function(v){return c.done(),Mt.reject(v)});r.push(f)}c.isDone?i():c.Dt===null?u.continue():u.continue(c.Dt)}else i()}}).next(function(){return Mt.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Ga(t){return new Mt(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=Gk(r.target.error);n(i)}})}var YN=!1;function Gk(t){var e=kc._t(xu());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Rt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return YN||(YN=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qN=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return jt(e,t),e}(GU);function Kr(t,e){var n=Ft(t);return kc.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hk=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&jet(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&FS(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&FS(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(le.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Re())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,function(n,r){return LN(n,r)})&&mc(this.baseMutations,e.baseMutations,function(n,r){return LN(n,r)})},t}(),lnt=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){Jt(e.mutations.length===r.length);for(var i=RU(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),d0=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=le.min()),a===void 0&&(a=le.min()),u===void 0&&(u=Ir.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),KU=function(t){this.Lt=t};function US(t,e){if(e.document)return jU(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xt.fromSegments(e.noDocument.path),r=Ic(e.noDocument.readTime),i=Zn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Xt.fromSegments(e.unknownDocument.path);return r=Ic(e.unknownDocument.version),Zn.newUnknownDocument(o,r)}return Ht()}function QN(t,e,n){var r=Kk(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(v,g){return{name:_d(v,g.key),fields:g.data.value.mapValue.fields,updateTime:bd(v,g.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new on(null,null,o,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=Cc(e.version);return a=e.hasCommittedMutations,new on(null,new int(u,c),null,a,r,i)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=Cc(e.version);return new on(new ont(h,f),null,null,!0,r,i)}return Ht()}function Kk(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function XU(t){var e=new Gr(t[0],t[1]);return le.fromTimestamp(e)}function Cc(t){var e=t.toTimestamp();return new rnt(e.seconds,e.nanoseconds)}function Ic(t){var e=new Gr(t.seconds,t.nanoseconds);return le.fromTimestamp(e)}function Cl(t,e){for(var n=(e.baseMutations||[]).map(function(c){return GN(t.Lt,c)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(c){return GN(t.Lt,c)}),u=Gr.fromMillis(e.localWriteTimeMs);return new Hk(e.batchId,u,n,a)}function df(t){var e,n,r=Ic(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Ic(t.lastLimboFreeSnapshotVersion):le.min();return t.query.documents!==void 0?(Jt((n=t.query).documents.length===1),e=Oi(Yc(LU(n.documents[0])))):e=function(o){return Oi(zU(o))}(t.query),new d0(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ir.fromBase64String(t.resumeToken))}function YU(t,e){var n,r=Cc(e.snapshotVersion),i=Cc(e.lastLimboFreeSnapshotVersion);n=Am(e.target)?BU(t.Lt,e.target):UU(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Br(e.targetId,pp(e.target),r,o,e.sequenceNumber,i,n)}function Xk(t){var e=zU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yU(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cnt=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return JN(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Ic(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return JN(e).put({bundleId:(r=n).id,createTime:Cc(Dn(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return ZN(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:Xk(i.bundledQuery),readTime:Ic(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return ZN(e).put(function(r){return{name:r.name,readTime:Cc(Dn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function JN(t){return Kr(t,Ec.store)}function ZN(t){return Kr(t,Tc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hnt=function(){function t(){this.Bt=new Yk}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),Mt.resolve()},t.prototype.getCollectionParents=function(e,n){return Mt.resolve(this.Bt.getEntries(n))},t}(),Yk=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Tn(Ee.comparator)).toArray()},t}(),fnt=function(){function t(){this.qt=new Yk}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:to(o)};return tD(e).put(a)}return Mt.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[cU(n),""],!1,!0);return tD(e).Nt(i).next(function(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c.collectionId!==n)break;r.push(Wo(c.parent))}return r})},t}();function tD(t){return Kr(t,lu.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vo=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t,e,n){var r=t.store(ze.store),i=t.store(ar.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:a},function(w,T,P){return u++,P.delete()});o.push(c.next(function(){Jt(u===1)}));for(var h=[],f=0,v=n.mutations;f<v.length;f++){var g=v[f],b=ar.key(e,g.key.path,n.batchId);o.push(i.delete(b)),h.push(g.key)}return Mt.waitFor(o).next(function(){return h})}function Om(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ht();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);var dnt=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return Jt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bs(e).$t({index:ze.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=Il(e),u=bs(e);return u.add({}).next(function(c){Jt(typeof c=="number");for(var h=new Hk(c,n,r,i),f=function(k,S,C){var D=C.baseMutations.map(function($){return Mm(k.Lt,$)}),U=C.mutations.map(function($){return Mm(k.Lt,$)});return new ze(S,C.batchId,C.localWriteTime.toMillis(),D,U)}(o.R,o.userId,h),v=[],g=new Tn(function(k,S){return de(k.canonicalString(),S.canonicalString())}),b=0,w=i;b<w.length;b++){var T=w[b],P=ar.key(o.userId,T.key.path,c);g=g.add(T.key.path.popLast()),v.push(u.put(f)),v.push(a.put(P,ar.PLACEHOLDER))}return g.forEach(function(k){v.push(o.Ut.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(function(){o.Kt[c]=h.keys()}),Mt.waitFor(v).next(function(){return h})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return bs(e).get(n).next(function(i){return i?(Jt(i.userId===r.userId),Cl(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?Mt.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return bs(e).$t({index:ze.userMutationsIndex,range:o},function(u,c,h){c.userId===r.userId&&(Jt(c.batchId>=i),a=Cl(r.R,c)),h.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return bs(e).$t({index:ze.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bs(e).Nt(ze.userMutationsIndex,r).next(function(i){return i.map(function(o){return Cl(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=ar.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return Il(e).$t({range:o},function(u,c,h){var f=u[0],v=u[1],g=u[2],b=Wo(v);if(f===r.userId&&n.path.isEqual(b))return bs(e).get(g).next(function(w){if(!w)throw Ht();Jt(w.userId===r.userId),a.push(Cl(r.R,w))});h.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Tn(de),o=[];return n.forEach(function(a){var u=ar.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(u),h=Il(e).$t({range:c},function(f,v,g){var b=f[0],w=f[1],T=f[2],P=Wo(w);b===r.userId&&a.path.isEqual(P)?i=i.add(T):g.done()});o.push(h)}),Mt.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=ar.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),c=new Tn(de);return Il(e).$t({range:u},function(h,f,v){var g=h[0],b=h[1],w=h[2],T=Wo(b);g===r.userId&&i.isPrefixOf(T)?T.length===o&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(e,c)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(bs(e).get(a).next(function(u){if(u===null)throw Ht();Jt(u.userId===r.userId),i.push(Cl(r.R,u))}))}),Mt.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return qU(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),Mt.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return Mt.resolve();var i=IDBKeyRange.lowerBound(ar.prefixForUser(n.userId)),o=[];return Il(e).$t({range:i},function(a,u,c){if(a[0]===n.userId){var h=Wo(a[1]);o.push(h)}else c.done()}).next(function(){Jt(o.length===0)})})},t.prototype.containsKey=function(e,n){return QU(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return JU(e).get(this.userId).next(function(r){return r||new Xs(n.userId,-1,"")})},t}();function QU(t,e,n){var r=ar.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Il(t).$t({range:o,Ft:!0},function(u,c,h){var f=u[0],v=u[1];u[2],f===e&&v===i&&(a=!0),h.done()}).next(function(){return a})}function bs(t){return Kr(t,ze.store)}function Il(t){return Kr(t,ar.store)}function JU(t){return Kr(t,Xs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nm=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),pnt=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new Nm(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return le.fromTimestamp(new Gr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return Sl(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return Jt(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return Sl(e).$t(function(u,c){var h=df(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(o++,a.push(i.removeTargetData(e,h)))}).next(function(){return Mt.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return Sl(e).$t(function(r,i){var o=df(i);n(o)})},t.prototype.Xt=function(e){return nD(e).get(Zr.key).next(function(n){return Jt(n!==null),n})},t.prototype.Zt=function(e,n){return nD(e).put(Zr.key,n)},t.prototype.te=function(e,n){return Sl(e).put(YU(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=pp(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Sl(e).$t({range:i,index:Br.queryTargetsIndexName},function(a,u,c){var h=df(u);l0(n,h.target)&&(o=h,c.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=Rs(e);return n.forEach(function(u){var c=to(u.path);o.push(a.put(new Kn(r,c))),o.push(i.referenceDelegate.addReference(e,r,u))}),Mt.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=Rs(e);return Mt.forEach(n,function(a){var u=to(a.path);return Mt.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Rs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Rs(e),o=Re();return i.$t({range:r,Ft:!0},function(a,u,c){var h=Wo(a[1]),f=new Xt(h);o=o.add(f)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=to(n.path),i=IDBKeyRange.bound([r],[cU(r)],!1,!0),o=0;return Rs(e).$t({index:Kn.documentTargetsIndex,Ft:!0,range:i},function(a,u,c){var h=a[0];a[1],h!==0&&(o++,c.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return Sl(e).get(n).next(function(r){return r?df(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){return Kr(t,Br.store)}function nD(t){return Kr(t,Zr.store)}function Rs(t){return Kr(t,Kn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){if(t.code!==_t.FAILED_PRECONDITION||t.message!==WU)throw t;return Dt("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=de(n,i);return a===0?de(r,o):a}var vnt=function(){function t(e){this.ne=e,this.buffer=new Tn(rD),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();rD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),gnt=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;Dt("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return pt(n,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return $u(i=o.sent())?(Dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Vu(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},t}(),mnt=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return Mt.resolve(ri.o);var i=new vnt(n);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(eD)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),eD):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,u,c,h,f=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(g){return g>f.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+g),i=f.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),f.nthSequenceNumber(e,i)}).next(function(g){return r=g,u=Date.now(),f.removeTargets(e,r,n)}).next(function(g){return o=g,c=Date.now(),f.removeOrphanedDocuments(e,r)}).next(function(g){return h=Date.now(),OS()<=ce.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(u-a)+`ms
	Removed `+o+" targets in "+(c-u)+`ms
	Removed `+g+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),Mt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})})},t}(),ynt=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new mnt(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return Jv(e,r)},t.prototype.removeReference=function(e,n,r){return Jv(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return Jv(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return JU(r).Ot(function(a){return QU(r,a,i).next(function(u){return u&&(o=!0),Mt.resolve(!u)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(u,c){if(c<=n){var h=r._e(e,u).next(function(f){if(!f)return a++,i.getEntry(e,u).next(function(){return i.removeEntry(u),Rs(e).delete([0,to(u.path)])})});o.push(h)}}).next(function(){return Mt.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return Jv(e,n)},t.prototype.we=function(e,n){var r,i=Rs(e),o=ri.o;return i.$t({index:Kn.documentTargetsIndex},function(a,u){var c=a[0];a[1];var h=u.path,f=u.sequenceNumber;c===0?(o!==ri.o&&n(new Xt(Wo(r)),o),o=f,r=h):o=ri.o}).next(function(){o!==ri.o&&n(new Xt(Wo(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Jv(t,e){return Rs(t).put(function(n,r){return new Kn(0,to(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];if(this.equalsFn(u,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){Uu(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];e(u,c)}})},t.prototype.isEmpty=function(){return hU(this.inner)},t}(),ZU=function(){function t(){this.changes=new qc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:le.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Zn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?Mt.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),wnt=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Cs(e).put(Zv(n),r)},t.prototype.removeEntry=function(e,n){var r=Cs(e),i=Zv(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return Cs(e).get(Zv(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return Cs(e).get(Zv(n)).next(function(i){return{document:r.ye(n,i),size:Om(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=Ci();return this.pe(e,n,function(o,a){var u=r.ye(o,a);i=i.insert(o,u)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=Ci(),o=new vr(Xt.comparator);return this.pe(e,n,function(a,u){var c=r.ye(a,u);i=i.insert(a,c),o=o.insert(a,Om(u))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return Mt.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return Cs(e).$t({range:i},function(u,c,h){for(var f=Xt.fromSegments(u);a&&Xt.comparator(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=Ci(),a=n.path.length+1,u={};if(r.isEqual(le.min())){var c=n.path.toArray();u.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),f=Kk(r);u.range=IDBKeyRange.lowerBound([h,f],!0),u.index=on.collectionReadTimeIndex}return Cs(e).$t(u,function(v,g,b){if(v.length===a){var w=US(i.R,g);n.path.isPrefixOf(w.key.path)?gp(n,w)&&(o=o.insert(w.key,w)):b.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new xnt(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return iD(e).get(mo.key).next(function(n){return Jt(!!n),n})},t.prototype.me=function(e,n){return iD(e).put(mo.key,n)},t.prototype.ye=function(e,n){if(n){var r=US(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(le.min()))return r}return Zn.newInvalidDocument(e)},t}(),xnt=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new qc(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return jt(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new Tn(function(u,c){return de(u.canonicalString(),c.canonicalString())});return this.changes.forEach(function(u,c){var h=r.Ae.get(u);if(c.document.isValidDocument()){var f=QN(r.Ie.R,c.document,r.getReadTime(u));a=a.add(u.path.popLast());var v=Om(f);o+=v-h,i.push(r.Ie.addEntry(n,u,f))}else if(o-=h,r.trackRemovals){var g=QN(r.Ie.R,Zn.newNoDocument(u,le.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,g))}else i.push(r.Ie.removeEntry(n,u))}),a.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),Mt.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(u,c){i.Ae.set(u,c)}),a})},e}(ZU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){return Kr(t,mo.store)}function Cs(t){return Kr(t,on.store)}function Zv(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bnt=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;Jt(r<i&&r>=0&&i<=11);var a=new HU("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Jr.store)}(e),function(c){c.createObjectStore(Xs.store,{keyPath:Xs.keyPath}),c.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0}),c.createObjectStore(ar.store)}(e),oD(e),function(c){c.createObjectStore(on.store)}(e));var u=Mt.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Kn.store),c.deleteObjectStore(Br.store),c.deleteObjectStore(Zr.store)}(e),oD(e)),u=u.next(function(){return function(c){var h=c.store(Zr.store),f=new Zr(0,0,le.min().toTimestamp(),0);return h.put(Zr.key,f)}(a)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(c,h){return h.store(ze.store).Nt().next(function(f){c.deleteObjectStore(ze.store),c.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0});var v=h.store(ze.store),g=f.map(function(b){return v.put(b)});return Mt.waitFor(g)})}(e,a)})),u=u.next(function(){(function(c){c.createObjectStore(Ko.store,{keyPath:Ko.keyPath})})(e)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(a)})),r<6&&i>=6&&(u=u.next(function(){return function(c){c.createObjectStore(mo.store)}(e),o.be(a)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(a)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(u=u.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var h=c.objectStore(on.store);h.createIndex(on.readTimeIndex,on.readTimeIndexPath,{unique:!1}),h.createIndex(on.collectionReadTimeIndex,on.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(a)})),r<11&&i>=11&&(u=u.next(function(){(function(c){c.createObjectStore(Ec.store,{keyPath:Ec.keyPath})})(e),function(c){c.createObjectStore(Tc.store,{keyPath:Tc.keyPath})}(e)})),u},t.prototype.be=function(e){var n=0;return e.store(on.store).$t(function(r,i){n+=Om(i)}).next(function(){var r=new mo(n);return e.store(mo.store).put(mo.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(Xs.store),i=e.store(ze.store);return r.Nt().next(function(o){return Mt.forEach(o,function(a){var u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(ze.userMutationsIndex,u).next(function(c){return Mt.forEach(c,function(h){Jt(h.userId===a.userId);var f=Cl(n.R,h);return qU(e,a.userId,f).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Kn.store),r=e.store(on.store);return e.store(Zr.store).get(Zr.key).next(function(i){var o=[];return r.$t(function(a,u){var c=new Ee(a),h=function(f){return[0,to(f)]}(c);o.push(n.get(h).next(function(f){return f?Mt.resolve():function(v){return n.put(new Kn(0,to(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return Mt.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(lu.store,{keyPath:lu.keyPath});var r=n.store(lu.store),i=new Yk,o=function(a){if(i.add(a)){var u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:to(c)})}};return n.store(on.store).$t({Ft:!0},function(a,u){var c=new Ee(a);return o(c.popLast())}).next(function(){return n.store(ar.store).$t({Ft:!0},function(a,u){a[0];var c=a[1];a[2];var h=Wo(c);return o(h.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Br.store);return r.$t(function(i,o){var a=df(o),u=YU(n.R,a);return r.put(u)})},t}();function oD(t){t.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.documentTargetsIndex,Kn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Br.store,{keyPath:Br.keyPath}).createIndex(Br.queryTargetsIndexName,Br.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Zr.store)}var b1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_nt=function(){function t(e,n,r,i,o,a,u,c,h,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=h,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new Rt(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ynt(this,i),this.Le=n+"main",this.R=new KU(c),this.Be=new kc(this.Le,11,new bnt(this.R)),this.qe=new pnt(this.referenceDelegate,this.R),this.Ut=new fnt,this.Ue=function(v,g){return new wnt(v,g)}(this.R,this.Ut),this.Ke=new cnt,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,f===!1&&vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Rt(_t.FAILED_PRECONDITION,b1);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new ri(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return pt(n,void 0,void 0,function(){return dt(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return pt(n,void 0,void 0,function(){return dt(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return pt(n,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return tg(n).put(new Ko(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if($u(n))return Dt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return Dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return ef(e).get(Jr.key).next(function(r){return Mt.resolve(n.tn(r))})},t.prototype.en=function(e){return tg(e).delete(this.clientId)},t.prototype.nn=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o=this;return dt(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var c=Kr(u,Ko.store);return c.Nt().next(function(h){var f=o.rn(h,18e5),v=h.filter(function(g){return f.indexOf(g)===-1});return Mt.forEach(v,function(g){return c.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?Mt.resolve(!0):ef(e).get(Jr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Rt(_t.FAILED_PRECONDITION,b1);return!1}}return!(!n.networkEnabled||!n.inForeground)||tg(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||u&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Dt("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return pt(this,void 0,void 0,function(){var e=this;return dt(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jr.store,Ko.store],function(r){var i=new qN(r,ri.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return tg(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return dnt.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Dt("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,snt,function(u){return o=new qN(u,i.Ne?i.Ne.next():ri.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw vn("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Rt(_t.FAILED_PRECONDITION,WU);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},t.prototype.dn=function(e){var n=this;return ef(e).get(Jr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Rt(_t.FAILED_PRECONDITION,b1)})},t.prototype.Ze=function(e){var n=new Jr(this.clientId,this.allowTabSynchronization,Date.now());return ef(e).put(Jr.key,n)},t.yt=function(){return kc.yt()},t.prototype.Xe=function(e){var n=this,r=ef(e);return r.get(Jr.key).next(function(i){return n.tn(i)?(Dt("IndexedDbPersistence","Releasing primary lease."),r.delete(Jr.key)):Mt.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(vn("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),i9()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return Dt("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return vn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){vn("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function ef(t){return Kr(t,Jr.store)}function tg(t){return Kr(t,Ko.store)}function qk(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Snt=function(t,e){this.progress=t,this.wn=e},t4=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return Xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):Uk(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new Xt(n)).next(function(r){var i=jS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=jS();return this.Ut.getCollectionParents(e,o).next(function(u){return Mt.forEach(u,function(c){var h=function(f,v){return new as(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return i.An(e,h,r).next(function(f){f.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(u){return i=u,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(u){return o=u,a.Rn(e,o,i).next(function(c){i=c;for(var h=0,f=o;h<f.length;h++)for(var v=f[h],g=0,b=v.mutations;g<b.length;g++){var w=b[g],T=w.key,P=i.get(T);P==null&&(P=Zn.newInvalidDocument(T),i=i.insert(T,P)),FS(w,P,v.localWriteTime),P.isFoundDocument()||(i=i.remove(T))}})}).next(function(){return i.forEach(function(u,c){gp(n,c)||(i=i.remove(u))}),i})},t.prototype.Rn=function(e,n,r){for(var i=Re(),o=0,a=n;o<a.length;o++)for(var u=0,c=a[o].mutations;u<c.length;u++){var h=c[u];h instanceof fa&&r.get(h.key)===null&&(i=i.add(h.key))}var f=r;return this.Ue.getEntries(e,i).next(function(v){return v.forEach(function(g,b){b.isFoundDocument()&&(f=f.insert(g,b))}),f})},t}(),Ent=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=Re(),i=Re(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),e4=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(le.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var u=o.Cn(n,a);return(Sg(n)||Rm(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(e,n):(OS()<=ce.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),LS(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(c){return u.forEach(function(h){c=c.insert(h.key,h)}),c}))})},t.prototype.Cn=function(e,n){var r=new Tn(xU(e));return n.forEach(function(i,o){gp(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return OS()<=ce.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",LS(n)),this.Sn.getDocumentsMatchingQuery(e,n,le.min())},t}(),Tnt=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new vr(de),this.Fn=new qc(function(o){return pp(o)},l0),this.$n=le.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new t4(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e,n,r){return new Tnt(t,e,n,r)}function r4(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return n=Ft(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var c;return n._n.getAllMutationBatches(u).next(function(h){return c=h,r=n.persistence.getMutationQueue(e),i=new t4(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(h){for(var f=[],v=[],g=Re(),b=0,w=c;b<w.length;b++){var T=w[b];f.push(T.batchId);for(var P=0,k=T.mutations;P<k.length;P++){var S=k[P];g=g.add(S.key)}}for(var C=0,D=h;C<D.length;C++){var U=D[C];v.push(U.batchId);for(var $=0,H=U.mutations;$<H.length;$++){var F=H[$];g=g.add(F.key)}}return i.pn(u,g).next(function(M){return{Ln:M,removedBatchIds:f,addedBatchIds:v}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function knt(t,e){var n=Ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){var f=c.batch,v=f.keys(),g=Mt.resolve();return v.forEach(function(b){g=g.next(function(){return h.getEntry(u,b)}).next(function(w){var T=c.docVersions.get(b);Jt(T!==null),w.version.compareTo(T)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(u,f)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function i4(t){var e=Ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function Cnt(t,e){var n=Ft(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];e.targetChanges.forEach(function(f,v){var g=i.get(v);if(g){u.push(n.qe.removeMatchingKeys(o,f.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(o,f.addedDocuments,v)}));var b=f.resumeToken;if(b.approximateByteSize()>0){var w=g.withResumeToken(b,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(v,w),function(T,P,k){return Jt(P.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,w,f)&&u.push(n.qe.updateTargetData(o,w))}}});var c=Ci();if(e.documentUpdates.forEach(function(f,v){e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),u.push(o4(o,a,e.documentUpdates,r,void 0).next(function(f){c=f})),!r.isEqual(le.min())){var h=n.qe.getLastRemoteSnapshotVersion(o).next(function(f){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(h)}return Mt.waitFor(u).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.kn=i,o})}function o4(t,e,n,r,i){var o=Re();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var u=Ci();return n.forEach(function(c,h){var f=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(le.min())?(e.removeEntry(c,v),u=u.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h,v),u=u.insert(c,h)):Dt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),u})}function Int(t,e){var n=Ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Ac(t,e){var n=Ft(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,Mt.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new d0(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Pc(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:r=Ft(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!$u(a=u.sent()))throw a;return Dt("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Dm(t,e,n){var r=Ft(t),i=le.min(),o=Re();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(u,c,h){var f=Ft(u),v=f.Fn.get(h);return v!==void 0?Mt.resolve(f.kn.get(v)):f.qe.getTargetData(c,h)}(r,a,Oi(e)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,u.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:le.min(),n?o:Re())}).next(function(u){return{documents:u,Bn:o}})})}function s4(t,e){var n=Ft(t),r=Ft(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function a4(t){var e=Ft(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=Ft(r),u=Ci(),c=Kk(o),h=Cs(i),f=IDBKeyRange.lowerBound(c,!0);return h.$t({index:on.readTimeIndex,range:f},function(v,g){var b=US(a.R,g);u=u.insert(b.key,b),c=g.readTime}).next(function(){return{wn:u,readTime:XU(c)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function Ant(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){return[2,(e=Ft(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Cs(i),a=le.min();return o.$t({index:on.readTimeIndex,reverse:!0},function(u,c,h){c.readTime&&(a=XU(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}function Pnt(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v,g,b;return dt(this,function(w){switch(w.label){case 0:for(i=Ft(t),o=Re(),a=Ci(),u=RU(),c=0,h=n;c<h.length;c++)f=h[c],v=e.qn(f.metadata.name),f.document&&(o=o.add(v)),a=a.insert(v,e.Un(f)),u=u.insert(v,e.Kn(f.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,Ac(i,function(T){return Oi(Yc(Ee.fromString("__bundle__/docs/"+T)))}(r))];case 1:return b=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(T){return o4(T,g,a,le.min(),u).next(function(P){return g.apply(T),P}).next(function(P){return i.qe.removeMatchingKeysForTargetId(T,b.targetId).next(function(){return i.qe.addMatchingKeys(T,o,b.targetId)}).next(function(){return i.Mn.En(T,P)}).next(function(){return P})})})]}})})}function Rnt(t,e,n){return n===void 0&&(n=Re()),pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return[4,Ac(t,Oi(Xk(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ft(t)).persistence.runTransaction("Save named query","readwrite",function(a){var u=Dn(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ke.saveNamedQuery(a,e);var c=r.withResumeToken(Ir.EMPTY_BYTE_STRING,u);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mnt=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return Mt.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dn(r.createTime)}),Mt.resolve()},t.prototype.getNamedQuery=function(e,n){return Mt.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Xk(r.bundledQuery),readTime:Dn(r.readTime)}}(n)),Mt.resolve()},t}(),Qk=function(){function t(){this.Wn=new Tn(An.Gn),this.zn=new Tn(An.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new An(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new An(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new Xt(new Ee([])),i=new An(r,e),o=new An(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),a.push(u.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new Xt(new Ee([])),r=new An(n,e),i=new An(n,e+1),o=Re();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new An(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),An=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return Xt.comparator(e.key,n.key)||de(e.ns,n.ns)},t.Hn=function(e,n){return de(e.ns,n.ns)||Xt.comparator(e.key,n.key)},t}(),Ont=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Tn(An.Gn)}return t.prototype.checkEmpty=function(e){return Mt.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Hk(o,n,r,i);this._n.push(a);for(var u=0,c=i;u<c.length;u++){var h=c[u];this.rs=this.rs.add(new An(h.key,o)),this.Ut.addToCollectionParentIndex(e,h.key.path.popLast())}return Mt.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return Mt.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return Mt.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Mt.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Mt.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new An(n,0),o=new An(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(u){var c=r.os(u.ns);a.push(c)}),Mt.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Tn(de);return n.forEach(function(o){var a=new An(o,0),u=new An(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,u],function(c){i=i.add(c.ns)})}),Mt.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;Xt.isDocumentKey(o)||(o=o.child(""));var a=new An(new Xt(o),0),u=new Tn(de);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.ns)),!0)},a),Mt.resolve(this.us(u))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;Jt(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return Mt.forEach(n.mutations,function(o){var a=new An(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new An(n,0),i=this.rs.firstAfterOrEqual(r);return Mt.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,Mt.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),Nnt=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new vr(Xt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return Mt.resolve(r?r.document.clone():Zn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=Ci();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Zn.newInvalidDocument(o))}),Mt.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=Ci(),o=new Xt(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var u=a.getNext(),c=u.key,h=u.value,f=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||gp(n,f)&&(i=i.insert(f.key,f.clone()))}return Mt.resolve(i)},t.prototype.fs=function(e,n){return Mt.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new Dnt(this)},t.prototype.getSize=function(e){return Mt.resolve(this.size)},t}(),Dnt=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return jt(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),Mt.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(ZU),Lnt=function(){function t(e){this.persistence=e,this.ds=new qc(function(n){return pp(n)},l0),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ws=0,this._s=new Qk,this.targetCount=0,this.ys=Nm.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),Mt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Mt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Mt.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Mt.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),Mt.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new Nm(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,Mt.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),Mt.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Mt.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(u,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(u),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),Mt.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return Mt.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return Mt.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),Mt.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),Mt.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),Mt.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return Mt.resolve(r)},t.prototype.containsKey=function(e,n){return Mt.resolve(this._s.containsKey(n))},t}(),Fnt=function(){function t(e,n){var r=this;this.gs={},this.Ne=new ri(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Lnt(this),this.Ut=new hnt,this.Ue=function(i,o){return new Nnt(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new KU(n),this.Ke=new Mnt(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new Ont(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Dt("MemoryPersistence","Starting transaction:",e);var o=new jnt(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return Mt.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),jnt=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return jt(e,t),e}(GU),Bnt=function(){function t(e){this.persistence=e,this.As=new Qk,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ht()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),Mt.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),Mt.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),Mt.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.vs,function(i){var o=Xt.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return Mt.or([function(){return Mt.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),Wn=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){return"firestore_clients_"+t+"_"+e}function aD(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function _1(t,e){return"firestore_targets_"+t+"_"+e}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");var uD=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Rt(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(vn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),S1=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new Rt(i.error.code,i.error.message)),o?new t(e,i.state,r):(vn("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),lD=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=f0(),a=0;i&&a<r.activeTargetIds.length;++a)i=pU(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(vn("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Unt=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(vn("SharedClientState","Failed to parse online state: "+e),null)},t}(),zS=function(){function t(){this.activeTargetIds=f0()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),E1=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new vr(de),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=sD(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new zS),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,h,f,v,g=this;return dt(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(sD(this.persistenceKey,i)))&&(a=lD.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(c=this.js(u))&&this.Ws(c),h=0,f=this.$s;h<f.length;h++)v=f[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(_1(this.persistenceKey,e));if(r){var i=S1.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(_1(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return Dt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){Dt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){Dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(Dt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return pt(n,void 0,void 0,function(){var i,o,a,u,c,h;return dt(this,function(f){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var g=ri.o;if(v!=null)try{var b=JSON.parse(v);Jt(typeof b=="number"),g=b}catch(w){vn("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==ri.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new uD(this.currentUser,e,n,r),o=aD(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=aD(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=_1(this.persistenceKey,e),o=new S1(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return lD.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return uD.Vs(new Wn(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return S1.Vs(i,n)},t.prototype.js=function(e){return Unt.Vs(e)},t.prototype.ii=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Dt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(i),u=[],c=[];return a.forEach(function(h){o.has(h)||u.push(h)}),o.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(u,c).then(function(){r.Fs=i})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=f0();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),u4=function(){function t(){this.li=new zS,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new zS,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),znt=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),cD=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),$nt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vnt=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),Wnt=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return jt(e,t),e.prototype.Fi=function(n,r,i,o){return new Promise(function(a,u){var c=new xet;c.listenOnce(met.COMPLETE,function(){try{switch(c.getLastErrorCode()){case x1.NO_ERROR:var f=c.getResponseJson();Dt("Connection","XHR received:",JSON.stringify(f)),a(f);break;case x1.TIMEOUT:Dt("Connection",'RPC "'+n+'" timed out'),u(new Rt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case x1.HTTP_ERROR:var v=c.getStatus();if(Dt("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var b=function(w){var T=w.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(T)>=0?T:_t.UNKNOWN}(g.status);u(new Rt(b,g.message))}else u(new Rt(_t.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Rt(_t.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{Dt("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(o);c.send(r,"POST",h,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=vet(),a=get(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new wet({})),this.ki(u.initMessageHeaders,r),ST()||Cj()||e9()||n9()||r9()||ET()||(u.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");Dt("Connection","Creating WebChannel: "+c,u);var h=o.createWebChannel(c,u),f=!1,v=!1,g=new Vnt({Ei:function(w){v?Dt("Connection","Not sending because WebChannel is closed:",w):(f||(Dt("Connection","Opening WebChannel transport."),h.open(),f=!0),Dt("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),b=function(w,T,P){w.listen(T,function(k){try{P(k)}catch(S){setTimeout(function(){throw S},0)}})};return b(h,qv.EventType.OPEN,function(){v||Dt("Connection","WebChannel transport opened.")}),b(h,qv.EventType.CLOSE,function(){v||(v=!0,Dt("Connection","WebChannel transport closed"),g.Vi())}),b(h,qv.EventType.ERROR,function(w){v||(v=!0,md("Connection","WebChannel transport errored:",w),g.Vi(new Rt(_t.UNAVAILABLE,"The operation could not be completed")))}),b(h,qv.EventType.MESSAGE,function(w){var T;if(!v){var P=w.data[0];Jt(!!P);var k=P,S=k.error||((T=k[0])===null||T===void 0?void 0:T.error);if(S){Dt("Connection","WebChannel received error:",S);var C=S.status,D=function($){var H=fn[$];if(H!==void 0)return PU(H)}(C),U=S.message;D===void 0&&(D=_t.INTERNAL,U="Unknown error status: "+C+" with message "+S.message),v=!0,g.Vi(new Rt(D,U)),h.close()}else Dt("Connection","WebChannel received:",P),g.Si(P)}}),b(a,yet.STAT_EVENT,function(w){w.stat===CN.PROXY?Dt("Connection","Detected buffering proxy"):w.stat===CN.NOPROXY&&Dt("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);Dt("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(e,o,a,r).then(function(u){return Dt("RestConnection","Received: ",u),u},function(u){throw md("RestConnection",e+" failed with error: ",u,"url: ",o,"request:",r),u})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=$nt[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return typeof window<"u"?window:null}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){return new Yet(t,!0)}var Jk=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&Dt("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),c4=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Jk(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return pt(this,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===_t.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===_t.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new Rt(_t.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return pt(e,void 0,void 0,function(){return dt(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return Dt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Gnt=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,u}return jt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var u;if("targetChange"in a){a.targetChange;var c=function(P){return P==="NO_CHANGE"?0:P==="ADD"?1:P==="REMOVE"?2:P==="CURRENT"?3:P==="RESET"?4:Ht()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],f=function(P,k){return P.I?(Jt(k===void 0||typeof k=="string"),Ir.fromBase64String(k||"")):(Jt(k===void 0||k instanceof Uint8Array),Ir.fromUint8Array(k||new Uint8Array))}(o,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(P){var k=P.code===void 0?_t.UNKNOWN:PU(P.code);return new Rt(k,P.message||"")}(g);u=new OU(c,h,f,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=bo(o,c.document.name),f=Dn(c.document.updateTime);var g=new ei({mapValue:{fields:c.document.fields}}),b=(v=Zn.newFoundDocument(h,f,g),c.targetIds||[]),w=c.removedTargetIds||[];u=new Tg(b,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=bo(o,c.document),f=c.readTime?Dn(c.readTime):le.min(),g=Zn.newNoDocument(h,f),v=c.removedTargetIds||[],u=new Tg([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=bo(o,c.document),f=c.removedTargetIds||[],u=new Tg([],f,h,null);else{if(!("filter"in a))return Ht();a.filter;var T=a.filter;T.targetId,c=T.count||0,h=new Uet(c),f=T.targetId,u=new MU(f,h)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return le.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?le.min():a.readTime?Dn(a.readTime):le.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=Sd(this.R),r.addTarget=function(o,a){var u,c=a.target;return(u=Am(c)?{documents:BU(o,c)}:{query:UU(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=NU(o,a.resumeToken):a.snapshotVersion.compareTo(le.min())>0&&(u.readTime=bd(o,a.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,a){var u=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ht()}}(0,a.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=Sd(this.R),r.removeTarget=n,this.cr(r)},e}(c4),Hnt=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,u.gr=!1,u}return jt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Jt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(Jt(a!==void 0),o.map(function(u){return function(c,h){var f=c.updateTime?Dn(c.updateTime):Dn(h);return f.isEqual(le.min())&&(f=Dn(h)),new Fet(f,c.transformResults||[])}(u,a)})):[]}(n.writeResults,n.commitTime),i=Dn(n.commitTime);return this.listener.Tr(i,r)}return Jt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Sd(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return Mm(r.R,o)})};this.cr(i)},e}(c4),Knt=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return jt(e,t),e.prototype.br=function(){if(this.Rr)throw new Rt(_t.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===_t.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Rt(_t.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===_t.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Rt(_t.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Xnt=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(vn(n),this.Vr=!1):Dt("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),Ynt=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return pt(o,void 0,void 0,function(){return dt(this,function(u){switch(u.label){case 0:return da(this)?(Dt("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return pt(this,void 0,void 0,function(){var h;return dt(this,function(f){switch(f.label){case 0:return(h=Ft(c)).Or.add(4),[4,Qc(h)];case 1:return f.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,bp(h)];case 2:return f.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new Xnt(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:if(!da(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Qc(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function p0(t,e){var n=Ft(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),eC(n)?tC(n):Zc(n).er()&&Zk(n,e))}function Ed(t,e){var n=Ft(t),r=Zc(n);n.$r.delete(e),r.er()&&h4(n,e),n.$r.size===0&&(r.er()?r.ir():da(n)&&n.Br.set("Unknown"))}function Zk(t,e){t.qr.U(e.targetId),Zc(t).mr(e)}function h4(t,e){t.qr.U(e),Zc(t).yr(e)}function tC(t){t.qr=new Het({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Zc(t).start(),t.Br.Sr()}function eC(t){return da(t)&&!Zc(t).tr()&&t.$r.size>0}function da(t){return Ft(t).Or.size===0}function f4(t){t.qr=void 0}function qnt(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){return t.$r.forEach(function(n,r){Zk(t,n)}),[2]})})}function Qnt(t,e){return pt(this,void 0,void 0,function(){return dt(this,function(n){return f4(t),eC(t)?(t.Br.Nr(e),tC(t)):t.Br.set("Unknown"),[2]})})}function Jnt(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o;return dt(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof OU&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(u,c){return pt(this,void 0,void 0,function(){var h,f,v,g;return dt(this,function(b){switch(b.label){case 0:h=c.cause,f=0,v=c.targetIds,b.label=1;case 1:return f<v.length?(g=v[f],u.$r.has(g)?[4,u.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:b.sent(),u.$r.delete(g),u.qr.removeTarget(g),b.label=3;case 3:b.label=4;case 4:return f++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Lm(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Tg?t.qr.X(e):e instanceof MU?t.qr.rt(e):t.qr.et(e),n.isEqual(le.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,i4(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(u,c){var h=u.qr.ut(c);return h.targetChanges.forEach(function(f,v){if(f.resumeToken.approximateByteSize()>0){var g=u.$r.get(v);g&&u.$r.set(v,g.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach(function(f){var v=u.$r.get(f);if(v){u.$r.set(f,v.withResumeToken(Ir.EMPTY_BYTE_STRING,v.snapshotVersion)),h4(u,f);var g=new d0(v.target,f,1,v.sequenceNumber);Zk(u,g)}}),u.remoteSyncer.applyRemoteEvent(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Dt("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Lm(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Lm(t,e,n){return pt(this,void 0,void 0,function(){var r=this;return dt(this,function(i){switch(i.label){case 0:if(!$u(e))throw e;return t.Or.add(1),[4,Qc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return i4(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return pt(r,void 0,void 0,function(){return dt(this,function(o){switch(o.label){case 0:return Dt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.Or.delete(1),[4,bp(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function d4(t,e){return e().catch(function(n){return Lm(t,n,e)})}function Jc(t){return pt(this,void 0,void 0,function(){var e,n,r,i,o;return dt(this,function(a){switch(a.label){case 0:e=Ft(t),n=oa(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(u){return da(u)&&u.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Int(e.localStore,r)];case 3:return(i=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,c){u.Fr.push(c);var h=oa(u);h.er()&&h.pr&&h.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Lm(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return p4(e)&&v4(e),[2]}})})}function p4(t){return da(t)&&!oa(t).tr()&&t.Fr.length>0}function v4(t){oa(t).start()}function Znt(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){return oa(t).Ar(),[2]})})}function trt(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){for(e=oa(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function ert(t,e,n){return pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=lnt.from(r,e,n),[4,d4(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Jc(t)];case 2:return o.sent(),[2]}})})}function nrt(t,e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return e&&oa(t).pr?[4,function(r,i){return pt(this,void 0,void 0,function(){var o,a;return dt(this,function(u){switch(u.label){case 0:return AU(a=i.code)&&a!==_t.ABORTED?(o=r.Fr.shift(),oa(r).sr(),[4,d4(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,Jc(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return p4(t)&&v4(t),[2]}})})}function $S(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return n=Ft(t),e?(n.Or.delete(2),[4,bp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Qc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zc(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=Ft(n);return o.br(),new Gnt(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:qnt.bind(null,t),Ri:Qnt.bind(null,t),_r:Jnt.bind(null,t)}),t.Mr.push(function(n){return pt(e,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),eC(t)?tC(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),f4(t),r.label=3;case 3:return[2]}})})})),t.Ur}function oa(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var o=Ft(n);return o.br(),new Hnt(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:Znt.bind(null,t),Ri:nrt.bind(null,t),Ir:trt.bind(null,t),Tr:ert.bind(null,t)}),t.Mr.push(function(n){return pt(e,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,Jc(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(Dt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var rrt=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function th(t,e){if(vn("AsyncQueue",e+": "+t),$u(t))return new Rt(_t.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g4=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||Xt.comparator(n.key,r.key)}:function(n,r){return Xt.comparator(n.key,r.key)},this.keyedMap=jS(),this.sortedSet=new vr(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),hD=function(){function t(){this.Qr=new vr(Xt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):Ht():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),Fm=function(){function t(e,n,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,g4.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),irt=function(){this.Wr=void 0,this.listeners=[]},ort=function(){this.queries=new qc(function(t){return wU(t)},vp),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:if(n=Ft(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new irt),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return u=h.sent(),c=th(u,"Initialization of query '"+LS(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&iC(n),[2]}})})}function rC(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){return n=Ft(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function srt(t,e){for(var n=Ft(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=a.query,c=n.queries.get(u);if(c){for(var h=0,f=c.listeners;h<f.length;h++)f[h].Hr(a)&&(r=!0);c.Wr=a}}r&&iC(n)}function art(t,e,n){var r=Ft(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function iC(t){t.Gr.forEach(function(e){e.next()})}var oC=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new Fm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=Fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),urt=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),fD=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return bo(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?jU(this.R,e.document,!1):Zn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Dn(e)},t}(),lrt=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=m4(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new fD(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var u=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var f=h[c],v=(n.get(f)||Re()).add(u);n.set(f,v)}}return n},t.prototype.complete=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return[4,Pnt(this.localStore,new fD(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,Rnt(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Snt(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y4=function(t){this.key=t},w4=function(t){this.key=t},x4=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Re(),this.mutatedKeys=Re(),this.lo=xU(e),this.fo=new g4(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new hD,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,u=o,c=!1,h=Sg(this.query)&&o.size===this.query.limit?o.last():null,f=Rm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(g,b){var w=o.get(g),T=gp(r.query,b)?b:null,P=!!w&&r.mutatedKeys.has(w.key),k=!!T&&(T.hasLocalMutations||r.mutatedKeys.has(T.key)&&T.hasCommittedMutations),S=!1;w&&T?w.data.isEqual(T.data)?P!==k&&(i.track({type:3,doc:T}),S=!0):r.yo(w,T)||(i.track({type:2,doc:T}),S=!0,(h&&r.lo(T,h)>0||f&&r.lo(T,f)<0)&&(c=!0)):!w&&T?(i.track({type:0,doc:T}),S=!0):w&&!T&&(i.track({type:1,doc:w}),S=!0,(h||f)&&(c=!0)),S&&(T?(u=u.add(T),a=k?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),Sg(this.query)||Rm(this.query))for(;u.size>this.query.limit;){var v=Sg(this.query)?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:u,mo:i,Nn:c,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(f,v){return function(g,b){var w=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return w(g)-w(b)}(f.type,v.type)||i.lo(f.doc,v.doc)}),this.po(r);var u=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Fm(this.query,e.fo,o,a,e.mutatedKeys,c===0,h,!1),To:u}:{To:u}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new hD,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Re(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new w4(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new y4(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Re();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return Fm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),crt=function(t,e,n){this.query=t,this.targetId=e,this.view=n},hrt=function(t){this.key=t,this.bo=!1},frt=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new qc(function(u){return wU(u)},vp),this.Vo=new Map,this.So=new Set,this.Do=new vr(Xt.comparator),this.Co=new Map,this.No=new Qk,this.xo={},this.ko=new Map,this.Fo=Nm.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function drt(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return n=cC(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Ac(n.localStore,Oi(e))];case 2:return a=c.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,sC(n,e,r,u==="current")];case 3:i=c.sent(),n.isPrimaryClient&&p0(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function sC(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:return t.Oo=function(v,g,b){return function(w,T,P,k){return pt(this,void 0,void 0,function(){var S,C,D;return dt(this,function(U){switch(U.label){case 0:return S=T.view._o(P),S.Nn?[4,Dm(w.localStore,T.query,!1).then(function($){var H=$.documents;return T.view._o(H,S)})]:[3,2];case 1:S=U.sent(),U.label=2;case 2:return C=k&&k.targetChanges.get(T.targetId),D=T.view.applyChanges(S,w.isPrimaryClient,C),[2,(VS(w,T.targetId,D.To),D.snapshot)]}})})}(t,v,g,b)},[4,Dm(t.localStore,e,!0)];case 1:return i=f.sent(),o=new x4(e,i.Bn),a=o._o(i.documents),u=Vk.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=o.applyChanges(a,t.isPrimaryClient,u),VS(t,n,c.To),h=new crt(e,n,o),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function prt(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return n=Ft(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!vp(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Pc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ed(n.remoteStore,r.targetId),Rc(n,r.targetId)}).catch(Vu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rc(n,r.targetId),[4,Pc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function vrt(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:r=hC(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(c,h){var f,v=Ft(c),g=Gr.now(),b=h.reduce(function(w,T){return w.add(T.key)},Re());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,b).next(function(T){f=T;for(var P=[],k=0,S=h;k<S.length;k++){var C=S[k],D=Bet(C,f.get(C.key));D!=null&&P.push(new fa(C.key,D,vU(D.value.mapValue),ur.exists(!0)))}return v._n.addMutationBatch(w,g,P,h)})}).then(function(w){return w.applyToLocalDocumentSet(f),{batchId:w.batchId,changes:f}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,f){var v=c.xo[c.currentUser.toKey()];v||(v=new vr(de)),v=v.insert(h,f),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,us(r,i.changes)];case 3:return u.sent(),[4,Jc(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=th(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function b4(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:n=Ft(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cnt(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var u=n.Co.get(a);u&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?Jt(u.bo):o.removedDocuments.size>0&&(Jt(u.bo),u.bo=!1))}),[4,us(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Vu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function dD(t,e,n){var r=Ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var u=a.view.zr(e);u.snapshot&&i.push(u.snapshot)}),function(o,a){var u=Ft(o);u.onlineState=a;var c=!1;u.queries.forEach(function(h,f){for(var v=0,g=f.listeners;v<g.length;v++)g[v].zr(a)&&(c=!0)}),c&&iC(u)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function grt(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return(r=Ft(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new vr(Xt.comparator)).insert(o,Zn.newNoDocument(o,le.min())),u=Re().add(o),c=new $k(le.min(),new Map,new Tn(de),a,u),[4,b4(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),lC(r),[3,4];case 2:return[4,Pc(r.localStore,e,!1).then(function(){return Rc(r,e,n)}).catch(Vu)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function mrt(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:n=Ft(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,knt(n.localStore,e)];case 2:return i=o.sent(),uC(n,r,null),aC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,us(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Vu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function yrt(t,e,n){return pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:r=Ft(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,u){var c=Ft(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var f;return c._n.lookupMutationBatch(h,u).next(function(v){return Jt(v!==null),f=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,f)})})}(r.localStore,e)];case 2:return i=o.sent(),uC(r,e,n),aC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,us(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Vu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function wrt(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:da((n=Ft(t)).remoteStore)||Dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(c){var h=Ft(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(f){return h._n.getHighestUnacknowledgedBatchId(f)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=th(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function aC(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function uC(t,e,n){var r=Ft(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Rc(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||_4(t,a)})}function _4(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Ed(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),lC(t))}function VS(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof y4?(t.No.addReference(o.key,e),xrt(t,o)):o instanceof w4?(Dt("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||_4(t,o.key)):Ht()}}function xrt(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Dt("SyncEngine","New document in limbo: "+n),t.So.add(r),lC(t))}function lC(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Xt(Ee.fromString(e)),r=t.Fo.next();t.Co.set(r,new hrt(n)),t.Do=t.Do.insert(n,r),p0(t.remoteStore,new d0(Oi(Yc(n.path)),r,2,ri.o))}}function us(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return r=Ft(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,e,n).then(function(f){if(f){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,f.fromCache?"not-current":"current"),i.push(f);var v=Ent.Pn(h.targetId,f);o.push(v)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(c,h){return pt(this,void 0,void 0,function(){var f,v,g,b,w,T,P,k,S;return dt(this,function(C){switch(C.label){case 0:f=Ft(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,f.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(D){return Mt.forEach(h,function(U){return Mt.forEach(U.bn,function($){return f.persistence.referenceDelegate.addReference(D,U.targetId,$)}).next(function(){return Mt.forEach(U.vn,function($){return f.persistence.referenceDelegate.removeReference(D,U.targetId,$)})})})})];case 2:return C.sent(),[3,4];case 3:if(!$u(v=C.sent()))throw v;return Dt("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,b=h;g<b.length;g++)w=b[g],T=w.targetId,w.fromCache||(P=f.kn.get(T),k=P.snapshotVersion,S=P.withLastLimboFreeSnapshotVersion(k),f.kn=f.kn.insert(T,S));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function brt(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return(n=Ft(t)).currentUser.isEqual(e)?[3,3]:(Dt("SyncEngine","User change. New user:",e.toKey()),[4,r4(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.ko.forEach(function(u){u.forEach(function(c){c.reject(new Rt(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,us(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function _rt(t,e){var n=Ft(t),r=n.Co.get(e);if(r&&r.bo)return Re().add(r.key);var i=Re(),o=n.Vo.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var c=u[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function Srt(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,Dm((n=Ft(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&VS(n,e.targetId,i.To),i)]}})})}function Ert(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){return[2,a4((e=Ft(t)).localStore).then(function(r){return us(e,r)})]})})}function Trt(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o;return dt(this,function(a){switch(a.label){case 0:return[4,function(u,c){var h=Ft(u),f=Ft(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return f.jt(v,c).next(function(g){return g?h.Mn.pn(v,g):Mt.resolve(null)})})}((i=Ft(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Jc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(uC(i,e,r||null),aC(i,e),function(u,c){Ft(Ft(u)._n).Gt(c)}(i.localStore,e)):Ht(),a.label=4;case 4:return[4,us(i,o)];case 5:return a.sent(),[3,7];case 6:Dt("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function krt(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:return cC(n=Ft(t)),hC(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,pD(n,r.toArray())]);case 1:return i=f.sent(),n.$o=!0,[4,$S(n.remoteStore,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)u=a[o],p0(n.remoteStore,u);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):h=h.then(function(){return Rc(n,g),Pc(n.localStore,g,!0)}),Ed(n.remoteStore,g)}),[4,h]);case 4:return f.sent(),[4,pD(n,c)];case 5:return f.sent(),function(v){var g=Ft(v);g.Co.forEach(function(b,w){Ed(g.remoteStore,w)}),g.No.ts(),g.Co=new Map,g.Do=new vr(Xt.comparator)}(n),n.$o=!1,[4,$S(n.remoteStore,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}})})}function pD(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h,f,v,g,b,w,T,P;return dt(this,function(k){switch(k.label){case 0:r=Ft(t),i=[],o=[],a=0,u=e,k.label=1;case 1:return a<u.length?(c=u[a],h=void 0,(f=r.Vo.get(c))&&f.length!==0?[4,Ac(r.localStore,Oi(f[0]))]:[3,7]):[3,13];case 2:h=k.sent(),v=0,g=f,k.label=3;case 3:return v<g.length?(b=g[v],w=r.Po.get(b),[4,Srt(r,w)]):[3,6];case 4:(T=k.sent()).snapshot&&o.push(T.snapshot),k.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,s4(r.localStore,c)];case 8:return P=k.sent(),[4,Ac(r.localStore,P)];case 9:return h=k.sent(),[4,sC(r,S4(P),c,!1)];case 10:k.sent(),k.label=11;case 11:i.push(h),k.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function S4(t){return mU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Crt(t){var e=Ft(t);return Ft(Ft(e.localStore).persistence).fn()}function Irt(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a;return dt(this,function(u){switch(u.label){case 0:return(i=Ft(t)).$o?(Dt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,a4(i.localStore)];case 3:return o=u.sent(),a=$k.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,us(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,Pc(i.localStore,e,!0)];case 6:return u.sent(),Rc(i,e,r),[3,8];case 7:Ht(),u.label=8;case 8:return[2]}})})}function Art(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h,f,v,g;return dt(this,function(b){switch(b.label){case 0:if(!(r=cC(t)).$o)return[3,10];i=0,o=e,b.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Dt("SyncEngine","Adding an already active target "+a),[3,5]):[4,s4(r.localStore,a)]):[3,6];case 2:return u=b.sent(),[4,Ac(r.localStore,u)];case 3:return c=b.sent(),[4,sC(r,S4(u),c.targetId,!1)];case 4:b.sent(),p0(r.remoteStore,c),b.label=5;case 5:return i++,[3,1];case 6:h=function(w){return dt(this,function(T){switch(T.label){case 0:return r.Vo.has(w)?[4,Pc(r.localStore,w,!1).then(function(){Ed(r.remoteStore,w),Rc(r,w)}).catch(Vu)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},f=0,v=n,b.label=7;case 7:return f<v.length?(g=v[f],[5,h(g)]):[3,10];case 8:b.sent(),b.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function cC(t){var e=Ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_rt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=grt.bind(null,e),e.vo._r=srt.bind(null,e.eventManager),e.vo.Mo=art.bind(null,e.eventManager),e}function hC(t){var e=Ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mrt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yrt.bind(null,e),e}function Prt(t,e,n){var r=Ft(t);(function(i,o,a){return pt(this,void 0,void 0,function(){var u,c,h,f,v,g;return dt(this,function(b){switch(b.label){case 0:return b.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return u=b.sent(),[4,function(w,T){var P=Ft(w),k=Dn(T.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",function(S){return P.Ke.getBundleMetadata(S,T.id)}).then(function(S){return!!S&&S.createTime.compareTo(k)>=0})}(i.localStore,u)];case 2:return b.sent()?[4,o.close()]:[3,4];case 3:return[2,(b.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(u)))];case 4:return a._updateProgress(m4(u)),c=new lrt(u,i.localStore,o.R),[4,o.Lo()];case 5:h=b.sent(),b.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(f=b.sent())&&a._updateProgress(f),[4,o.Lo()];case 8:h=b.sent(),b.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=b.sent(),[4,us(i,v.wn,void 0)];case 12:return b.sent(),[4,function(w,T){var P=Ft(w);return P.persistence.runTransaction("Save bundle","readwrite",function(k){return P.Ke.saveBundleMetadata(k,T)})}(i.localStore,u)];case 13:return b.sent(),a._completeWith(v.progress),[3,15];case 14:return md("SyncEngine","Loading bundle failed with "+(g=b.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var E4=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return this.R=xp(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return n4(this.persistence,new e4,e.initialUser,this.R)},t.prototype.qo=function(e){return new Fnt(Bnt.bs,this.R)},t.prototype.Bo=function(e){return new u4},t.prototype.terminate=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),T4=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return jt(e,t),e.prototype.initialize=function(n){return pt(this,void 0,void 0,function(){var r=this;return dt(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,Ant(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,hC(this.Qo.syncEngine)];case 4:return i.sent(),[4,Jc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(n){return n4(this.persistence,new e4,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new gnt(r,n.asyncQueue)},e.prototype.qo=function(n){var r=qk(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new _nt(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,l4(),kg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new u4},e}(E4),Rrt=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return jt(e,t),e.prototype.initialize=function(n){return pt(this,void 0,void 0,function(){var r,i=this;return dt(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof E1?(this.sharedClientState.syncEngine={ui:Trt.bind(null,r),ai:Irt.bind(null,r),hi:Art.bind(null,r),fn:Crt.bind(null,r),ci:Ert.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return pt(i,void 0,void 0,function(){return dt(this,function(u){switch(u.label){case 0:return[4,krt(this.Qo.syncEngine,a)];case 1:return u.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=l4();if(!E1.yt(r))throw new Rt(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=qk(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new E1(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(T4),WS=function(){function t(){}return t.prototype.initialize=function(e,n){return pt(this,void 0,void 0,function(){var r=this;return dt(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return dD(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=brt.bind(null,this.syncEngine),[4,$S(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new ort},t.prototype.createDatastore=function(e){var n,r=xp(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new Wnt(n));return function(o,a,u){return new Knt(o,a,u)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,u=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return dD(u.syncEngine,c,0)},a=cD.yt()?new cD:new znt,new Ynt(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,u,c,h){var f=new frt(r,i,o,a,u,c);return h&&(f.$o=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return n=Ft(e),Dt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Qc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return pt(this,void 0,void 0,function(){return dt(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v0=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),Mrt=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new pr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new urt(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),Ort=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Rt(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return pt(this,void 0,void 0,function(){var u,c,h,f,v,g;return dt(this,function(b){switch(b.label){case 0:return u=Ft(o),c=Sd(u.R)+"/documents",h={documents:a.map(function(w){return _d(u.R,w)})},[4,u.$i("BatchGetDocuments",c,h)];case 1:return f=b.sent(),v=new Map,f.forEach(function(w){var T=function(P,k){return"found"in k?function(S,C){Jt(!!C.found),C.found.name,C.found.updateTime;var D=bo(S,C.found.name),U=Dn(C.found.updateTime),$=new ei({mapValue:{fields:C.found.fields}});return Zn.newFoundDocument(D,U,$)}(P,k):"missing"in k?function(S,C){Jt(!!C.missing),Jt(!!C.readTime);var D=bo(S,C.missing),U=Dn(C.readTime);return Zn.newNoDocument(D,U)}(P,k):Ht()}(u.R,w);v.set(T.key.toString(),T)}),g=[],[2,(a.forEach(function(w){var T=v.get(w.toString());Jt(!!T),g.push(T)}),g)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new wp(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return pt(this,void 0,void 0,function(){var e,n=this;return dt(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=Xt.fromPath(o);n.mutations.push(new zk(a,n.precondition(a)))}),[4,function(i,o){return pt(this,void 0,void 0,function(){var a,u,c;return dt(this,function(h){switch(h.label){case 0:return a=Ft(i),u=Sd(a.R)+"/documents",c={writes:o.map(function(f){return Mm(a.R,f)})},[4,a.Ni("Commit",u,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ht();n=le.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Rt(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?ur.updateTime(n):ur.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(le.min()))throw new Rt(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(n)}return ur.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),Nrt=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Jk(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return pt(e,void 0,void 0,function(){var n,r,i=this;return dt(this,function(o){return n=new Ort(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(u){i.ic(u)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!zu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!AU(n)}return!1},t}(),Drt=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Wn.UNAUTHENTICATED,this.clientId=lU.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return pt(i,void 0,void 0,function(){return dt(this,function(a){switch(a.label){case 0:return Dt("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Rt(_t.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return pt(e,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=th(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e){return pt(this,void 0,void 0,function(){var n,r,i=this;return dt(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return pt(i,void 0,void 0,function(){return dt(this,function(u){switch(u.label){case 0:return r.isEqual(a)?[3,2]:[4,r4(e.localStore,a)];case 1:u.sent(),r=a,u.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function C4(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,fC(t)];case 1:return n=i.sent(),Dt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,u){return pt(this,void 0,void 0,function(){var c,h;return dt(this,function(f){switch(f.label){case 0:return(c=Ft(a)).asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials"),h=da(c),c.Or.add(3),[4,Qc(c)];case 1:return f.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(u)];case 2:return f.sent(),c.Or.delete(3),[4,bp(c)];case 3:return f.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function fC(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Dt("FirestoreClient","Using default OfflineComponentProvider"),[4,k4(t,new E4)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function g0(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Dt("FirestoreClient","Using default OnlineComponentProvider"),[4,C4(t,new WS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function gD(t){return fC(t).then(function(e){return e.persistence})}function dC(t){return fC(t).then(function(e){return e.localStore})}function mD(t){return g0(t).then(function(e){return e.remoteStore})}function pC(t){return g0(t).then(function(e){return e.syncEngine})}function Mc(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return[4,g0(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=drt.bind(null,e.syncEngine),n.onUnlisten=prt.bind(null,e.syncEngine),n)]}})})}function yD(t,e,n){var r=this;n===void 0&&(n={});var i=new pr;return t.asyncQueue.enqueueAndForget(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return o=function(u,c,h,f,v){var g=new v0({next:function(w){c.enqueueAndForget(function(){return rC(u,b)});var T=w.docs.has(h);!T&&w.fromCache?v.reject(new Rt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&f&&f.source==="server"?v.reject(new Rt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),b=new oC(Yc(h.path),g,{includeMetadataChanges:!0,so:!0});return nC(u,b)},[4,Mc(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function wD(t,e,n){var r=this;n===void 0&&(n={});var i=new pr;return t.asyncQueue.enqueueAndForget(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return o=function(u,c,h,f,v){var g=new v0({next:function(w){c.enqueueAndForget(function(){return rC(u,b)}),w.fromCache&&f.source==="server"?v.reject(new Rt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),b=new oC(h,g,{includeMetadataChanges:!0,so:!0});return nC(u,b)},[4,Mc(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Lrt=function(t,e,n,r,i,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},jm=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),xD=new Map,I4=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},bD=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Wn.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Frt=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jrt=function(){function t(e){var n=this;this.currentUser=Wn.UNAUTHENTICATED,this.oc=new pr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){Dt("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(Dt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(Dt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Jt(typeof i.accessToken=="string"),new I4(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return pt(r,void 0,void 0,function(){return dt(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new Wn(e)},t}(),Brt=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),Urt=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new Brt(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Wn.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,n){if(!n)throw new Rt(_t.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function gC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function A4(t,e,n,r){if(e===!0&&r===!0)throw new Rt(_t.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function _D(t){if(!Xt.isDocumentKey(t))throw new Rt(_t.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function SD(t){if(Xt.isDocumentKey(t))throw new Rt(_t.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function m0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":Ht()}function _e(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=m0(t);throw new Rt(_t.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ED(t,e){if(e<=0)throw new Rt(_t.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TD=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Rt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,A4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Td=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TD({}),this._settingsFrozen=!1,e instanceof jm?(this._databaseId=e,this._credentials=new bD):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Rt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jm(r.options.projectId)}(e),this._credentials=new jrt(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Rt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Rt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TD(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new bD;switch(n.type){case"gapi":var r=n.client;return Jt(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Urt(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Rt(_t.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=xD.get(e))&&(Dt("ComponentProvider","Removing Datastore"),xD.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Ze=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ys(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Hr=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ys=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,Yc(i))||this)._path=i,o.type="collection",o}return jt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ze(this.firestore,null,new Xt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Hr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=oe(t),vC("collection","path",e),t instanceof Td)return SD(n=Ee.fromString.apply(Ee,se([e],r))),new Ys(t,null,n);if(!(t instanceof Ze||t instanceof Ys))throw new Rt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SD(n=Ee.fromString.apply(Ee,se([t.path],r)).child(Ee.fromString(e))),new Ys(t.firestore,null,n)}function Cg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=oe(t),arguments.length===1&&(e=lU.u()),vC("doc","path",e),t instanceof Td)return _D(n=Ee.fromString.apply(Ee,se([e],r))),new Ze(t,null,new Xt(n));if(!(t instanceof Ze||t instanceof Ys))throw new Rt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _D(n=t._path.child(Ee.fromString.apply(Ee,se([e],r)))),new Ze(t.firestore,t instanceof Ys?t.converter:null,new Xt(n))}function R4(t,e){return t=oe(t),e=oe(e),(t instanceof Ze||t instanceof Ys)&&(e instanceof Ze||e instanceof Ys)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function M4(t,e){return t=oe(t),e=oe(e),t instanceof Hr&&e instanceof Hr&&t.firestore===e.firestore&&vp(t._query,e._query)&&t.converter===e.converter}var zrt=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Jk(this,"async_queue_retry"),this.Ic=function(){var r=kg();r&&Dt("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new pr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return pt(this,void 0,void 0,function(){var e,n=this;return dt(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!$u(e=r.sent()))throw e;return Dt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,vn("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var o=rrt.createAndSchedule(this,e,n,r,function(a){return i.vc(a)});return this.mc.push(o),o},t.prototype.Ac=function(){this.yc&&Ht()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,u){return a.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Oc(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var $rt=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),Vrt=-1,cn=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new zrt,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return jt(e,t),e.prototype._terminate=function(){return this._firestoreClient||O4(this),this._firestoreClient.terminate()},e}(Td);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){return t._firestoreClient||O4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function O4(t){var e,n=t._freezeSettings(),r=function(i,o,a,u){return new Lrt(i,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Drt(t._credentials,t._queue,r)}function kD(t,e,n){var r=this,i=new pr;return t.asyncQueue.enqueue(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,k4(t,n)];case 1:return a.sent(),[4,C4(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===_t.FAILED_PRECONDITION||u.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function CD(t){if(t._initialized||t._terminated)throw new Rt(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new no(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Au=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Ir.fromBase64String(e))}catch(n){throw new Rt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Ir.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Wu=function(t){this._methodName=t},y0=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return de(this._lat,e._lat)||de(this._long,e._long)},t}(),Wrt=/^__.*__$/,Grt=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new yp(e,this.data,n,this.fieldTransforms)},t}(),N4=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}var L4=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return Bm(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(D4(this.Nc)&&Wrt.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Hrt=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||xp(e)}return t.prototype.Uc=function(e,n,r,i){return i===void 0&&(i=!1),new L4({Nc:e,methodName:n,qc:r,path:no.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Gu(t){var e=t._freezeSettings(),n=xp(t._databaseId);return new Hrt(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w0(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);xC("Data must be an object, but it was:",a,r);var u,c,h=B4(r,a);if(o.merge)u=new yc(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var f=[],v=0,g=o.mergeFields;v<g.length;v++){var b=GS(e,g[v],n);if(!a.contains(b))throw new Rt(_t.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");z4(f,b)||f.push(b)}u=new yc(f),c=a.fieldTransforms.filter(function(w){return u.covers(w.field)})}else u=null,c=a.fieldTransforms;return new Grt(new ei(h),u,c)}var mC=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Wu);function F4(t,e,n){return new L4({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Krt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype._toFieldTransform=function(n){return new mp(n.path,new _c)},e.prototype.isEqual=function(n){return n instanceof e},e}(Wu),Xrt=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return jt(e,t),e.prototype._toFieldTransform=function(n){var r=F4(this,n,!0),i=this.Kc.map(function(a){return Hu(a,r)}),o=new Cu(i);return new mp(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Wu),Yrt=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return jt(e,t),e.prototype._toFieldTransform=function(n){var r=F4(this,n,!0),i=this.Kc.map(function(a){return Hu(a,r)}),o=new Iu(i);return new mp(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Wu),qrt=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Qc=r,i}return jt(e,t),e.prototype._toFieldTransform=function(n){var r=new Sc(n.R,SU(n.R,this.Qc));return new mp(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Wu);function yC(t,e,n,r){var i=t.Uc(1,e,n);xC("Data must be an object, but it was:",i,r);var o=[],a=ei.empty();Uu(r,function(c,h){var f=bC(e,c,n);h=oe(h);var v=i.Oc(f);if(h instanceof mC)o.push(f);else{var g=Hu(h,v);g!=null&&(o.push(f),a.set(f,g))}});var u=new yc(o);return new N4(a,u,i.fieldTransforms)}function wC(t,e,n,r,i,o){var a=t.Uc(1,e,n),u=[GS(e,r,n)],c=[i];if(o.length%2!=0)throw new Rt(_t.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<o.length;h+=2)u.push(GS(e,o[h])),c.push(o[h+1]);for(var f=[],v=ei.empty(),g=u.length-1;g>=0;--g)if(!z4(f,u[g])){var b=u[g],w=c[g];w=oe(w);var T=a.Oc(b);if(w instanceof mC)f.push(b);else{var P=Hu(w,T);P!=null&&(f.push(b),v.set(b,P))}}var k=new yc(f);return new N4(v,k,a.fieldTransforms)}function j4(t,e,n,r){return r===void 0&&(r=!1),Hu(n,t.Uc(r?4:3,e))}function Hu(t,e){if(U4(t=oe(t)))return xC("Unsupported field value:",e,t),B4(t,e);if(t instanceof Wu)return function(n,r){if(!D4(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,u=n;a<u.length;a++){var c=Hu(u[a],r.Mc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=oe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return SU(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Gr.fromDate(n);return{timestampValue:bd(r.R,i)}}if(n instanceof Gr)return i=new Gr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:bd(r.R,i)};if(n instanceof y0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Au)return{bytesValue:NU(r.R,n._byteString)};if(n instanceof Ze){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Wk(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+m0(n))}(t,e)}function B4(t,e){var n={};return hU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(t,function(r,i){var o=Hu(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function U4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gr||t instanceof y0||t instanceof Au||t instanceof Ze||t instanceof Wu)}function xC(t,e,n){if(!U4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=m0(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function GS(t,e,n){if((e=oe(e))instanceof _o)return e._internalPath;if(typeof e=="string")return bC(t,e);throw Bm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Qrt=new RegExp("[~\\*/\\[\\]]");function bC(t,e,n){if(e.search(Qrt)>=0)throw Bm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(_o.bind.apply(_o,se([void 0],e.split("."))))()._internalPath}catch{throw Bm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Bm(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new Rt(_t.INVALID_ARGUMENT,(u+=". ")+t+c)}function z4(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kd=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ze(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new Jrt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(Um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),Jrt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(kd);function Um(t,e){return typeof e=="string"?bC(t,e):e instanceof _o?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Xo=function(t){function e(n,r,i,o,a,u){var c=this;return(c=t.call(this,n,r,i,o,u)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return jt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Um("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(kd),Lf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Xo),Ms=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eu(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new Lf(r._firestore,r._userDataWriter,i.key,i,new eu(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new Lf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new eu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var c=new Lf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new eu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,f=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(f=(a=a.add(u.doc)).indexOf(u.doc.key)),{type:Zrt(u.type),doc:c,oldIndex:h,newIndex:f}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function Zrt(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function $4(t,e){return t instanceof Xo&&e instanceof Xo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ms&&e instanceof Ms&&t._firestore===e._firestore&&M4(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){if(Rm(t)&&t.explicitOrderBy.length===0)throw new Rt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _p=function(){};function _s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var tit=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return jt(e,t),e.prototype._apply=function(n){var r=Gu(n.firestore),i=function(o,a,u,c,h,f,v){var g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Rt(_t.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+f+"' queries on FieldPath.documentId().");if(f==="in"||f==="not-in"){MD(v,f);for(var b=[],w=0,T=v;w<T.length;w++){var P=T[w];b.push(RD(c,o,P))}g={arrayValue:{values:b}}}else g=RD(c,o,v)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||MD(v,f),g=j4(u,"where",v,f==="in"||f==="not-in");var k=ii.create(h,f,g);return function(S,C){if(C.g()){var D=Bk(S);if(D!==null&&!D.isEqual(C.field))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+D.toString()+"' and '"+C.field.toString()+"'");var U=jk(S);U!==null&&G4(S,C.field,U)}var $=function(H,F){for(var M=0,I=H.filters;M<I.length;M++){var A=I[M];if(F.indexOf(A.op)>=0)return A.op}return null}(S,function(H){switch(H){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if($!==null)throw $===C.op?new Rt(_t.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new Rt(_t.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+$.toString()+"' filters.")}(o,k),k}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Hr(n.firestore,n.converter,function(o,a){var u=o.filters.concat([a]);return new as(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(_p),eit=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return jt(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new Ql(o,a);return function(c,h){if(jk(c)===null){var f=Bk(c);f!==null&&G4(c,f,h.field)}}(i,u),u}(n._query,this.jc,this.zc);return new Hr(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new as(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(_p),ID=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return jt(e,t),e.prototype._apply=function(n){return new Hr(n.firestore,n.converter,yU(n._query,this.Hc,this.Jc))},e}(_p),AD=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return jt(e,t),e.prototype._apply=function(n){var r=W4(n,this.type,this.Yc,this.Xc);return new Hr(n.firestore,n.converter,function(i,o){return new as(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(_p),PD=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return jt(e,t),e.prototype._apply=function(n){var r=W4(n,this.type,this.Yc,this.Xc);return new Hr(n.firestore,n.converter,function(i,o){return new as(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(_p);function W4(t,e,n,r){if(n[0]=oe(n[0]),n[0]instanceof kd)return function(o,a,u,c,h){if(!c)throw new Rt(_t.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var f=[],v=0,g=bc(o);v<g.length;v++){var b=g[v];if(b.field.isKeyField())f.push(Im(a,c.key));else{var w=c.data.field(b.field);if(Dk(w))throw new Rt(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var T=b.field.canonicalString();throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}f.push(w)}}return new xd(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Gu(t.firestore);return function(o,a,u,c,h,f){var v=o.explicitOrderBy;if(h.length>v.length)throw new Rt(_t.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],b=0;b<h.length;b++){var w=h[b];if(v[b].field.isKeyField()){if(typeof w!="string")throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!Uk(o)&&w.indexOf("/")!==-1)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var T=o.path.child(Ee.fromString(w));if(!Xt.isDocumentKey(T))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var P=new Xt(T);g.push(Im(a,P))}else{var k=j4(u,c,w);g.push(k)}}return new xd(g,f)}(t._query,t.firestore._databaseId,i,e,n,r)}function RD(t,e,n){if(typeof(n=oe(n))=="string"){if(n==="")throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uk(e)&&n.indexOf("/")!==-1)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ee.fromString(n));if(!Xt.isDocumentKey(r))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Im(t,new Xt(r))}if(n instanceof Ze)return Im(t,n._key);throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+m0(n)+".")}function MD(t,e){if(!Array.isArray(t)||t.length===0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Rt(_t.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function G4(t,e,n){if(!n.isEqual(e))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _C=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ht()}},t.prototype.convertObject=function(e,n){var r=this,i={};return Uu(e.fields,function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new y0(dn(e.latitude),dn(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=dU(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yd(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=ia(e);return new Gr(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Ee.fromString(e);Jt(VU(r));var i=new jm(r.get(1),r.get(3)),o=new Xt(r.popFirst(5));return i.isEqual(n)||vn("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nit=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return jt(e,t),e.prototype.convertBytes=function(n){return new Au(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},e}(_C),rit=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=Os(e,this._firestore),o=x0(i.converter,n,r),a=w0(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ur.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,u=Os(e,this._firestore);return a=typeof(n=oe(n))=="string"||n instanceof _o?wC(this._dataReader,"WriteBatch.update",u._key,n,r,i):yC(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(a.toMutation(u._key,ur.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Os(e,this._firestore);return this._mutations=this._mutations.concat(new wp(n._key,ur.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Rt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){if((t=oe(t)).firestore!==e)throw new Rt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cu=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return jt(e,t),e.prototype.convertBytes=function(n){return new Au(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},e}(_C);function OD(t,e,n){t=_e(t,Ze);var r=_e(t.firestore,cn),i=x0(t.converter,e,n);return Sp(r,[w0(Gu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function ND(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=_e(t,Ze);var o=_e(t.firestore,cn),a=Gu(o);return Sp(o,[(typeof(e=oe(e))=="string"||e instanceof _o?wC(a,"updateDoc",t._key,e,n,r):yC(a,"updateDoc",t._key,e)).toMutation(t._key,ur.exists(!0))])}function H4(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=oe(t);var a={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||Oc(i[u])||(a=i[u],u++);var c,h,f,v={includeMetadataChanges:a.includeMetadataChanges};if(Oc(i[u])){var g=i[u];i[u]=(e=g.next)===null||e===void 0?void 0:e.bind(g),i[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[u+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(t instanceof Ze)h=_e(t.firestore,cn),f=Yc(t._key.path),c={next:function(T){i[u]&&i[u](HS(h,t,T))},error:i[u+1],complete:i[u+2]};else{var b=_e(t,Hr);h=_e(b.firestore,cn),f=b._query;var w=new cu(h);c={next:function(T){i[u]&&i[u](new Ms(h,w,b,T))},error:i[u+1],complete:i[u+2]},V4(t._query)}return function(T,P,k,S){var C=this,D=new v0(S),U=new oC(P,D,k);return T.asyncQueue.enqueueAndForget(function(){return pt(C,void 0,void 0,function(){var $;return dt(this,function(H){switch(H.label){case 0:return $=nC,[4,Mc(T)];case 1:return[2,$.apply(void 0,[H.sent(),U])]}})})}),function(){D.Wo(),T.asyncQueue.enqueueAndForget(function(){return pt(C,void 0,void 0,function(){var $;return dt(this,function(H){switch(H.label){case 0:return $=rC,[4,Mc(T)];case 1:return[2,$.apply(void 0,[H.sent(),U])]}})})})}}(On(h),f,v,c)}function Sp(t,e){return function(n,r){var i=this,o=new pr;return n.asyncQueue.enqueueAndForget(function(){return pt(i,void 0,void 0,function(){var a;return dt(this,function(u){switch(u.label){case 0:return a=vrt,[4,pC(n)];case 1:return[2,a.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(On(t),e)}function HS(t,e,n){var r=n.docs.get(e._key),i=new cu(t);return new Xo(t,i,e._key,r,new eu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iit=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return jt(e,t),e.prototype.get=function(n){var r=this,i=Os(n,this._firestore),o=new cu(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Xo(r._firestore,o,i._key,a._document,new eu(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gu(e)}return t.prototype.get=function(e){var n=this,r=Os(e,this._firestore),i=new nit(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return Ht();var a=o[0];if(a.isFoundDocument())return new kd(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new kd(n._firestore,i,r._key,null,r.converter);throw Ht()})},t.prototype.set=function(e,n,r){var i=Os(e,this._firestore),o=x0(i.converter,n,r),a=w0(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,u=Os(e,this._firestore);return a=typeof(n=oe(n))=="string"||n instanceof _o?wC(this._dataReader,"Transaction.update",u._key,n,r,i):yC(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,a),this},t.prototype.delete=function(e){var n=Os(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){if(typeof Uint8Array>"u")throw new Rt(_t.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function LD(){if(typeof atob>"u")throw new Rt(_t.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var K4=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return LD(),new t(Au.fromBase64String(e))},t.fromUint8Array=function(e){return DD(),new t(Au.fromUint8Array(e))},t.prototype.toBase64=function(){return LD(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return DD(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),oit=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){CD(r=_e(r,cn));var o=On(r),a=r._freezeSettings(),u=new WS;return kD(o,u,new T4(u,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){CD(n=_e(n,cn));var r=On(n),i=n._freezeSettings(),o=new WS;return kD(r,o,new Rrt(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Rt(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(u){return pt(this,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return kc.yt()?(c=u+"main",[4,kc.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(qk(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),SC=function(){function t(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof jm||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||md("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,u){var c;u===void 0&&(u={});var h=(i=_e(i,Td))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==o&&md("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:o+":"+a,ssl:!1})),u.mockUserToken){var f,v;if(typeof u.mockUserToken=="string")f=u.mockUserToken,v=Wn.MOCK_USER;else{f=_T(u.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var g=u.mockUserToken.sub||u.mockUserToken.user_id;if(!g)throw new Rt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wn(g)}i._credentials=new Frt(new I4(f,v))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return pt(n,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return[4,gD(e)];case 1:return r=o.sent(),[4,mD(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var u=Ft(a);return u.Or.delete(0),bp(u)}(i))]}})})})}(On(_e(this._delegate,cn)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return pt(n,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return[4,gD(e)];case 1:return r=o.sent(),[4,mD(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return pt(this,void 0,void 0,function(){var u;return dt(this,function(c){switch(c.label){case 0:return(u=Ft(a)).Or.add(0),[4,Qc(u)];case 1:return c.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(On(_e(this._delegate,cn)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&A4("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new pr;return e.asyncQueue.enqueueAndForget(function(){return pt(n,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:return i=wrt,[4,pC(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(On(_e(this._delegate,cn)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,u=new v0(o);return i.asyncQueue.enqueueAndForget(function(){return pt(a,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return c=function(f,v){Ft(f).Gr.add(v),v.next()},[4,Mc(i)];case 1:return[2,c.apply(void 0,[h.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return pt(a,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return c=function(f,v){Ft(f).Gr.delete(v)},[4,Mc(i)];case 1:return[2,c.apply(void 0,[h.sent(),u])]}})})})}}(On(n=_e(n,cn)),Oc(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Rt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new zm(this,P4(this._delegate,e))}catch(n){throw br(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new hu(this,Cg(this._delegate,e))}catch(n){throw br(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Ep(this,function(n,r){if(n=_e(n,Td),vC("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Hr(n,null,function(i){return new as(Ee.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw br(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var u=this,c=new pr;return o.asyncQueue.enqueueAndForget(function(){return pt(u,void 0,void 0,function(){var h;return dt(this,function(f){switch(f.label){case 0:return[4,function(v){return g0(v).then(function(g){return g.datastore})}(o)];case 1:return h=f.sent(),new Nrt(o.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(On(r),function(o){return i(new iit(r,o))})}(this._delegate,function(r){return e(new X4(n,r))})},t.prototype.batch=function(){var e=this;return On(this._delegate),new Y4(new rit(this._delegate,function(n){return Sp(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Rt(_t.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Rt(_t.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),b0=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return jt(e,t),e.prototype.convertBytes=function(n){return new K4(new Au(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return hu.eu(r,this.firestore,null)},e}(_C);function sit(t){var e;e=t,Zi.setLogLevel(e)}var X4=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new b0(e)}return t.prototype.get=function(e){var n=this,r=nu(e);return this._delegate.get(r).then(function(i){return new Cd(n._firestore,new Xo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=nu(e);return r?(gC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=nu(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,se([u,n,r],o)),this},t.prototype.delete=function(e){var n=nu(e);return this._delegate.delete(n),this},t}(),Y4=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=nu(e);return r?(gC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=nu(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,se([u,n,r],o)),this},t.prototype.delete=function(e){var n=nu(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),_0=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Lf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Id(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new b0(e),n),i.set(n,o)),o},t}();_0.su=new WeakMap;var hu=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new b0(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ze(n._delegate,r,new Xt(e)))},t.eu=function(e,n,r){return new t(n,new Ze(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new zm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new zm(this.firestore,P4(this._delegate,e))}catch(n){throw br(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=oe(e))instanceof Ze&&R4(this._delegate,e)},t.prototype.set=function(e,n){n=gC("DocumentReference.set",n);try{return n?OD(this._delegate,e,n):OD(this._delegate,e)}catch(r){throw br(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?ND(this._delegate,e):ND.apply(void 0,se([this._delegate,e,n],r))}catch(o){throw br(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Sp(_e((e=this._delegate).firestore,cn),[new wp(e._key,ur.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=q4(n),o=Q4(n,function(a){return new Cd(e.firestore,new Xo(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return H4(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=_e(r,Ze);var i=_e(r.firestore,cn),o=On(i),a=new cu(i);return function(u,c){var h=this,f=new pr;return u.asyncQueue.enqueueAndForget(function(){return pt(h,void 0,void 0,function(){var v;return dt(this,function(g){switch(g.label){case 0:return v=function(b,w,T){return pt(this,void 0,void 0,function(){var P,k;return dt(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(C,D){var U=Ft(C);return U.persistence.runTransaction("read document","readonly",function($){return U.Mn.mn($,D)})}(b,w)];case 1:return(k=S.sent()).isFoundDocument()?T.resolve(k):k.isNoDocument()?T.resolve(null):T.reject(new Rt(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return P=S.sent(),k=th(P,"Failed to get document '"+w+" from cache"),T.reject(k),[3,3];case 3:return[2]}})})},[4,dC(u)];case 1:return[2,v.apply(void 0,[g.sent(),c,f])]}})})}),f.promise}(o,r._key).then(function(u){return new Xo(i,a,r._key,u,new eu(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=_e(r,Ze);var i=_e(r.firestore,cn);return yD(On(i),r._key,{source:"server"}).then(function(o){return HS(i,r,o)})}(this._delegate):function(r){r=_e(r,Ze);var i=_e(r.firestore,cn);return yD(On(i),r._key).then(function(o){return HS(i,r,o)})}(this._delegate)).then(function(r){return new Cd(n.firestore,new Xo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(_0.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function br(t,e,n){return t.message=t.message.replace(e,n),t}function q4(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Oc(r))return r}return{}}function Q4(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=Oc(t[0])?t[0]:Oc(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Cd=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return $4(this._delegate,e._delegate)},t}(),Id=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Cd),Ep=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new b0(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_s(this._delegate,function(i,o,a){var u=o,c=Um("where",i);return new tit(c,u,a)}(e,n,r)))}catch(i){throw br(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_s(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=Um("orderBy",r);return new eit(a,o)}(e,n)))}catch(r){throw br(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_s(this._delegate,function(n){return ED("limit",n),new ID("limit",n,"F")}(e)))}catch(n){throw br(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_s(this._delegate,function(n){return ED("limitToLast",n),new ID("limitToLast",n,"L")}(e)))}catch(n){throw br(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new AD("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw br(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new AD("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw br(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new PD("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw br(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new PD("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw br(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return M4(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=_e(r,Hr);var i=_e(r.firestore,cn),o=On(i),a=new cu(i);return function(u,c){var h=this,f=new pr;return u.asyncQueue.enqueueAndForget(function(){return pt(h,void 0,void 0,function(){var v;return dt(this,function(g){switch(g.label){case 0:return v=function(b,w,T){return pt(this,void 0,void 0,function(){var P,k,S,C,D;return dt(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,Dm(b,w,!0)];case 1:return D=U.sent(),P=new x4(w,D.Bn),k=P._o(D.documents),S=P.applyChanges(k,!1),T.resolve(S.snapshot),[3,3];case 2:return C=U.sent(),D=th(C,"Failed to execute query '"+w+" against cache"),T.reject(D),[3,3];case 3:return[2]}})})},[4,dC(u)];case 1:return[2,v.apply(void 0,[g.sent(),c,f])]}})})}),f.promise}(o,r._query).then(function(u){return new Ms(i,a,r,u)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=_e(r,Hr);var i=_e(r.firestore,cn),o=On(i),a=new cu(i);return wD(o,r._query,{source:"server"}).then(function(u){return new Ms(i,a,r,u)})}(this._delegate):function(r){r=_e(r,Hr);var i=_e(r.firestore,cn),o=On(i),a=new cu(i);return V4(r._query),wD(o,r._query).then(function(u){return new Ms(i,a,r,u)})}(this._delegate)).then(function(r){return new KS(n.firestore,new Ms(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=q4(n),o=Q4(n,function(a){return new KS(e.firestore,new Ms(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return H4(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(_0.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),ait=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Id(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),KS=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ep(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Id(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new ait(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new Id(r._firestore,i))})},t.prototype.isEqual=function(e){return $4(this._delegate,e._delegate)},t}(),zm=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return jt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new hu(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new hu(this.firestore,n===void 0?Cg(this._delegate):Cg(this._delegate,n))}catch(r){throw br(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=_e(i.firestore,cn),u=Cg(i),c=x0(i.converter,o);return Sp(a,[w0(Gu(i.firestore),"addDoc",u._key,c,i.converter!==null,{}).toMutation(u._key,ur.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new hu(r.firestore,i)})},e.prototype.isEqual=function(n){return R4(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(_0.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(Ep);function nu(t){return _e(t,Ze)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uit=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(_o.bind.apply(_o,se([void 0],e)))}return t.documentId=function(){return new t(no.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=oe(e))instanceof _o&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),lit=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new Krt("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new mC("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Xrt("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Yrt("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new qrt("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cit(t){return function(e,n){var r=On(e=_e(e,cn)),i=new $rt;return function(o,a,u,c){var h=this,f=function(v,g){return function(b,w){return new Mrt(b,w)}(function(b,w){if(b instanceof Uint8Array)return vD(b,w);if(b instanceof ArrayBuffer)return vD(new Uint8Array(b),w);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(u,xp(a));o.asyncQueue.enqueueAndForget(function(){return pt(h,void 0,void 0,function(){var v;return dt(this,function(g){switch(g.label){case 0:return v=Prt,[4,pC(o)];case 1:return v.apply(void 0,[g.sent(),f,c]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function hit(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return pt(a,void 0,void 0,function(){var u;return dt(this,function(c){switch(c.label){case 0:return u=function(h,f){var v=Ft(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Ke.getNamedQuery(g,f)})},[4,dC(i)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})})}(On(e=_e(e,cn)),n).then(function(i){return i?new Hr(e,null,i.query):null})).then(function(i){return i?new Ep(r,i):null})}var fit={Firestore:SC,GeoPoint:y0,Timestamp:Gr,Blob:K4,Transaction:X4,WriteBatch:Y4,DocumentReference:hu,DocumentSnapshot:Cd,Query:Ep,QueryDocumentSnapshot:Id,QuerySnapshot:KS,CollectionReference:zm,FieldPath:uit,FieldValue:lit,setLogLevel:sit,CACHE_SIZE_UNLIMITED:Vrt};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dit(t){(function(e,n){e.INTERNAL.registerComponent(new dr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fit)))})(t,function(e,n){return new SC(e,new cn(e,n),new oit)}),t.registerVersion("@firebase/firestore","2.4.1")}dit(Gt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pit(t){t.prototype.loadBundle=cit,t.prototype.namedQuery=hit}pit(SC);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FD={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jl=function(t){jt(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function vit(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function git(t,e,n){var r=vit(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var u=a.status;if(typeof u=="string"){if(!FD[u])return new Jl("internal","internal");r=FD[u],i=u}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch{}return r==="ok"?null:new Jl(r,i,o)}var mit=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yit="type.googleapis.com/google.protobuf.Int64Value",wit="type.googleapis.com/google.protobuf.UInt64Value";function jD(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var xit=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return jD(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case yit:case wit:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?jD(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bit(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Jl("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var BD=function(){function t(e,n,r,i,o,a){var u=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new xit,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(u.deleteService())}},this.contextProvider=new mit(n,r),this.cancelAllRequests=new Promise(function(h){u.deleteService=function(){return h()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return pt(this,void 0,void 0,function(){var i,o,a;return dt(this,function(u){switch(u.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=u.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=u.sent(),[3,5];case 4:return u.sent(),[2,{status:0,json:null}];case 5:a=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,o.json()];case 7:return a=u.sent(),[3,9];case 8:return u.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v,g,b,w,T;return dt(this,function(P){switch(P.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return u=P.sent(),u.authToken&&(a.Authorization="Bearer "+u.authToken),u.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=u.instanceIdToken),c=r.timeout||7e4,h=bit(c),f=h.timer,v=h.promise,[4,Promise.race([UD(f,this.postJSON(i,o,a)),v,UD(f,this.cancelAllRequests)])];case 2:if(g=P.sent(),!g)throw new Jl("cancelled","Firebase Functions instance was deleted.");if(b=git(g.status,g.json,this.serializer),b)throw b;if(!g.json)throw new Jl("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w>"u"&&(w=g.json.result),typeof w>"u")throw new Jl("internal","Response is missing data field.");return T=this.serializer.decode(w),[2,{data:T}]}})})},t}();function UD(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _it="functions";function Sit(t,e){var n={Functions:BD};function r(i,o){var a=o.instanceIdentifier,u=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),f=i.getProvider("messaging");return new BD(u,c,f,h,a,e)}t.INTERNAL.registerComponent(new dr(_it,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var Eit="@firebase/functions",Tit="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sit(Gt,fetch.bind(self));Gt.registerVersion(Eit,Tit);function kit(t){return Array.prototype.slice.call(t)}function J4(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function S0(t,e,n){var r,i=new Promise(function(o,a){r=t[e].apply(t,n),J4(r).then(o,a)});return i.request=r,i}function Cit(t,e,n){var r=S0(t,e,n);return r.then(function(i){if(i)return new Ad(i,r.request)})}function eh(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function EC(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return S0(this[e],i,arguments)})})}function E0(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function Z4(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Cit(this[e],i,arguments)})})}function Ku(t){this._index=t}eh(Ku,"_index",["name","keyPath","multiEntry","unique"]);EC(Ku,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);Z4(Ku,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Ad(t,e){this._cursor=t,this._request=e}eh(Ad,"_cursor",["direction","key","primaryKey","value"]);EC(Ad,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Ad.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),J4(e._request).then(function(r){if(r)return new Ad(r,e._request)})})})});function Po(t){this._store=t}Po.prototype.createIndex=function(){return new Ku(this._store.createIndex.apply(this._store,arguments))};Po.prototype.index=function(){return new Ku(this._store.index.apply(this._store,arguments))};eh(Po,"_store",["name","keyPath","indexNames","autoIncrement"]);EC(Po,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);Z4(Po,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);E0(Po,"_store",IDBObjectStore,["deleteIndex"]);function Tp(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}Tp.prototype.objectStore=function(){return new Po(this._tx.objectStore.apply(this._tx,arguments))};eh(Tp,"_tx",["objectStoreNames","mode"]);E0(Tp,"_tx",IDBTransaction,["abort"]);function T0(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Tp(n)}T0.prototype.createObjectStore=function(){return new Po(this._db.createObjectStore.apply(this._db,arguments))};eh(T0,"_db",["name","version","objectStoreNames"]);E0(T0,"_db",IDBDatabase,["deleteObjectStore","close"]);function k0(t){this._db=t}k0.prototype.transaction=function(){return new Tp(this._db.transaction.apply(this._db,arguments))};eh(k0,"_db",["name","version","objectStoreNames"]);E0(k0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Po,Ku].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=kit(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Ku,Po].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(a){if(!a){o(i);return}if(i.push(a.value),n!==void 0&&i.length==n){o(i);return}a.continue()})})})});function TC(t,e,n){var r=S0(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new T0(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new k0(o)})}function T1(t){return S0(indexedDB,"deleteDatabase",[t])}var Iit="@firebase/installations",tz="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ez=1e4,nz="w:"+tz,rz="FIS_v2",Ait="https://firebaseinstallations.googleapis.com/v1",Pit=60*60*1e3,Rit="installations",Mit="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss,Oit=(Ss={},Ss["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ss["not-registered"]="Firebase Installation is not registered.",Ss["installation-not-found"]="Firebase Installation not found.",Ss["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Ss["app-offline"]="Could not process request. Application offline.",Ss["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Ss),ns=new ss(Rit,Mit,Oit);function iz(t){return t instanceof zc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){var e=t.projectId;return Ait+"/projects/"+e+"/installations"}function oz(t){return{token:t.token,requestStatus:2,expiresIn:Nit(t.expiresIn),creationTime:Date.now()}}function CC(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,ns.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function sz(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function az(t,e){var n=e.refreshToken,r=sz(t);return r.append("Authorization",Dit(n)),r}function IC(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function Nit(t){return Number(t.replace("s","000"))}function Dit(t){return rz+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lit(t,e){var n=e.fid;return pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:return r=kC(t),i=sz(t),o={fid:n,authVersion:rz,appId:t.appId,sdkVersion:nz},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,IC(function(){return fetch(r,a)})];case 1:return u=f.sent(),u.ok?[4,u.json()]:[3,3];case 2:return c=f.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:oz(c.authToken)},[2,h];case 3:return[4,CC("Create Installation",u)];case 4:throw f.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fit(t){var e=btoa(String.fromCharCode.apply(String,se([],Hn(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jit=/^[cdef][\w-]{21}$/,XS="";function Bit(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=Uit(t);return jit.test(n)?n:XS}catch{return XS}}function Uit(t){var e=Fit(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nc=new Map;function lz(t,e){var n=nh(t);cz(n,e),Vit(n,e)}function zit(t,e){hz();var n=nh(t),r=Nc.get(n);r||(r=new Set,Nc.set(n,r)),r.add(e)}function $it(t,e){var n=nh(t),r=Nc.get(n);r&&(r.delete(e),r.size===0&&Nc.delete(n),fz())}function cz(t,e){var n,r,i=Nc.get(t);if(i)try{for(var o=Fn(i),a=o.next();!a.done;a=o.next()){var u=a.value;u(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Vit(t,e){var n=hz();n&&n.postMessage({key:t,fid:e}),fz()}var ru=null;function hz(){return!ru&&"BroadcastChannel"in self&&(ru=new BroadcastChannel("[Firebase] FID Change"),ru.onmessage=function(t){cz(t.data.key,t.data.fid)}),ru}function fz(){Nc.size===0&&ru&&(ru.close(),ru=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wit="firebase-installations-database",Git=1,Pu="firebase-installations-store",k1=null;function AC(){return k1||(k1=TC(Wit,Git,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Pu)}})),k1}function $m(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return n=nh(t),[4,AC()];case 1:return r=u.sent(),i=r.transaction(Pu,"readwrite"),o=i.objectStore(Pu),[4,o.get(n)];case 2:return a=u.sent(),[4,o.put(e,n)];case 3:return u.sent(),[4,i.complete];case 4:return u.sent(),(!a||a.fid!==e.fid)&&lz(t,e.fid),[2,e]}})})}function PC(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return e=nh(t),[4,AC()];case 1:return n=i.sent(),r=n.transaction(Pu,"readwrite"),[4,r.objectStore(Pu).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function kp(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return n=nh(t),[4,AC()];case 1:return r=c.sent(),i=r.transaction(Pu,"readwrite"),o=i.objectStore(Pu),[4,o.get(n)];case 2:return a=c.sent(),u=e(a),u!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),u&&(!a||a.fid!==u.fid)&&lz(t,u.fid),[2,u]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return[4,kp(t,function(o){var a=Hit(o),u=Kit(t,a);return e=u.registrationPromise,u.installationEntry})];case 1:return n=i.sent(),n.fid!==XS?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Hit(t){var e=t||{fid:Bit(),registrationStatus:0};return dz(e)}function Kit(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(ns.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Xit(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Yit(t)}:{installationEntry:e}}function Xit(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Lit(t,e)];case 1:return n=i.sent(),[2,$m(t,n)];case 2:return r=i.sent(),iz(r)&&r.customData.serverCode===409?[4,PC(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,$m(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function Yit(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,zD(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,uz(100)];case 3:return o.sent(),[4,zD(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,RC(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function zD(t){return kp(t,function(e){if(!e)throw ns.create("installation-not-found");return dz(e)})}function dz(t){return qit(t)?{fid:t.fid,registrationStatus:0}:t}function qit(t){return t.registrationStatus===1&&t.registrationTime+ez<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qit(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v;return dt(this,function(g){switch(g.label){case 0:return i=Jit(n,e),o=az(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),u={installation:{sdkVersion:nz}},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,IC(function(){return fetch(i,c)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return f=g.sent(),v=oz(f),[2,v];case 3:return[4,CC("Generate Auth Token",h)];case 4:throw g.sent()}})})}function Jit(t,e){var n=e.fid;return kC(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e){return e===void 0&&(e=!1),pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return[4,kp(t.appConfig,function(u){if(!pz(u))throw ns.create("not-registered");var c=u.authToken;if(!e&&eot(c))return u;if(c.requestStatus===1)return n=Zit(t,e),u;if(!navigator.onLine)throw ns.create("app-offline");var h=rot(u);return n=tot(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function Zit(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,$D(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,uz(100)];case 3:return i.sent(),[4,$D(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,MC(t,e)]:[2,r]}})})}function $D(t){return kp(t,function(e){if(!pz(e))throw ns.create("not-registered");var n=e.authToken;return iot(n)?qt(qt({},e),{authToken:{requestStatus:0}}):e})}function tot(t,e){return pt(this,void 0,void 0,function(){var n,i,r,i;return dt(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Qit(t,e)];case 1:return n=o.sent(),i=qt(qt({},e),{authToken:n}),[4,$m(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),iz(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,PC(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=qt(qt({},e),{authToken:{requestStatus:0}}),[4,$m(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function pz(t){return t!==void 0&&t.registrationStatus===2}function eot(t){return t.requestStatus===2&&!not(t)}function not(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Pit}function rot(t){var e={requestStatus:1,requestTime:Date.now()};return qt(qt({},t),{authToken:e})}function iot(t){return t.requestStatus===1&&t.requestTime+ez<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oot(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return[4,RC(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):MC(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sot(t,e){return e===void 0&&(e=!1),pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,aot(t.appConfig)];case 1:return r.sent(),[4,MC(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function aot(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return[4,RC(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uot(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return n=lot(t,e),r=az(t,e),i={method:"DELETE",headers:r},[4,IC(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,CC("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function lot(t,e){var n=e.fid;return kC(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cot(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,kp(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw ns.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw ns.create("app-offline");case 3:return[4,uot(e,n)];case 4:return r.sent(),[4,PC(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hot(t,e){var n=t.appConfig;return zit(n,e),function(){$it(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fot(t){var e,n;if(!t||!t.options)throw C1("App Configuration");if(!t.name)throw C1("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Fn(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw C1(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function C1(t){return ns.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dot(t){var e="installations";t.INTERNAL.registerComponent(new dr(e,function(n){var r=n.getProvider("app").getImmediate(),i=fot(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},u={app:r,getId:function(){return oot(a)},getToken:function(c){return sot(a,c)},delete:function(){return cot(a)},onIdChange:function(c){return hot(a,c)}};return u},"PUBLIC")),t.registerVersion(Iit,tz)}dot(Gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,pot=(xn={},xn["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xn["only-available-in-window"]="This method is available in a Window context.",xn["only-available-in-sw"]="This method is available in a service worker context.",xn["permission-default"]="The notification permission was not granted and dismissed instead.",xn["permission-blocked"]="The notification permission was not granted and blocked instead.",xn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",xn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",xn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",xn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",xn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",xn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",xn["token-update-no-token"]="FCM returned no token when updating the user to push.",xn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",xn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",xn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",xn["invalid-vapid-key"]="The public VAPID key must be a string.",xn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",xn),Pe=new ss("messaging","Messaging",pot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vot="/firebase-messaging-sw.js",got="/firebase-cloud-messaging-push-scope",Vm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mot="https://fcmregistrations.googleapis.com/v1",vz="FCM_MSG",yot="FirebaseMessaging: ",wot="google.c.a.e",gz="google.c.a.c_id",xot="google.c.a.ts",bot="google.c.a.c_l",_ot=1e3,Sot=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ru;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ru||(Ru={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,se([],Hn(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Eot(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I1="fcm_token_details_db",Tot=5,VD="fcm_token_object_Store";function kot(t){return pt(this,void 0,void 0,function(){var e,n,r,i,o=this;return dt(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(u){return u.name}),!n.includes(I1))return[2,null];a.label=2;case 2:return r=null,[4,TC(I1,Tot,function(u){return pt(o,void 0,void 0,function(){var c,h,f,f,f,v;return dt(this,function(g){switch(g.label){case 0:return u.oldVersion<2?[2]:u.objectStoreNames.contains(VD)?(c=u.transaction.objectStore(VD),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return h=g.sent(),[4,c.clear()];case 2:if(g.sent(),!h)return[2];if(u.oldVersion===2){if(f=h,!f.auth||!f.p256dh||!f.endpoint)return[2];r={token:f.fcmToken,createTime:(v=f.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:jo(f.vapidKey)}}}else u.oldVersion===3?(f=h,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:jo(f.auth),p256dh:jo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:jo(f.vapidKey)}}):u.oldVersion===4&&(f=h,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:jo(f.auth),p256dh:jo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:jo(f.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,T1(I1)];case 4:return a.sent(),[4,T1("fcm_vapid_details_db")];case 5:return a.sent(),[4,T1("undefined")];case 6:return a.sent(),[2,Cot(r)?r:null]}})})}function Cot(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iot="firebase-messaging-database",Aot=1,Mu="firebase-messaging-store",A1=null;function OC(){return A1||(A1=TC(Iot,Aot,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Mu)}})),A1}function Wm(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return e=DC(t),[4,OC()];case 1:return n=o.sent(),[4,n.transaction(Mu).objectStore(Mu).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,kot(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,NC(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function NC(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return n=DC(t),[4,OC()];case 1:return r=o.sent(),i=r.transaction(Mu,"readwrite"),[4,i.objectStore(Mu).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function Pot(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return e=DC(t),[4,OC()];case 1:return n=i.sent(),r=n.transaction(Mu,"readwrite"),[4,r.objectStore(Mu).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function DC(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rot(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return[4,FC(t)];case 1:n=h.sent(),r=yz(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(LC(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return o=h.sent(),[3,6];case 5:throw u=h.sent(),Pe.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pe.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw Pe.create("token-subscribe-no-token");return[2,o.token]}})})}function Mot(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return[4,FC(t)];case 1:n=h.sent(),r=yz(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(LC(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return o=h.sent(),[3,6];case 5:throw u=h.sent(),Pe.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pe.create("token-update-failed",{errorInfo:c});if(!o.token)throw Pe.create("token-update-no-token");return[2,o.token]}})})}function mz(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return[4,FC(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(LC(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,Pe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw u=c.sent(),Pe.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}})})}function LC(t){var e=t.projectId;return mot+"/projects/"+e+"/registrations"}function FC(t){var e=t.appConfig,n=t.installations;return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function yz(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==Vm&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oot=7*24*60*60*1e3;function YS(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,Dot(e,n)];case 1:return r=u.sent(),[4,Wm(t)];case 2:return i=u.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:jo(r.getKey("auth")),p256dh:jo(r.getKey("p256dh"))},i?[3,3]:[2,WD(t,o)];case 3:if(Lot(i.subscriptionOptions,o))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,mz(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,WD(t,o)];case 8:return Date.now()>=i.createTime+Oot?[2,Not({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function Ff(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,Wm(t)];case 1:return n=i.sent(),n?[4,mz(t,n.token)]:[3,4];case 2:return i.sent(),[4,Pot(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function Not(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o;return dt(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Mot(e,t)];case 1:return r=a.sent(),i=qt(qt({},t),{token:r,createTime:Date.now()}),[4,NC(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ff(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function WD(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,Rot(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,NC(t,r)];case 2:return i.sent(),[2,r.token]}})})}function Dot(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Eot(e)})]}})})}function Lot(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fot(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return jot(e,t),Bot(e,t),Uot(e,t),e}function jot(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function Bot(t,e){e.data&&(t.data=e.data)}function Uot(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){return typeof t=="object"&&!!t&&gz in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zot=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Pe.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Wm(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:Vm,i.label=2;case 2:return[2,YS(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Ff(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Pe.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Pe.create("only-available-in-window")},t.prototype.onMessage=function(){throw Pe.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Pe.create("only-available-in-window")},t.prototype.onPush=function(e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return n=Vot(e),n?[4,xz()]:(console.debug(yot+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Got(r)?[2,Hot(r,n)]:(i=!1,n.notification?[4,Kot($ot(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=Fot(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,GD(_ot)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return pt(this,void 0,void 0,function(){var i,o;return dt(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,Ff(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Wm(this.firebaseDependencies)];case 3:return o=a.sent(),[4,Ff(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,YS(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Vm)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return pt(this,void 0,void 0,function(){var i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[vz],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=Xot(i),o?(a=new URL(o,self.location.href),u=new URL(self.location.origin),a.host!==u.host?[2]:[4,Wot(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=h.sent(),[4,GD(Sot)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Ru.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function $ot(t){var e,n=qt({},t.notification);return n.data=(e={},e[vz]=t,e),n}function Vot(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function Wot(t){return pt(this,void 0,void 0,function(){var e,n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return[4,xz()];case 1:e=c.sent();try{for(n=Fn(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Got(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function Hot(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Ru.PUSH_RECEIVED;try{for(var i=Fn(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function xz(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Kot(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function Xot(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(wz(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yot=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ru.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(Qot(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,wz(r)&&r[wot]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,YS(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Vm),[2]})})},t.prototype.updateSwReg=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(vot,{scope:got})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Pe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ff(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?Pe.create("permission-blocked"):Pe.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");if(this.swRegistration)throw Pe.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Pe.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Pe.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return r=qot(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[gz],message_name:n[bot],message_time:n[xot],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function qot(t){switch(t){case Ru.NOTIFICATION_CLICKED:return"notification_open";case Ru.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qot(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jot(t){var e,n;if(!t||!t.options)throw P1("App Configuration Object");if(!t.name)throw P1("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=Fn(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!i[u])throw P1(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function P1(t){return Pe.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zot="messaging";function tst(t){var e=t.getProvider("app").getImmediate(),n=Jot(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!bz())throw Pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new zot(o):new Yot(o)}var est={isSupported:bz};Gt.INTERNAL.registerComponent(new dr(Zot,tst,"PUBLIC").setServiceProps(est));function bz(){return self&&"ServiceWorkerGlobalScope"in self?rst():nst()}function nst(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function rst(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _z="firebasestorage.googleapis.com",Sz="storageBucket",ist=2*60*1e3,ost=10*60*1e3,yn=function(t){jt(e,t);function e(n,r){var i=t.call(this,R1(n),"Firebase Storage: "+r+" ("+R1(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return R1(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(zc);function R1(t){return"storage/"+t}function jC(){var t="An unknown error occurred, please check the error payload for server response.";return new yn("unknown",t)}function sst(t){return new yn("object-not-found","Object '"+t+"' does not exist.")}function ast(t){return new yn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ust(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn("unauthenticated",t)}function lst(){return new yn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function cst(t){return new yn("unauthorized","User does not have permission to access '"+t+"'.")}function hst(){return new yn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Ez(){return new yn("canceled","User canceled the upload/download.")}function fst(t){return new yn("invalid-url","Invalid URL '"+t+"'.")}function dst(t){return new yn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function pst(){return new yn("no-default-bucket","No default bucket found. Did you set the '"+Sz+"' property when initializing the app?")}function Tz(){return new yn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vst(){return new yn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function gst(){return new yn("no-download-url","The given file does not have any download URLs.")}function Zl(t){return new yn("invalid-argument",t)}function kz(){return new yn("app-deleted","The Firebase app was deleted.")}function Cz(t){return new yn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jf(t,e){return new yn("invalid-format","String does not match format '"+t+"': "+e)}function eg(t){throw new yn("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mst(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},M1=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function Iz(t,e){switch(t){case Si.RAW:return new M1(Az(e));case Si.BASE64:case Si.BASE64URL:return new M1(Pz(t,e));case Si.DATA_URL:return new M1(wst(e),xst(e))}throw jC()}function Az(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yst(t){var e;try{e=decodeURIComponent(t)}catch{throw jf(Si.DATA_URL,"Malformed data URL.")}return Az(e)}function Pz(t,e){switch(t){case Si.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw jf(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Si.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw jf(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=mst(e)}catch{throw jf(t,"Invalid character found")}for(var c=new Uint8Array(u.length),h=0;h<u.length;h++)c[h]=u.charCodeAt(h);return c}var Rz=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw jf(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=bst(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function wst(t){var e=new Rz(t);return e.base64?Pz(Si.BASE64,e.rest):yst(e.rest)}function xst(t){var e=new Rz(t);return e.contentType}function bst(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _st={STATE_CHANGED:"state_changed"},_r={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O1(t){switch(t){case"running":case"pausing":case"canceling":return _r.RUNNING;case"paused":return _r.PAUSED;case"success":return _r.SUCCESS;case"canceled":return _r.CANCELED;case"error":return _r.ERROR;default:return _r.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fu||(fu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sst=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=fu.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=fu.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=fu.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw eg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw eg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw eg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw eg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();function Est(){return new Sst}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tst=function(){function t(){}return t.prototype.createConnection=function(){return Est()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw dst(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}for(var f="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",b=new RegExp("^https?://"+v+"/"+f+"/b/"+i+"/o"+g,"i"),w={bucket:1,path:3},T=n===_z?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",k=new RegExp("^https?://"+T+"/"+i+"/"+P,"i"),S={bucket:1,path:2},C=[{regex:u,indices:c,postModify:o},{regex:b,indices:w,postModify:h},{regex:k,indices:S,postModify:h}],D=0;D<C.length;D++){var U=C[D],$=U.regex.exec(e);if($){var H=$[U.indices.bucket],F=$[U.indices.path];F||(F=""),r=new t(H,F),U.postModify(r);break}}if(r==null)throw fst(e);return r},t}(),kst=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cst(t,e,n){var r=1,i=null,o=!1,a=0;function u(){return a===2}var c=!1;function h(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];c||(c=!0,e.apply(null,w))}function f(w){i=setTimeout(function(){i=null,t(v,u())},w)}function v(w){for(var T=[],P=1;P<arguments.length;P++)T[P-1]=arguments[P];if(!c){if(w){h.call.apply(h,se([null,w],T));return}var k=u()||o;if(k){h.call.apply(h,se([null,w],T));return}r<64&&(r*=2);var S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,f(S)}}var g=!1;function b(w){g||(g=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),setTimeout(function(){o=!0,b(!0)},n),b}function Ist(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ast(t){return t!==void 0}function Pst(t){return typeof t=="function"}function Rst(t){return typeof t=="object"&&!Array.isArray(t)}function C0(t){return typeof t=="string"||t instanceof String}function HD(t){return BC()&&t instanceof Blob}function BC(){return typeof Blob<"u"}function qS(t,e,n,r){if(r<e)throw Zl("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Zl("Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function Mz(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mst=function(){function t(e,n,r,i,o,a,u,c,h,f,v){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=u,this.errorCallback_=c,this.progressCallback_=f,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(b,w){g.resolve_=b,g.reject_=w,g.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new ng(!1,null,!0));return}var a=e.pool_.createConnection();e.pendingConnection_=a;function u(c){var h=c.loaded,f=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,f)}e.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&a.removeUploadProgressListener(u),e.pendingConnection_=null;var c=a.getErrorCode()===fu.NO_ERROR,h=a.getStatus();if(!c||e.isRetryStatusCode_(h)){var f=a.getErrorCode()===fu.ABORT;i(!1,new ng(!1,null,f));return}var v=e.successCodes_.indexOf(h)!==-1;i(!0,new ng(v,a))})}function r(i,o){var a=e.resolve_,u=e.reject_,c=o.connection;if(o.wasSuccessCode)try{var h=e.callback_(c,c.getResponseText());Ast(h)?a(h):a()}catch(v){u(v)}else if(c!==null){var f=jC();f.serverResponse=c.getResponseText(),e.errorCallback_?u(e.errorCallback_(c,f)):u(f)}else if(o.canceled){var f=e.appDelete_?kz():Ez();u(f)}else{var f=hst();u(f)}}this.canceled_?r(!1,new ng(!1,null,!0)):this.backoffId_=Cst(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ist(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),ng=function(){function t(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}return t}();function Ost(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Nst(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dst(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lst(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Fst(t,e,n,r,i,o){var a=Mz(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return Dst(c,e),Ost(c,n),Nst(c,o),Lst(c,r),new Mst(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jst(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Bst(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=jst();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(BC())return new Blob(t);throw new yn("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Ust(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UC=function(){function t(e,n){var r=0,i="";HD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(HD(this.data_)){var r=this.data_,i=Ust(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(BC()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(Bst.apply(null,r))}else{var i=e.map(function(c){return C0(c)?Iz(Si.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[u++]=c[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){var e;try{e=JSON.parse(t)}catch{return null}return Rst(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zst(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function $st(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function Oz(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vst(t,e){return e}var yr=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Vst}return t}(),rg=null;function Wst(t){return!C0(t)||t.length<2?t:Oz(t)}function I0(){if(rg)return rg;var t=[];t.push(new yr("bucket")),t.push(new yr("generation")),t.push(new yr("metageneration")),t.push(new yr("name","fullPath",!0));function e(o,a){return Wst(a)}var n=new yr("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new yr("size");return i.xform=r,t.push(i),t.push(new yr("timeCreated")),t.push(new yr("updated")),t.push(new yr("md5Hash",null,!0)),t.push(new yr("cacheControl",null,!0)),t.push(new yr("contentDisposition",null,!0)),t.push(new yr("contentEncoding",null,!0)),t.push(new yr("contentLanguage",null,!0)),t.push(new yr("contentType",null,!0)),t.push(new yr("metadata","customMetadata",!0)),rg=t,rg}function Gst(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new Ei(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Hst(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return Gst(r,t),r}function Nz(t,e,n){var r=zC(e);if(r===null)return null;var i=r;return Hst(t,i,n)}function Kst(t,e,n){var r=zC(e);if(r===null||!C0(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),u=a.map(function(c){var h=t.bucket,f=t.fullPath,v="/b/"+o(h)+"/o/"+o(f),g=pa(v,n),b=Mz({alt:"media",token:c});return g+b});return u[0]}function $C(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KD="prefixes",XD="items";function Xst(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[KD])for(var i=0,o=n[KD];i<o.length;i++){var a=o[i],u=a.replace(/\/$/,""),c=t._makeStorageReference(new Ei(e,u));r.prefixes.push(c)}if(n[XD])for(var h=0,f=n[XD];h<f.length;h++){var v=f[h],c=t._makeStorageReference(new Ei(e,v.name));r.items.push(c)}return r}function Yst(t,e,n){var r=zC(n);if(r===null)return null;var i=r;return Xst(t,e,i)}var ls=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t){if(!t)throw jC()}function A0(t,e){function n(r,i){var o=Nz(t,i,e);return So(o!==null),o}return n}function qst(t,e){function n(r,i){var o=Yst(t,e,i);return So(o!==null),o}return n}function Qst(t,e){function n(r,i){var o=Nz(t,i,e);return So(o!==null),Kst(o,i,t.host)}return n}function rh(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=lst():i=ust():n.getStatus()===402?i=ast(t.bucket):n.getStatus()===403?i=cst(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function P0(t){var e=rh(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=sst(t.path)),o.serverResponse=i.serverResponse,o}return n}function Dz(t,e,n){var r=e.fullServerUrl(),i=pa(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new ls(i,o,A0(t,n),a);return u.errorHandler=P0(e),u}function Jst(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),u=pa(a,t.host),c="GET",h=t.maxOperationRetryTime,f=new ls(u,c,qst(t,e.bucket),h);return f.urlParams=o,f.errorHandler=rh(e),f}function Zst(t,e,n){var r=e.fullServerUrl(),i=pa(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new ls(i,o,Qst(t,n),a);return u.errorHandler=P0(e),u}function tat(t,e,n,r){var i=e.fullServerUrl(),o=pa(i,t.host),a="PATCH",u=$C(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,f=new ls(o,a,A0(t,r),h);return f.headers=c,f.body=u,f.errorHandler=P0(e),f}function eat(t,e){var n=e.fullServerUrl(),r=pa(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(c,h){}var u=new ls(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=P0(e),u}function nat(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Lz(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=nat(null,e)),r}function rat(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var C="",D=0;D<2;D++)C=C+Math.random().toString().slice(2);return C}var c=u();a["Content-Type"]="multipart/related; boundary="+c;var h=Lz(e,r,i),f=$C(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+c+"--",b=UC.getBlob(v,r,g);if(b===null)throw Tz();var w={name:h.fullPath},T=pa(o,t.host),P="POST",k=t.maxUploadRetryTime,S=new ls(T,P,A0(t,n),k);return S.urlParams=w,S.headers=a,S.body=b.uploadData(),S.errorHandler=rh(e),S}var Gm=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function VC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{So(!1)}var r=e||["active"];return So(!!n&&r.indexOf(n)!==-1),n}function iat(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Lz(e,r,i),u={name:a.fullPath},c=pa(o,t.host),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=$C(a,n),g=t.maxUploadRetryTime;function b(T){VC(T);var P;try{P=T.getResponseHeader("X-Goog-Upload-URL")}catch{So(!1)}return So(C0(P)),P}var w=new ls(c,h,b,g);return w.urlParams=u,w.headers=f,w.body=v,w.errorHandler=rh(e),w}function oat(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(h){var f=VC(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{So(!1)}v||So(!1);var g=Number(v);return So(!isNaN(g)),new Gm(g,r.size(),f==="final")}var a="POST",u=t.maxUploadRetryTime,c=new ls(n,a,o,u);return c.headers=i,c.errorHandler=rh(e),c}var YD=256*1024;function sat(t,e,n,r,i,o,a,u){var c=new Gm(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw vst();var h=c.total-c.current,f=h;i>0&&(f=Math.min(f,i));var v=c.current,g=v+f,b=f===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+c.current},T=r.slice(v,g);if(T===null)throw Tz();function P(D,U){var $=VC(D,["active","final"]),H=c.current+f,F=r.size(),M;return $==="final"?M=A0(e,o)(D,U):M=null,new Gm(H,F,$==="final",M)}var k="POST",S=e.maxUploadRetryTime,C=new ls(n,k,P,S);return C.headers=w,C.body=T.uploadData(),C.progressCallback=u||null,C.errorHandler=rh(t),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aat=function(){function t(e,n,r){var i=Pst(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fz=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=I0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=iat(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=oat(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(u){u=u,e._request=void 0,e._updateProgress(u.current),e._needToFetchStatus=!1,u.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=YD*this._chunkMultiplier,r=new Gm(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var u;try{u=sat(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(h){e._error=h,e._transition("error");return}var c=e._ref.storage._makeRequest(u,o,a);e._request=c,c.getPromise().then(function(h){e._increaseMultiplier(),e._request=void 0,e._updateProgress(h.current),h.finalized?(e._metadata=h.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=YD*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=Dz(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=rat(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ez(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=O1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new aat(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(O1(this._state)){case _r.SUCCESS:El(this._resolve.bind(null,this.snapshot))();break;case _r.CANCELED:case _r.ERROR:var n=this._reject;El(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=O1(this._state);switch(n){case _r.RUNNING:case _r.PAUSED:e.next&&El(e.next.bind(e,this.snapshot))();break;case _r.SUCCESS:e.complete&&El(e.complete.bind(e))();break;case _r.CANCELED:case _r.ERROR:e.error&&El(e.error.bind(e,this._error))();break;default:e.error&&El(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R0=function(){function t(e,n){this._service=e,n instanceof Ei?this._location=n:this._location=Ei.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Oz(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=zst(this._location.path);if(e===null)return null;var n=new Ei(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw Cz(e)},t}();function uat(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Fz(t,new UC(e),n)}function lat(t){var e={prefixes:[],items:[]};return jz(t,e).then(function(){return e})}function jz(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,Bz(t,r)];case 1:return i=u.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,jz(t,e,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Bz(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&qS("options.maxResults",1,1e3,e.maxResults),n=e||{},r=Jst(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function cat(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Dz(t.storage,t._location,I0()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function hat(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=tat(t.storage,t._location,e,I0()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function fat(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=Zst(t.storage,t._location,I0()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw gst();return r})]}})})}function dat(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=eat(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function Uz(t,e){var n=$st(t._location.path,e),r=new Ei(t._location.bucket,n);return new R0(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){return/^[A-Za-z]+:\/\//.test(t)}function pat(t,e){return new R0(t,e)}function zz(t,e){if(t instanceof M0){var n=t;if(n._bucket==null)throw pst();var r=new R0(n,n._bucket);return e!=null?zz(r,e):r}else return e!==void 0?Uz(t,e):t}function vat(t,e){if(e&&QS(e)){if(t instanceof M0)return pat(t,e);throw Zl("To use ref(service, url), the first argument must be a Storage instance.")}else return zz(t,e)}function qD(t,e){var n=e==null?void 0:e[Sz];return n==null?null:Ei.makeFromBucketSpec(n,t)}function gat(t,e,n,r){r===void 0&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken=typeof i=="string"?i:_T(i,t.app.options.projectId))}var M0=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=_z,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ist,this._maxUploadRetryTime=ost,this._requests=new Set,o!=null?this._bucket=Ei.makeFromBucketSpec(o,this._host):this._bucket=qD(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=qD(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new R0(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new kst(kz());var o=Fst(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mat(t,e,n){return t=oe(t),uat(t,e,n)}function yat(t){return t=oe(t),cat(t)}function wat(t,e){return t=oe(t),hat(t,e)}function xat(t,e){return t=oe(t),Bz(t,e)}function bat(t){return t=oe(t),lat(t)}function _at(t){return t=oe(t),fat(t)}function Sat(t){return t=oe(t),dat(t)}function QD(t,e){return t=oe(t),vat(t,e)}function Eat(t,e){return Uz(t,e)}function Tat(t,e,n,r){r===void 0&&(r={}),gat(t,e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ig=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JD=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ig(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new ig(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(u){return n(new ig(u,o,o._ref))}:a={next:n.next?function(u){return n.next(new ig(u,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),ZD=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Pd(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Pd(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Eat(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new JD(mat(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=Si.RAW),this._throwIfRoot("putString");var i=Iz(n,e),o=qt({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new JD(new Fz(this._delegate,new UC(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return bat(this._delegate).then(function(n){return new ZD(n,e.storage)})},t.prototype.list=function(e){var n=this;return xat(this._delegate,e||void 0).then(function(r){return new ZD(r,n.storage)})},t.prototype.getMetadata=function(){return yat(this._delegate)},t.prototype.updateMetadata=function(e){return wat(this._delegate,e)},t.prototype.getDownloadURL=function(){return _at(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Sat(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw Cz(e)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kat=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(QS(e))throw Zl("ref() expected a child path but got a URL, use refFromURL instead.");return new Pd(QD(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!QS(e))throw Zl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ei.makeFromUrl(e,this._delegate.host)}catch{throw Zl("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pd(QD(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),Tat(this._delegate,e,n,r)},t}(),Cat="@firebase/storage",Iat="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aat="storage";function Pat(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new kat(r,new M0(r,i,o,new Tst,n,Gt.SDK_VERSION));return a}function Rat(t){var e={TaskState:_r,TaskEvent:_st,StringFormat:Si,Storage:M0,Reference:Pd};t.INTERNAL.registerComponent(new dr(Aat,Pat,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Cat,Iat)}Rat(Gt);var Mat="@firebase/performance",$z="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vz=$z,Oat="FB-PERF-TRACE-START",Nat="FB-PERF-TRACE-STOP",JS="FB-PERF-TRACE-MEASURE",Wz="_wt_",Gz="_fp",Hz="_fcp",Kz="_fid",Xz="@firebase/performance/config",Yz="@firebase/performance/configexpire",Dat="performance",qz="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,Lat=($n={},$n["trace started"]="Trace {$traceName} was started before.",$n["trace stopped"]="Trace {$traceName} is not running.",$n["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",$n["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",$n["no window"]="Window is not available.",$n["no app id"]="App id is not available.",$n["no project id"]="Project id is not available.",$n["no api key"]="Api key is not available.",$n["invalid cc log"]="Attempted to queue invalid cc event",$n["FB not default"]="Performance can only start when Firebase app instance is the default one.",$n["RC response not ok"]="RC response is not ok",$n["invalid attribute name"]="Attribute name {$attributeName} is invalid.",$n["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",$n["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",$n["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",$n),or=new ss(Dat,qz,Lat);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs=new Du(qz);rs.logLevel=ce.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N1,Qz,cr=function(){function t(e){if(this.window=e,!e)throw or.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(rs.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Yd()?!0:(rs.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var u=a[o];n(u)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return N1===void 0&&(N1=new t(Qz)),N1},t}();function Fat(t){Qz=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){var n=t.length-e.length;if(n<0||n>1)throw or.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1,En=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=tL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=tL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw or.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw or.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw or.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return D1===void 0&&(D1=new t),D1},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jz;function jat(){var t=En.getInstance().installationsService.getId();return t.then(function(e){Jz=e}),t}function WC(){return Jz}function Bat(){var t=En.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(tc||(tc={}));var Uat=["firebase_","google_","ga_"],zat=new RegExp("^[a-zA-Z]\\w*$"),$at=40,Vat=100;function Wat(){var t=cr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Zz(){var t=cr.getInstance().document,e=t.visibilityState;switch(e){case"visible":return tc.VISIBLE;case"hidden":return tc.HIDDEN;default:return tc.UNKNOWN}}function Gat(){var t=cr.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Hat(t){if(t.length===0||t.length>$at)return!1;var e=Uat.some(function(n){return t.startsWith(n)});return!e&&!!t.match(zat)}function Kat(t){return t.length!==0&&t.length<=Vat}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xat="0.0.1",Yat={loggingEnabled:!0},qat="FIREBASE_INSTALLATIONS_AUTH";function Qat(t){var e=Jat();return e?(eL(e),Promise.resolve()):eut(t).then(eL).then(function(n){return Zat(n)},function(){})}function Jat(){var t=cr.getInstance().localStorage;if(t){var e=t.getItem(Yz);if(!(!e||!nut(e))){var n=t.getItem(Xz);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function Zat(t){var e=cr.getInstance().localStorage;!t||!e||(e.setItem(Xz,JSON.stringify(t)),e.setItem(Yz,String(Date.now()+En.getInstance().configTimeToLive*60*60*1e3)))}var tut="Could not fetch config, will use default configs";function eut(t){return Bat().then(function(e){var n=En.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+En.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:qat+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:En.getInstance().getAppId(),app_version:Vz,sdk_version:Xat})});return fetch(i).then(function(o){if(o.ok)return o.json();throw or.create("RC response not ok")})}).catch(function(){rs.info(tut)})}function eL(t){if(!t)return t;var e=En.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=Yat.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=nL(e.tracesSamplingRate),e.logNetworkAfterSampling=nL(e.networkRequestsSamplingRate),t}function nut(t){return Number(t)>Date.now()}function nL(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GC=1,L1;function t$(){return GC=2,L1=L1||iut(),L1}function rut(){return GC===3}function iut(){return out().then(function(){return jat()}).then(function(t){return Qat(t)}).then(function(){return rL()},function(){return rL()})}function out(){var t=cr.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function rL(){GC=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HC=10*1e3,sut=5.5*1e3,e$=3,aut=1e3,Hm=e$,qs=[],iL=!1;function uut(){iL||(O0(sut),iL=!0)}function O0(t){setTimeout(function(){if(Hm!==0){if(!qs.length)return O0(HC);lut()}},t)}function lut(){var t=qs.splice(0,aut),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:En.getInstance().logSource,log_event:e};cut(n,t).catch(function(){qs=se(se([],t),qs),Hm--,rs.info("Tries left: "+Hm+"."),O0(HC)})}function cut(t,e){return hut(t).then(function(n){return n.ok||rs.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=HC;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(qs=se(se([],e),qs),rs.info("Retry transport request later.")),Hm=e$,O0(i)})}function hut(t){var e=En.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function fut(t){if(!t.eventTime||!t.message)throw or.create("invalid cc log");qs=se(se([],qs),[t])}function dut(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);fut({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F1;function n$(t,e){F1||(F1=dut(vut)),F1(t,e)}function og(t){var e=En.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||cr.getInstance().requiredApisAvailable()&&(t.isAuto&&Zz()!==tc.VISIBLE||(rut()?j1(t):t$().then(function(){return j1(t)},function(){return j1(t)})))}function j1(t){if(WC()){var e=En.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return n$(t,1)},0)}}function put(t){var e=En.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return n$(t,0)},0)}}function vut(t,e){return e===0?gut(t):mut(t)}function gut(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:r$(),network_request_metric:e};return JSON.stringify(n)}function mut(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:r$(),trace_metric:e};return JSON.stringify(r)}function r$(){return{google_app_id:En.getInstance().getAppId(),app_instance_id:WC(),web_app_info:{sdk_version:Vz,page_url:cr.getInstance().getUrl(),service_worker_status:Wat(),visibility_state:Zz(),effective_connection_type:Gat()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yut=100,wut="_",xut=[Gz,Hz,Kz];function but(t,e){return t.length===0||t.length>yut?!1:e&&e.startsWith(Wz)&&xut.indexOf(t)>-1||!t.startsWith(wut)}function _ut(t){var e=Math.floor(t);return e<t&&rs.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=cr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Oat+"-"+this.randomId+"-"+this.name,this.traceStopMark=Nat+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||JS+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw or.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw or.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),og(this)},t.prototype.record=function(e,n,r){if(e<=0)throw or.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw or.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=qt({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}og(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(but(e,this.name))this.counters[e]=_ut(n);else throw or.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=Hat(e),i=Kat(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw or.create("invalid attribute name",{attributeName:e});if(!i)throw or.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return qt({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=cr.getInstance().getUrl();if(i){var o=new t(Wz+i,!0),a=Math.floor(cr.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var u="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===u});h&&h.startTime&&o.putMetric(Gz,Math.floor(h.startTime*1e3));var f=n.find(function(v){return v.name===c});f&&f.startTime&&o.putMetric(Hz,Math.floor(f.startTime*1e3)),r&&o.putMetric(Kz,Math.floor(r*1e3))}og(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);og(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=cr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],u={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};put(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sut=5e3;function sL(){WC()&&(setTimeout(function(){return Tut()},0),setTimeout(function(){return Eut()},0),setTimeout(function(){return kut()},0))}function Eut(){for(var t=cr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];oL(i)}t.setupObserver("resource",oL)}function Tut(){var t=cr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Bf.createOobTrace(e,n),r=void 0},Sut);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),Bf.createOobTrace(e,n,i))})}else Bf.createOobTrace(e,n)}function kut(){for(var t=cr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];aL(i)}t.setupObserver("measure",aL)}function aL(t){var e=t.name;e.substring(0,JS.length)!==JS&&Bf.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cut=function(){function t(e){this.app=e,cr.getInstance().requiredApisAvailable()&&TT().then(function(n){n&&(uut(),t$().then(sL,sL))}).catch(function(n){rs.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new Bf(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return En.getInstance().instrumentationEnabled},set:function(e){En.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return En.getInstance().dataCollectionEnabled},set:function(e){En.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iut="[DEFAULT]";function Aut(t){var e=function(n,r){if(n.name!==Iut)throw or.create("FB not default");if(typeof window>"u")throw or.create("no window");return Fat(window),En.getInstance().firebaseAppInstance=n,En.getInstance().installationsService=r,new Cut(n)};t.INTERNAL.registerComponent(new dr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(Mat,$z)}Aut(Gt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Put="firebase_id",Rut="origin",Mut=60*1e3,Out="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",i$="https://www.googletagmanager.com/gtag/js",hr;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(hr||(hr={}));var ZS;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(ZS||(ZS={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nut(t,e,n,r,i){return pt(this,void 0,void 0,function(){var o,a;return dt(this,function(u){switch(u.label){case 0:return i&&i.global?(t(hr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),a=qt(qt({},r),{send_to:o}),t(hr.EVENT,n,a),u.label=3;case 3:return[2]}})})}function Dut(t,e,n,r){return pt(this,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:return r&&r.global?(t(hr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(hr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function Lut(t,e,n,r){return pt(this,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:return r&&r.global?(t(hr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(hr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function Fut(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return t(hr.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=h.sent(),t(hr.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function jut(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=new Du("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function But(t,e){var n=document.createElement("script");n.src=i$+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function Uut(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function zut(t,e,n,r,i,o){return pt(this,void 0,void 0,function(){var a,u,c,h;return dt(this,function(f){switch(f.label){case 0:a=r[i],f.label=1;case 1:return f.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return f.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=f.sent(),c=u.find(function(v){return v.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:f.sent(),f.label=6;case 6:return[3,8];case 7:return h=f.sent(),Gn.error(h),[3,8];case 8:return t(hr.CONFIG,i,o),[2]}})})}function $ut(t,e,n,r,i){return pt(this,void 0,void 0,function(){var o,a,u,c,h,f,v,g,b;return dt(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=w.sent(),c=function(T){var P=u.find(function(S){return S.measurementId===T}),k=P&&e[P.appId];if(k)o.push(k);else return o=[],"break"},h=0,f=a;h<f.length&&(v=f[h],g=c(v),g!=="break");h++);w.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return w.sent(),t(hr.EVENT,r,i||{}),[3,5];case 4:return b=w.sent(),Gn.error(b),[3,5];case 5:return[2]}})})}function Vut(t,e,n,r){function i(o,a,u){return pt(this,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),o!==hr.EVENT?[3,2]:[4,$ut(t,e,n,a,u)];case 1:return h.sent(),[3,5];case 2:return o!==hr.CONFIG?[3,4]:[4,zut(t,e,n,r,a,u)];case 3:return h.sent(),[3,5];case 4:t(hr.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Gn.error(c),[3,7];case 7:return[2]}})})}return i}function Wut(t,e,n,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Vut(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function Gut(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(i$))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi,Hut=(Vi={},Vi["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Vi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Vi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Vi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Vi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Vi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Vi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Vi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Vi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Vi),Ii=new ss("analytics","Analytics",Hut);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kut=30,Xut=1e3,Yut=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=Xut),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),o$=new Yut;function qut(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Qut(t){var e;return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:qut(r)},o=Out.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];u="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Ii.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function Jut(t,e,n){return e===void 0&&(e=o$),pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h=this;return dt(this,function(f){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Ii.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Ii.create("no-api-key")}return u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new elt,setTimeout(function(){return pt(h,void 0,void 0,function(){return dt(this,function(v){return c.abort(),[2]})})},n!==void 0?n:Mut),[2,s$({appId:i,apiKey:o,measurementId:a},u,c,e)]})})}function s$(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=o$),pt(this,void 0,void 0,function(){var a,u,c,h,f,v,g;return dt(this,function(b){switch(b.label){case 0:a=t.appId,u=t.measurementId,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Zut(n,i)];case 2:return b.sent(),[3,4];case 3:if(c=b.sent(),u)return Gn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:u}];throw c;case 4:return b.trys.push([4,6,,7]),[4,Qut(t)];case 5:return h=b.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(f=b.sent(),!tlt(f)){if(r.deleteThrottleMetadata(a),u)return Gn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:a,measurementId:u}];throw f}return v=Number(f.customData.httpStatus)===503?Z_(o,r.intervalMillis,Kut):Z_(o,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:o+1},r.setThrottleMetadata(a,g),Gn.debug("Calling attemptFetch again in "+v+" millis"),[2,s$(t,g,n,r)];case 7:return[2]}})})}function Zut(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tlt(t){if(!(t instanceof zc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var elt=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nlt(){return pt(this,void 0,void 0,function(){var t;return dt(this,function(e){switch(e.label){case 0:return Yd()?[3,1]:(Gn.warn(Ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,TT()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Gn.warn(Ii.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function rlt(t,e,n,r,i,o){return pt(this,void 0,void 0,function(){var a,u,c,h,f,v,g;return dt(this,function(b){switch(b.label){case 0:return a=Jut(t),a.then(function(w){n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Gn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Gn.error(w)}),e.push(a),u=nlt().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,u])];case 1:return c=b.sent(),h=c[0],f=c[1],Gut()||But(o,h.measurementId),i("js",new Date),v=(g={},g[Rut]="firebase",g.update=!0,g),f!=null&&(v[Put]=f),i(hr.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo={},uL=[],lL={},Ig="dataLayer",a$="gtag",cL,nf,tE=!1;function ilt(t){if(tE)throw Ii.create("already-initialized");t.dataLayerName&&(Ig=t.dataLayerName),t.gtagName&&(a$=t.gtagName)}function olt(){var t=[];if(ET()&&t.push("This is a browser extension environment."),Aj()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Ii.create("invalid-analytics-context",{errorInfo:e});Gn.warn(n.message)}}function slt(t,e){olt();var n=t.options.appId;if(!n)throw Ii.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Gn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Ii.create("no-api-key");if(Lo[n]!=null)throw Ii.create("already-exists",{id:n});if(!tE){Uut(Ig);var r=Wut(Lo,uL,lL,Ig,a$),i=r.wrappedGtag,o=r.gtagCore;nf=i,cL=o,tE=!0}Lo[n]=rlt(t,uL,lL,e,cL,Ig);var a={app:t,logEvent:function(u,c,h){Nut(nf,Lo[n],u,c,h).catch(function(f){return Gn.error(f)})},setCurrentScreen:function(u,c){Dut(nf,Lo[n],u,c).catch(function(h){return Gn.error(h)})},setUserId:function(u,c){Lut(nf,Lo[n],u,c).catch(function(h){return Gn.error(h)})},setUserProperties:function(u,c){Fut(nf,Lo[n],u,c).catch(function(h){return Gn.error(h)})},setAnalyticsCollectionEnabled:function(u){jut(Lo[n],u).catch(function(c){return Gn.error(c)})},INTERNAL:{delete:function(){return delete Lo[n],Promise.resolve()}}};return a}var alt="@firebase/analytics",ult="0.6.18",hL="analytics";function llt(t){t.INTERNAL.registerComponent(new dr(hL,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return slt(r,i)},"PUBLIC").setServiceProps({settings:ilt,EventName:ZS,isSupported:clt})),t.INTERNAL.registerComponent(new dr("analytics-internal",e,"PRIVATE")),t.registerVersion(alt,ult);function e(n){try{var r=n.getProvider(hL).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Ii.create("interop-component-reg-failed",{reason:i})}}}llt(Gt);function clt(){return pt(this,void 0,void 0,function(){var t;return dt(this,function(e){switch(e.label){case 0:if(ET())return[2,!1];if(!Aj())return[2,!1];if(!Yd())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,TT()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hlt=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=u.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=u.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return u.sent(),[2,o]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr,flt=(wr={},wr["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",wr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",wr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",wr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",wr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",wr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",wr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",wr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",wr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",wr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',wr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',wr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",wr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",wr),Ti=new ss("remoteconfig","Remote Config",flt);function dlt(t,e){return t instanceof zc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function plt(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vlt=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c,h,f,v,g,b,w,T,P,k,S,C,D;return dt(this,function(U){switch(U.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=U.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:plt()},h={method:"POST",headers:u,body:JSON.stringify(c)},f=fetch(a,h),v=new Promise(function($,H){e.signal.addEventListener(function(){var F=new Error("The operation was aborted.");F.name="AbortError",H(F)})}),U.label=2;case 2:return U.trys.push([2,5,,6]),[4,Promise.race([f,v])];case 3:return U.sent(),[4,f];case 4:return g=U.sent(),[3,6];case 5:throw b=U.sent(),w="fetch-client-network",b.name==="AbortError"&&(w="fetch-timeout"),Ti.create(w,{originalErrorMessage:b.message});case 6:if(T=g.status,P=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];C=void 0,U.label=7;case 7:return U.trys.push([7,9,,10]),[4,g.json()];case 8:return C=U.sent(),[3,10];case 9:throw D=U.sent(),Ti.create("fetch-client-parse",{originalErrorMessage:D.message});case 10:k=C.entries,S=C.state,U.label=11;case 11:if(S==="INSTANCE_STATE_UNSPECIFIED"?T=500:S==="NO_CHANGE"?T=304:(S==="NO_TEMPLATE"||S==="EMPTY_CONFIG")&&(k={}),T!==304&&T!==200)throw Ti.create("fetch-status",{httpStatus:T});return[2,{status:T,eTag:P,config:k}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var glt=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mlt=!1,ylt="",fL=0,wlt=["1","true","t","yes","y","on"],B1=function(){function t(e,n){n===void 0&&(n=ylt),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?mlt:wlt.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return fL;var e=Number(this._value);return isNaN(e)&&(e=fL),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xlt=60*1e3,blt=12*60*60*1e3,_lt=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:xlt,minimumFetchIntervalMillis:blt},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ce.DEBUG;break;case"silent":this._logger.logLevel=ce.SILENT;break;default:this._logger.logLevel=ce.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return pt(this,void 0,void 0,function(){var e,n,r,i=this;return dt(this,function(o){switch(o.label){case 0:e=new glt,setTimeout(function(){return pt(i,void 0,void 0,function(){return dt(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=dlt(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return Slt(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new B1("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new B1("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new B1("static"))},t}();function Slt(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(qt(qt({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){var n=t.target.error||void 0;return Ti.create(e,{originalErrorMessage:n&&n.message})}var $a="app_namespace_store",Elt="firebase_remote_config",Tlt=1;function klt(){return new Promise(function(t,e){var n=indexedDB.open(Elt,Tlt);n.onerror=function(r){e(Ag(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($a,{keyPath:"compositeKey"})}}})}var Clt=function(){function t(e,n,r,i){i===void 0&&(i=klt()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([$a],"readonly"),c=u.objectStore($a),h=r.createCompositeKey(e);try{var f=c.get(h);f.onerror=function(v){a(Ag(v,"storage-get"))},f.onsuccess=function(v){var g=v.target.result;o(g?g.value:void 0)}}catch(v){a(Ti.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return pt(this,void 0,void 0,function(){var r,i=this;return dt(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,u){var c=r.transaction([$a],"readwrite"),h=c.objectStore($a),f=i.createCompositeKey(e);try{var v=h.put({compositeKey:f,value:n});v.onerror=function(g){u(Ag(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){u(Ti.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.delete=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([$a],"readwrite"),c=u.objectStore($a),h=r.createCompositeKey(e);try{var f=c.delete(h);f.onerror=function(v){a(Ag(v,"storage-delete"))},f.onsuccess=function(){o()}}catch(v){a(Ti.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ilt=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=u.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=u.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=u.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Alt(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ti.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Plt(t){if(!(t instanceof zc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Rlt=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return pt(this,void 0,void 0,function(){var o,a,u;return dt(this,function(c){switch(c.label){case 0:return[4,Alt(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!Plt(a))throw a;return u={throttleEndTimeMillis:Date.now()+Z_(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(u)];case 6:return c.sent(),[2,this.attemptFetch(e,u)];case 7:return[2]}})})},t}(),dL="@firebase/remote-config",Mlt="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Olt(t){t.INTERNAL.registerComponent(new dr("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(dL,Mlt);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Ti.create("registration-window");var u=o.options,c=u.projectId,h=u.apiKey,f=u.appId;if(!c)throw Ti.create("registration-project-id");if(!h)throw Ti.create("registration-api-key");if(!f)throw Ti.create("registration-app-id");i=i||"firebase";var v=new Clt(f,o.name,i),g=new Ilt(v),b=new Du(dL);b.logLevel=ce.ERROR;var w=new vlt(a,t.SDK_VERSION,i,c,h,f),T=new Rlt(w,v),P=new hlt(T,v,g,b),k=new _lt(o,P,g,v,b);return k.ensureInitialized(),k}}Olt(Gt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi,Nlt=(Wi={},Wi["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Wi["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Wi["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Wi["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Wi["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Wi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Wi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Wi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Wi["recaptcha-error"]="ReCAPTCHA error.",Wi),oi=new ss("appCheck","AppCheck",Nlt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u$=new Map,Dlt={activated:!1,tokenObservers:[]},Llt={enabled:!1};function Ar(t){return u$.get(t)||Dlt}function Eo(t,e){u$.set(t,e)}function KC(){return Llt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l$="https://content-firebaseappcheck.googleapis.com/v1beta",Flt="exchangeRecaptchaToken",jlt="exchangeDebugToken",pL={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Blt=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Nn,[4,Ult(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Nn,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function Ult(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){return self.grecaptcha}function c$(t){if(!Ar(t).activated)throw oi.create("use-before-activation",{appName:t.name})}function zlt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function $lt(t){return Ay.encodeString(JSON.stringify(t),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e){var n=t.url,r=t.body;return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v,g,b;return dt(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return u=w.sent(),[3,4];case 3:throw c=w.sent(),oi.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(u.status!==200)throw oi.create("fetch-status-error",{httpStatus:u.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,u.json()];case 6:return h=w.sent(),[3,8];case 7:throw f=w.sent(),oi.create("fetch-parse-error",{originalErrorMessage:f.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return g=Number(v[1])*1e3,b=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:b+g,issuedAtTimeMillis:b}]}})})}function Vlt(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:l$+"/projects/"+r+"/apps/"+i+":"+Flt+"?key="+o,body:{recaptcha_token:e}}}function Wlt(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:l$+"/projects/"+r+"/apps/"+i+":"+jlt+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Glt="firebase-app-check-database",Hlt=1,Rd="firebase-app-check-store",f$="debug-token",sg=null;function d$(){return sg||(sg=new Promise(function(t,e){try{var n=indexedDB.open(Glt,Hlt);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Rd,{keyPath:"compositeKey"})}}}catch(r){e(oi.create("storage-open",{originalErrorMessage:r.message}))}}),sg)}function Klt(t){return v$(g$(t))}function Xlt(t,e){return p$(g$(t),e)}function Ylt(t){return p$(f$,t)}function qlt(){return v$(f$)}function p$(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return[4,d$()];case 1:return n=a.sent(),r=n.transaction(Rd,"readwrite"),i=r.objectStore(Rd),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(u,c){o.onsuccess=function(h){u()},r.onerror=function(h){var f;c(oi.create("storage-set",{originalErrorMessage:(f=h.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function v$(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,d$()];case 1:return e=o.sent(),n=e.transaction(Rd,"readonly"),r=n.objectStore(Rd),i=r.get(t),[2,new Promise(function(a,u){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;u(oi.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function g$(t){return t.options.appId+"-"+t.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N0=new Du("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qlt(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:if(!Yd())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Klt(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),N0.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function gL(t,e){return Yd()?Xlt(t,e).catch(function(n){N0.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Jlt(){return pt(this,void 0,void 0,function(){var t,e;return dt(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,qlt()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=zlt(),Ylt(e).catch(function(r){return N0.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zlt(){var t=KC();return t.enabled}function tct(){return pt(this,void 0,void 0,function(){var t;return dt(this,function(e){if(t=KC(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function ect(){var t=o9();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=KC();e.enabled=!0;var n=new Nn;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Jlt())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nct={error:"UNKNOWN_ERROR"};function Km(t,e,n){return n===void 0&&(n=!1),pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h,f,v,g;return dt(this,function(b){switch(b.label){case 0:return c$(t),r=Ar(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=b.sent(),a&&Md(a)&&(i=a,Eo(t,qt(qt({},r),{token:i})),mL(t,{token:i.token})),b.label=2;case 2:return!n&&i&&Md(i)?[2,{token:i.token}]:Zlt()?(c=h$,h=Wlt,f=[t],[4,tct()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,f.concat([b.sent()])),e])];case 4:return u=b.sent(),[4,gL(t,u)];case 5:return b.sent(),Eo(t,qt(qt({},r),{token:u})),[2,{token:u.token}];case 6:return b.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=b.sent(),[3,9];case 8:return v=b.sent(),N0.error(v),o=v,[3,9];case 9:return i?[3,10]:(g=ict(o),[3,12]);case 10:return g={token:i.token},Eo(t,qt(qt({},r),{token:i})),[4,gL(t,i)];case 11:b.sent(),b.label=12;case 12:return mL(t,g),[2,g]}})})}function m$(t,e,n,r,i){var o=Ar(t),a={next:r,error:i,type:n},u=qt(qt({},o),{tokenObservers:se(se([],o.tokenObservers),[a])});if(!u.tokenRefresher){var c=rct(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&Md(o.token)){var h=o.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(f){f&&Md(f)&&r({token:f.token})}).catch(function(){});Eo(t,u)}function XC(t,e){var n=Ar(t),r=n.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Eo(t,qt(qt({},n),{tokenObservers:r}))}function rct(t,e){var n=this;return new Blt(function(){return pt(n,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return r=Ar(t),r.token?[3,2]:[4,Km(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,Km(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Ar(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},pL.RETRIAL_MIN_WAIT,pL.RETRIAL_MAX_WAIT)}function mL(t,e){for(var n=Ar(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function Md(t){return t.expireTimeMillis-Date.now()>0}function ict(t){return{token:$lt(nct),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oct="https://www.google.com/recaptcha/api.js";function sct(t,e){var n=Ar(t),r=new Nn;Eo(t,qt(qt({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=vL();return a?a.ready(function(){yL(t,e,a,i),r.resolve(a)}):uct(function(){var u=vL();if(!u)throw new Error("no recaptcha");u.ready(function(){yL(t,e,u,i),r.resolve(u)})}),r.promise}function act(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return c$(t),e=Ar(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Ar(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function yL(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=Ar(t);Eo(t,qt(qt({},o),{reCAPTCHAState:qt(qt({},o.reCAPTCHAState),{widgetId:i})}))}function uct(t){var e=document.createElement("script");e.src=""+oct,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eE=function(){function t(e){this._siteKey=e}return t.prototype.getToken=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw oi.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,act(this._app)];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),oi.create("recaptcha-error");case 4:return[2,h$(Vlt(this._app,e),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(e,n){this._app=e,this._platformLoggerProvider=n,sct(e,this._siteKey).catch(function(){})},t}(),nE=function(){function t(e){this._customProviderOptions=e}return t.prototype.getToken=function(){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:if(!this._app)throw oi.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),n=l9(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,qt(qt({},e),{issuedAtTimeMillis:r})]}})})},t.prototype.initialize=function(e){this._app=e},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lct(t,e,n,r){var i=Ar(t);if(i.activated)throw oi.create("already-activated",{appName:t.name});var o=qt(qt({},i),{activated:!0});o.cachedTokenPromise=Qlt(t).then(function(a){return a&&Md(a)&&Eo(t,qt(qt({},Ar(t)),{token:a})),a}),typeof e=="string"?o.provider=new eE(e):e instanceof eE||e instanceof nE?o.provider=e:o.provider=new nE({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,Eo(t,o),o.provider.initialize(t,n)}function cct(t,e){var n=Ar(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Eo(t,qt(qt({},n),{isTokenAutoRefreshEnabled:e}))}function hct(t,e,n){return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){switch(i.label){case 0:return[4,Km(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function fct(t,e,n,r,i){var o=function(){},a=function(){};return n.next!=null?o=n.next.bind(n):o=n,n.error!=null?a=n.error.bind(n):r&&(a=r),m$(t,e,"EXTERNAL",o,a),function(){return XC(t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dct(t,e){return{app:t,activate:function(n,r){return lct(t,n,e,r)},setTokenAutoRefreshEnabled:function(n){return cct(t,n)},getToken:function(n){return hct(t,e,n)},onTokenChanged:function(n,r,i){return fct(t,e,n,r)},INTERNAL:{delete:function(){for(var n=Ar(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];XC(t,o.next)}return Promise.resolve()}}}}function pct(t,e){return{getToken:function(n){return Km(t,e,n)},addTokenListener:function(n){return m$(t,e,"INTERNAL",n)},removeTokenListener:function(n){return XC(t,n)}}}var vct="@firebase/app-check",gct="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mct="appCheck",wL="app-check-internal";function yct(t){t.INTERNAL.registerComponent(new dr(mct,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return dct(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:eE,CustomProvider:nE}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(wL);i.initialize()})),t.INTERNAL.registerComponent(new dr(wL,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return pct(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(vct,gct)}yct(Gt);ect();var wct="firebase",y$="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.registerVersion(wct,y$,"app");Gt.SDK_VERSION=y$;var xct="firebase",bct="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);Gt.registerVersion(xct,bct);const _ct={apiKey:"AIzaSyCWicmfXhyN45eq8yLTuDXPosz6btobhVw",authDomain:"bp-measure-fe.firebaseapp.com",projectId:"bp-measure-fe",storageBucket:"bp-measure-fe.appspot.com",messagingSenderId:"161962739638",appId:"1:161962739638:web:441b5f4e43007c7413a317"};Gt.initializeApp(_ct);const Xm=Gt.firestore();var rE={},Sct={get exports(){return rE},set exports(t){rE=t}};(function(t){(function(e,n){t.exports?(n.default=n,t.exports=e.document?n(e):n):(e.Highcharts&&e.Highcharts.error(16,!0),e.Highcharts=n(e))})(typeof window<"u"?window:xL,function(e){function n(i,o,a,u){i.hasOwnProperty(o)||(i[o]=u.apply(null,a),typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:i[o]}})))}var r={};return n(r,"Core/Globals.js",[],function(){var i;return function(o){o.SVG_NS="http://www.w3.org/2000/svg",o.product="Highcharts",o.version="10.3.3",o.win=typeof e<"u"?e:{},o.doc=o.win.document,o.svg=o.doc&&o.doc.createElementNS&&!!o.doc.createElementNS(o.SVG_NS,"svg").createSVGRect,o.userAgent=o.win.navigator&&o.win.navigator.userAgent||"",o.isChrome=o.userAgent.indexOf("Chrome")!==-1,o.isFirefox=o.userAgent.indexOf("Firefox")!==-1,o.isMS=/(edge|msie|trident)/i.test(o.userAgent)&&!o.win.opera,o.isSafari=!o.isChrome&&o.userAgent.indexOf("Safari")!==-1,o.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(o.userAgent),o.isWebKit=o.userAgent.indexOf("AppleWebKit")!==-1,o.deg2rad=2*Math.PI/360,o.hasBidiBug=o.isFirefox&&4>parseInt(o.userAgent.split("Firefox/")[1],10),o.hasTouch=!!o.win.TouchEvent,o.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],o.noop=function(){},o.supportsPassiveEvents=function(){var a=!1;if(!o.isMS){var u=Object.defineProperty({},"passive",{get:function(){a=!0}});o.win.addEventListener&&o.win.removeEventListener&&(o.win.addEventListener("testPassive",o.noop,u),o.win.removeEventListener("testPassive",o.noop,u))}return a}(),o.charts=[],o.dateFormats={},o.seriesTypes={},o.symbolSizes={},o.chartCount=0}(i||(i={})),i}),n(r,"Core/Utilities.js",[r["Core/Globals.js"]],function(i){function o(p,y,R,_){var L=y?"Highcharts error":"Highcharts warning";p===32&&(p=""+L+": Deprecated member");var z=b(p),K=z?""+L+" #"+p+": www.highcharts.com/errors/"+p+"/":p.toString();if(typeof _<"u"){var X="";z&&(K+="?"),$(_,function(O,j){X+=`
 - `.concat(j,": ").concat(O),z&&(K+=encodeURI(j)+"="+encodeURI(O))}),K+=X}F(i,"displayError",{chart:R,code:p,message:K,params:_},function(){if(y)throw Error(K);A.console&&o.messages.indexOf(K)===-1&&console.warn(K)}),o.messages.push(K)}function a(p,y){var R={};return $(p,function(_,L){f(p[L],!0)&&!p.nodeType&&y[L]?(_=a(p[L],y[L]),Object.keys(_).length&&(R[L]=_)):(f(p[L])||p[L]!==y[L]||L in p&&!(L in y))&&(R[L]=p[L])}),R}function u(p,y){return parseInt(p,y||10)}function c(p){return typeof p=="string"}function h(p){return p=Object.prototype.toString.call(p),p==="[object Array]"||p==="[object Array Iterator]"}function f(p,y){return!!p&&typeof p=="object"&&(!y||!h(p))}function v(p){return f(p)&&typeof p.nodeType=="number"}function g(p){var y=p&&p.constructor;return!(!f(p,!0)||v(p)||!y||!y.name||y.name==="Object")}function b(p){return typeof p=="number"&&!isNaN(p)&&1/0>p&&-1/0<p}function w(p){return typeof p<"u"&&p!==null}function T(p,y,R){var _=c(y)&&!w(R),L,z=function(K,X){w(K)?p.setAttribute(X,K):_?(L=p.getAttribute(X))||X!=="class"||(L=p.getAttribute(X+"Name")):p.removeAttribute(X)};return c(y)?z(R,y):$(y,z),L}function P(p,y){var R;p||(p={});for(R in y)p[R]=y[R];return p}function k(){for(var p=arguments,y=p.length,R=0;R<y;R++){var _=p[R];if(typeof _<"u"&&_!==null)return _}}function S(p,y){i.isMS&&!i.svg&&y&&w(y.opacity)&&(y.filter="alpha(opacity=".concat(100*y.opacity,")")),P(p.style,y)}function C(p){return Math.pow(10,Math.floor(Math.log(p)/Math.LN10))}function D(p,y){return 1e14<p?p:parseFloat(p.toPrecision(y||14))}function U(p,y,R){var _=i.getStyle||U;if(y==="width")return y=Math.min(p.offsetWidth,p.scrollWidth),R=p.getBoundingClientRect&&p.getBoundingClientRect().width,R<y&&R>=y-1&&(y=Math.floor(R)),Math.max(0,y-(_(p,"padding-left",!0)||0)-(_(p,"padding-right",!0)||0));if(y==="height")return Math.max(0,Math.min(p.offsetHeight,p.scrollHeight)-(_(p,"padding-top",!0)||0)-(_(p,"padding-bottom",!0)||0));if(A.getComputedStyle||o(27,!0),p=A.getComputedStyle(p,void 0)){var L=p.getPropertyValue(y);k(R,y!=="opacity")&&(L=u(L))}return L}function $(p,y,R){for(var _ in p)Object.hasOwnProperty.call(p,_)&&y.call(R||p[_],p[_],_,p)}function H(p,y,R){function _(X,O){var j=p.removeEventListener||i.removeEventListenerPolyfill;j&&j.call(p,X,O,!1)}function L(X){var O;if(p.nodeName){if(y){var j={};j[y]=!0}else j=X;$(j,function(W,q){if(X[q])for(O=X[q].length;O--;)_(q,X[q][O].fn)})}}var z=typeof p=="function"&&p.prototype||p;if(Object.hasOwnProperty.call(z,"hcEvents")){var K=z.hcEvents;y?(z=K[y]||[],R?(K[y]=z.filter(function(X){return R!==X.fn}),_(y,R)):(L(K),K[y]=[])):(L(K),delete z.hcEvents)}}function F(p,y,R,_){if(R=R||{},I.createEvent&&(p.dispatchEvent||p.fireEvent&&p!==i)){var L=I.createEvent("Events");L.initEvent(y,!0,!0),R=P(L,R),p.dispatchEvent?p.dispatchEvent(R):p.fireEvent(y,R)}else if(p.hcEvents){R.target||P(R,{preventDefault:function(){R.defaultPrevented=!0},target:p,type:y}),L=[];for(var z=p,K=!1;z.hcEvents;)Object.hasOwnProperty.call(z,"hcEvents")&&z.hcEvents[y]&&(L.length&&(K=!0),L.unshift.apply(L,z.hcEvents[y])),z=Object.getPrototypeOf(z);K&&L.sort(function(X,O){return X.order-O.order}),L.forEach(function(X){X.fn.call(p,R)===!1&&R.preventDefault()})}_&&!R.defaultPrevented&&_.call(p,R)}var M=i.charts,I=i.doc,A=i.win;(o||(o={})).messages=[],Math.easeInOutSine=function(p){return-.5*(Math.cos(Math.PI*p)-1)};var E=Array.prototype.find?function(p,y){return p.find(y)}:function(p,y){var R,_=p.length;for(R=0;R<_;R++)if(y(p[R],R))return p[R]};$({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(p,y){i[y]=function(R){var _;return o(32,!1,void 0,(_={},_["Highcharts.".concat(y)]="use Array.".concat(p),_)),Array.prototype[p].apply(R,[].slice.call(arguments,1))}});var x,m=function(){var p=Math.random().toString(36).substring(2,9)+"-",y=0;return function(){return"highcharts-"+(x?"":p)+y++}}();return A.jQuery&&(A.jQuery.fn.highcharts=function(){var p=[].slice.call(arguments);if(this[0])return p[0]?(new i[c(p[0])?p.shift():"Chart"](this[0],p[0],p[1]),this):M[T(this[0],"data-highcharts-chart")]}),E={addEvent:function(p,y,R,_){_===void 0&&(_={});var L=typeof p=="function"&&p.prototype||p;Object.hasOwnProperty.call(L,"hcEvents")||(L.hcEvents={}),L=L.hcEvents,i.Point&&p instanceof i.Point&&p.series&&p.series.chart&&(p.series.chart.runTrackerClick=!0);var z=p.addEventListener||i.addEventListenerPolyfill;return z&&z.call(p,y,R,i.supportsPassiveEvents?{passive:_.passive===void 0?y.indexOf("touch")!==-1:_.passive,capture:!1}:!1),L[y]||(L[y]=[]),L[y].push({fn:R,order:typeof _.order=="number"?_.order:1/0}),L[y].sort(function(K,X){return K.order-X.order}),function(){H(p,y,R)}},arrayMax:function(p){for(var y=p.length,R=p[0];y--;)p[y]>R&&(R=p[y]);return R},arrayMin:function(p){for(var y=p.length,R=p[0];y--;)p[y]<R&&(R=p[y]);return R},attr:T,clamp:function(p,y,R){return p>y?p<R?p:R:y},cleanRecursively:a,clearTimeout:function(p){w(p)&&clearTimeout(p)},correctFloat:D,createElement:function(p,y,R,_,L){return p=I.createElement(p),y&&P(p,y),L&&S(p,{padding:"0",border:"none",margin:"0"}),R&&S(p,R),_&&_.appendChild(p),p},css:S,defined:w,destroyObjectProperties:function(p,y){$(p,function(R,_){R&&R!==y&&R.destroy&&R.destroy(),delete p[_]})},discardElement:function(p){p&&p.parentElement&&p.parentElement.removeChild(p)},erase:function(p,y){for(var R=p.length;R--;)if(p[R]===y){p.splice(R,1);break}},error:o,extend:P,extendClass:function(p,y){var R=function(){};return R.prototype=new p,P(R.prototype,y),R},find:E,fireEvent:F,getMagnitude:C,getNestedProperty:function(p,y){for(p=p.split(".");p.length&&w(y);){var R=p.shift();if(typeof R>"u"||R==="__proto__"||(y=y[R],!w(y)||typeof y=="function"||typeof y.nodeType=="number"||y===A))return}return y},getStyle:U,inArray:function(p,y,R){return o(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),y.indexOf(p,R)},isArray:h,isClass:g,isDOMElement:v,isFunction:function(p){return typeof p=="function"},isNumber:b,isObject:f,isString:c,keys:function(p){return o(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(p)},merge:function(){var p,y=arguments,R={},_=function(z,K){return typeof z!="object"&&(z={}),$(K,function(X,O){O!=="__proto__"&&O!=="constructor"&&(!f(X,!0)||g(X)||v(X)?z[O]=K[O]:z[O]=_(z[O]||{},X))}),z};y[0]===!0&&(R=y[1],y=Array.prototype.slice.call(y,2));var L=y.length;for(p=0;p<L;p++)R=_(R,y[p]);return R},normalizeTickInterval:function(p,y,R,_,L){var z=p;R=k(R,C(p));var K=p/R;for(y||(y=L?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],_===!1&&(R===1?y=y.filter(function(X){return X%1===0}):.1>=R&&(y=[1/R]))),_=0;_<y.length&&(z=y[_],!(L&&z*R>=p||!L&&K<=(y[_]+(y[_+1]||y[_]))/2));_++);return z=D(z*R,-Math.round(Math.log(.001)/Math.LN10))},objectEach:$,offset:function(p){var y=I.documentElement;return p=p.parentElement||p.parentNode?p.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:p.top+(A.pageYOffset||y.scrollTop)-(y.clientTop||0),left:p.left+(A.pageXOffset||y.scrollLeft)-(y.clientLeft||0),width:p.width,height:p.height}},pad:function(p,y,R){return Array((y||2)+1-String(p).replace("-","").length).join(R||"0")+p},pick:k,pInt:u,relativeLength:function(p,y,R){return/%$/.test(p)?y*parseFloat(p)/100+(R||0):parseFloat(p)},removeEvent:H,splat:function(p){return h(p)?p:[p]},stableSort:function(p,y){var R=p.length,_,L;for(L=0;L<R;L++)p[L].safeI=L;for(p.sort(function(z,K){return _=y(z,K),_===0?z.safeI-K.safeI:_}),L=0;L<R;L++)delete p[L].safeI},syncTimeout:function(p,y,R){return 0<y?setTimeout(p,y,R):(p.call(0,R),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:m,useSerialIds:function(p){return x=k(p,x)},wrap:function(p,y,R){var _=p[y];p[y]=function(){var L=arguments,z=this;return R.apply(this,[function(){return _.apply(z,arguments.length?arguments:L)}].concat([].slice.call(arguments)))}}},E}),n(r,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),n(r,"Core/Color/Color.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){var a=o.isNumber,u=o.merge,c=o.pInt;return o=function(){function h(f){this.rgba=[NaN,NaN,NaN,NaN],this.input=f;var v=i.Color;if(v&&v!==h)return new v(f);if(!(this instanceof h))return new h(f);this.init(f)}return h.parse=function(f){return f?new h(f):h.None},h.prototype.init=function(f){var v;if(typeof f=="object"&&typeof f.stops<"u")this.stops=f.stops.map(function(T){return new h(T[1])});else if(typeof f=="string"){if(this.input=f=h.names[f.toLowerCase()]||f,f.charAt(0)==="#"){var g=f.length,b=parseInt(f.substr(1),16);g===7?v=[(b&16711680)>>16,(b&65280)>>8,b&255,1]:g===4&&(v=[(b&3840)>>4|(b&3840)>>8,(b&240)>>4|b&240,(b&15)<<4|b&15,1])}if(!v)for(b=h.parsers.length;b--&&!v;){var w=h.parsers[b];(g=w.regex.exec(f))&&(v=w.parse(g))}}v&&(this.rgba=v)},h.prototype.get=function(f){var v=this.input,g=this.rgba;if(typeof v=="object"&&typeof this.stops<"u"){var b=u(v);return b.stops=[].slice.call(b.stops),this.stops.forEach(function(w,T){b.stops[T]=[b.stops[T][0],w.get(f)]}),b}return g&&a(g[0])?f==="rgb"||!f&&g[3]===1?"rgb("+g[0]+","+g[1]+","+g[2]+")":f==="a"?"".concat(g[3]):"rgba("+g.join(",")+")":v},h.prototype.brighten=function(f){var v=this.rgba;if(this.stops)this.stops.forEach(function(b){b.brighten(f)});else if(a(f)&&f!==0)for(var g=0;3>g;g++)v[g]+=c(255*f),0>v[g]&&(v[g]=0),255<v[g]&&(v[g]=255);return this},h.prototype.setOpacity=function(f){return this.rgba[3]=f,this},h.prototype.tweenTo=function(f,v){var g=this.rgba,b=f.rgba;return!a(g[0])||!a(b[0])?f.input||"none":(f=b[3]!==1||g[3]!==1,(f?"rgba(":"rgb(")+Math.round(b[0]+(g[0]-b[0])*(1-v))+","+Math.round(b[1]+(g[1]-b[1])*(1-v))+","+Math.round(b[2]+(g[2]-b[2])*(1-v))+(f?","+(b[3]+(g[3]-b[3])*(1-v)):"")+")")},h.names={white:"#ffffff",black:"#000000"},h.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(f){return[c(f[1]),c(f[2]),c(f[3]),parseFloat(f[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(f){return[c(f[1]),c(f[2]),c(f[3]),1]}}],h.None=new h(""),h}(),o}),n(r,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),n(r,"Core/Time.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){var a=i.win,u=o.defined,c=o.error,h=o.extend,f=o.isObject,v=o.merge,g=o.objectEach,b=o.pad,w=o.pick,T=o.splat,P=o.timeUnits,k=i.isSafari&&a.Intl&&a.Intl.DateTimeFormat.prototype.formatRange,S=i.isSafari&&a.Intl&&!a.Intl.DateTimeFormat.prototype.formatRange;return o=function(){function C(D){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=a.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(D)}return C.prototype.get=function(D,U){if(this.variableTimezone||this.timezoneOffset){var $=U.getTime(),H=$-this.getTimezoneOffset(U);return U.setTime(H),D=U["getUTC"+D](),U.setTime($),D}return this.useUTC?U["getUTC"+D]():U["get"+D]()},C.prototype.set=function(D,U,$){if(this.variableTimezone||this.timezoneOffset){if(D==="Milliseconds"||D==="Seconds"||D==="Minutes"&&this.getTimezoneOffset(U)%36e5===0)return U["setUTC"+D]($);var H=this.getTimezoneOffset(U);return H=U.getTime()-H,U.setTime(H),U["setUTC"+D]($),D=this.getTimezoneOffset(U),H=U.getTime()+D,U.setTime(H)}return this.useUTC||k&&D==="FullYear"?U["setUTC"+D]($):U["set"+D]($)},C.prototype.update=function(D){D===void 0&&(D={});var U=w(D.useUTC,!0);this.options=D=v(!0,this.options,D),this.Date=D.Date||a.Date||Date,this.timezoneOffset=(this.useUTC=U)&&D.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=U&&!(!D.getTimezoneOffset&&!D.timezone)},C.prototype.makeTime=function(D,U,$,H,F,M){if(this.useUTC){var I=this.Date.UTC.apply(0,arguments),A=this.getTimezoneOffset(I);I+=A;var E=this.getTimezoneOffset(I);A!==E?I+=E-A:A-36e5!==this.getTimezoneOffset(I-36e5)||S||(I-=36e5)}else I=new this.Date(D,U,w($,1),w(H,0),w(F,0),w(M,0)).getTime();return I},C.prototype.timezoneOffsetFunction=function(){var D=this,U=this.options,$=U.getTimezoneOffset,H=U.moment||a.moment;if(!this.useUTC)return function(F){return 6e4*new Date(F.toString()).getTimezoneOffset()};if(U.timezone){if(H)return function(F){return 6e4*-H.tz(F,U.timezone).utcOffset()};c(25)}return this.useUTC&&$?function(F){return 6e4*$(F.valueOf())}:function(){return 6e4*(D.timezoneOffset||0)}},C.prototype.dateFormat=function(D,U,$){if(!u(U)||isNaN(U))return i.defaultOptions.lang&&i.defaultOptions.lang.invalidDate||"";D=w(D,"%Y-%m-%d %H:%M:%S");var H=this,F=new this.Date(U),M=this.get("Hours",F),I=this.get("Day",F),A=this.get("Date",F),E=this.get("Month",F),x=this.get("FullYear",F),m=i.defaultOptions.lang,p=m&&m.weekdays,y=m&&m.shortWeekdays;return F=h({a:y?y[I]:p[I].substr(0,3),A:p[I],d:b(A),e:b(A,2," "),w:I,b:m.shortMonths[E],B:m.months[E],m:b(E+1),o:E+1,y:x.toString().substr(2,2),Y:x,H:b(M),k:M,I:b(M%12||12),l:M%12||12,M:b(this.get("Minutes",F)),p:12>M?"AM":"PM",P:12>M?"am":"pm",S:b(F.getSeconds()),L:b(Math.floor(U%1e3),3)},i.dateFormats),g(F,function(R,_){for(;D.indexOf("%"+_)!==-1;)D=D.replace("%"+_,typeof R=="function"?R.call(H,U):R)}),$?D.substr(0,1).toUpperCase()+D.substr(1):D},C.prototype.resolveDTLFormat=function(D){return f(D,!0)?D:(D=T(D),{main:D[0],from:D[1],to:D[2]})},C.prototype.getTimeTicks=function(D,U,$,H){var F=this,M=[],I={},A=new F.Date(U),E=D.unitRange,x=D.count||1,m;if(H=w(H,1),u(U)){if(F.set("Milliseconds",A,E>=P.second?0:x*Math.floor(F.get("Milliseconds",A)/x)),E>=P.second&&F.set("Seconds",A,E>=P.minute?0:x*Math.floor(F.get("Seconds",A)/x)),E>=P.minute&&F.set("Minutes",A,E>=P.hour?0:x*Math.floor(F.get("Minutes",A)/x)),E>=P.hour&&F.set("Hours",A,E>=P.day?0:x*Math.floor(F.get("Hours",A)/x)),E>=P.day&&F.set("Date",A,E>=P.month?1:Math.max(1,x*Math.floor(F.get("Date",A)/x))),E>=P.month){F.set("Month",A,E>=P.year?0:x*Math.floor(F.get("Month",A)/x));var p=F.get("FullYear",A)}E>=P.year&&F.set("FullYear",A,p-p%x),E===P.week&&(p=F.get("Day",A),F.set("Date",A,F.get("Date",A)-p+H+(p<H?-7:0))),p=F.get("FullYear",A),H=F.get("Month",A);var y=F.get("Date",A),R=F.get("Hours",A);for(U=A.getTime(),!F.variableTimezone&&F.useUTC||!u($)||(m=$-U>4*P.month||F.getTimezoneOffset(U)!==F.getTimezoneOffset($)),U=A.getTime(),A=1;U<$;)M.push(U),U=E===P.year?F.makeTime(p+A*x,0):E===P.month?F.makeTime(p,H+A*x):!m||E!==P.day&&E!==P.week?m&&E===P.hour&&1<x?F.makeTime(p,H,y,R+A*x):U+E*x:F.makeTime(p,H,y+A*x*(E===P.day?1:7)),A++;M.push(U),E<=P.hour&&1e4>M.length&&M.forEach(function(_){_%18e5===0&&F.dateFormat("%H%M%S%L",_)==="000000000"&&(I[_]="day")})}return M.info=h(D,{higherRanks:I,totalRange:E*x}),M},C.prototype.getDateFormat=function(D,U,$,H){var F=this.dateFormat("%m-%d %H:%M:%S.%L",U),M={millisecond:15,second:12,minute:9,hour:6,day:3},I="millisecond";for(A in P){if(D===P.week&&+this.dateFormat("%w",U)===$&&F.substr(6)==="00:00:00.000"){var A="week";break}if(P[A]>D){A=I;break}if(M[A]&&F.substr(M[A])!=="01-01 00:00:00.000".substr(M[A]))break;A!=="week"&&(I=A)}return this.resolveDTLFormat(H[A]).main},C}(),o}),n(r,"Core/Defaults.js",[r["Core/Chart/ChartDefaults.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Color/Palettes.js"],r["Core/Time.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){o=o.parse;var f=h.merge,v={colors:u.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:i,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:a.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:o("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};v.chart.styledMode=!1;var g=new c(f(v.global,v.time));return i={defaultOptions:v,defaultTime:g,getOptions:function(){return v},setOptions:function(b){return f(!0,v,b),(b.time||b.global)&&(a.time?a.time.update(f(v.global,v.time,b.global,b.time)):a.time=g),v}},i}),n(r,"Core/Animation/Fx.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.parse,c=o.win,h=a.isNumber,f=a.objectEach;return function(){function v(g,b,w){this.pos=NaN,this.options=b,this.elem=g,this.prop=w}return v.prototype.dSetter=function(){var g=this.paths,b=g&&g[0];g=g&&g[1];var w=this.now||0,T=[];if(w!==1&&b&&g)if(b.length===g.length&&1>w)for(var P=0;P<g.length;P++){for(var k=b[P],S=g[P],C=[],D=0;D<S.length;D++){var U=k[D],$=S[D];h(U)&&h($)&&(S[0]!=="A"||D!==4&&D!==5)?C[D]=U+w*($-U):C[D]=$}T.push(C)}else T=g;else T=this.toD||[];this.elem.attr("d",T,void 0,!0)},v.prototype.update=function(){var g=this.elem,b=this.prop,w=this.now,T=this.options.step;this[b+"Setter"]?this[b+"Setter"]():g.attr?g.element&&g.attr(b,w,null,!0):g.style[b]=w+this.unit,T&&T.call(g,w,this)},v.prototype.run=function(g,b,w){var T=this,P=T.options,k=function(D){return k.stopped?!1:T.step(D)},S=c.requestAnimationFrame||function(D){setTimeout(D,13)},C=function(){for(var D=0;D<v.timers.length;D++)v.timers[D]()||v.timers.splice(D--,1);v.timers.length&&S(C)};g!==b||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=g,this.end=b,this.unit=w,this.now=this.start,this.pos=0,k.elem=this.elem,k.prop=this.prop,k()&&v.timers.push(k)===1&&S(C)):(delete P.curAnim[this.prop],P.complete&&Object.keys(P.curAnim).length===0&&P.complete.call(this.elem))},v.prototype.step=function(g){var b=+new Date,w=this.options,T=this.elem,P=w.complete,k=w.duration,S=w.curAnim;if(T.attr&&!T.element)g=!1;else if(g||b>=k+this.startTime){this.now=this.end,this.pos=1,this.update();var C=S[this.prop]=!0;f(S,function(D){D!==!0&&(C=!1)}),C&&P&&P.call(T),g=!1}else this.pos=w.easing((b-this.startTime)/k),this.now=this.start+(this.end-this.start)*this.pos,this.update(),g=!0;return g},v.prototype.initPath=function(g,b,w){function T(F,M){for(;F.length<H;){var I=F[0],A=M[H-F.length];A&&I[0]==="M"&&(F[0]=A[0]==="C"?["C",I[1],I[2],I[1],I[2],I[1],I[2]]:["L",I[1],I[2]]),F.unshift(I),C&&(I=F.pop(),F.push(F[F.length-1],I))}}function P(F,M){for(;F.length<H;)if(M=F[Math.floor(F.length/D)-1].slice(),M[0]==="C"&&(M[1]=M[5],M[2]=M[6]),C){var I=F[Math.floor(F.length/D)].slice();F.splice(F.length/2,0,M,I)}else F.push(M)}var k=g.startX,S=g.endX;w=w.slice();var C=g.isArea,D=C?2:1;if(b=b&&b.slice(),!b)return[w,w];if(k&&S&&S.length){for(g=0;g<k.length;g++)if(k[g]===S[0]){var U=g;break}else if(k[0]===S[S.length-k.length+g]){U=g;var $=!0;break}else if(k[k.length-1]===S[S.length-k.length+g]){U=k.length-g;break}typeof U>"u"&&(b=[])}if(b.length&&h(U)){var H=w.length+U*D;$?(T(b,w),P(w,b)):(T(w,b),P(b,w))}return[b,w]},v.prototype.fillSetter=function(){v.prototype.strokeSetter.apply(this,arguments)},v.prototype.strokeSetter=function(){this.elem.attr(this.prop,u(this.start).tweenTo(u(this.end),this.pos),void 0,!0)},v.timers=[],v}()}),n(r,"Core/Animation/AnimationUtilities.js",[r["Core/Animation/Fx.js"],r["Core/Utilities.js"]],function(i,o){function a(P){return g(P)?b({duration:500,defer:0},P):{duration:P?500:0,defer:0}}function u(P,k){for(var S=i.timers.length;S--;)i.timers[S].elem!==P||k&&k!==i.timers[S].prop||(i.timers[S].stopped=!0)}var c=o.defined,h=o.getStyle,f=o.isArray,v=o.isNumber,g=o.isObject,b=o.merge,w=o.objectEach,T=o.pick;return{animate:function(P,k,S){var C,D="",U,$;if(!g(S)){var H=arguments;S={duration:H[2],easing:H[3],complete:H[4]}}v(S.duration)||(S.duration=400),S.easing=typeof S.easing=="function"?S.easing:Math[S.easing]||Math.easeInOutSine,S.curAnim=b(k),w(k,function(F,M){u(P,M),$=new i(P,S,M),U=void 0,M==="d"&&f(k.d)?($.paths=$.initPath(P,P.pathArray,k.d),$.toD=k.d,C=0,U=1):P.attr?C=P.attr(M):(C=parseFloat(h(P,M))||0,M!=="opacity"&&(D="px")),U||(U=F),typeof U=="string"&&U.match("px")&&(U=U.replace(/px/g,"")),$.run(C,U,D)})},animObject:a,getDeferredAnimation:function(P,k,S){var C=a(k),D=0,U=0;return(S?[S]:P.series).forEach(function($){$=a($.options.animation),D=k&&c(k.defer)?C.defer:Math.max(D,$.duration+$.defer),U=Math.min(C.duration,$.duration)}),P.renderer.forExport&&(D=0),{defer:Math.max(0,D-U),duration:Math.min(D,U)}},setAnimation:function(P,k){k.renderer.globalAnimation=T(P,k.options.chart.animation,!0)},stop:u}}),n(r,"Core/Renderer/HTML/AST.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){var a=i.SVG_NS,u=o.attr,c=o.createElement,h=o.css,f=o.error,v=o.isFunction,g=o.isString,b=o.objectEach,w=o.splat,T=(o=i.win.trustedTypes)&&v(o.createPolicy)&&o.createPolicy("highcharts",{createHTML:function(S){return S}}),P=T?T.createHTML(""):"";try{var k=!!new DOMParser().parseFromString(P,"text/html")}catch{k=!1}return v=function(){function S(C){this.nodes=typeof C=="string"?this.parseMarkup(C):C}return S.filterUserAttributes=function(C){return b(C,function(D,U){var $=!0;S.allowedAttributes.indexOf(U)===-1&&($=!1),["background","dynsrc","href","lowsrc","src"].indexOf(U)!==-1&&($=g(D)&&S.allowedReferences.some(function(H){return D.indexOf(H)===0})),$||(f(33,!1,void 0,{"Invalid attribute in config":"".concat(U)}),delete C[U]),g(D)&&C[U]&&(C[U]=D.replace(/</g,"&lt;"))}),C},S.parseStyle=function(C){return C.split(";").reduce(function(D,U){U=U.split(":").map(function(H){return H.trim()});var $=U.shift();return $&&U.length&&(D[$.replace(/-([a-z])/g,function(H){return H[1].toUpperCase()})]=U.join(":")),D},{})},S.setElementHTML=function(C,D){C.innerHTML=S.emptyHTML,D&&new S(D).addToDOM(C)},S.prototype.addToDOM=function(C){function D(U,$){var H;return w(U).forEach(function(F){var M=F.tagName,I=F.textContent?i.doc.createTextNode(F.textContent):void 0,A=S.bypassHTMLFiltering;if(M)if(M==="#text")var E=I;else if(S.allowedTags.indexOf(M)!==-1||A){M=i.doc.createElementNS(M==="svg"?a:$.namespaceURI||a,M);var x=F.attributes||{};b(F,function(m,p){p!=="tagName"&&p!=="attributes"&&p!=="children"&&p!=="style"&&p!=="textContent"&&(x[p]=m)}),u(M,A?x:S.filterUserAttributes(x)),F.style&&h(M,F.style),I&&M.appendChild(I),D(F.children||[],M),E=M}else f(33,!1,void 0,{"Invalid tagName in config":M});E&&$.appendChild(E),H=E}),H}return D(this.nodes,C)},S.prototype.parseMarkup=function(C){var D=[];if(C=C.trim().replace(/ style=(["'])/g," data-style=$1"),k)C=new DOMParser().parseFromString(T?T.createHTML(C):C,"text/html");else{var U=c("div");U.innerHTML=C,C={body:U}}var $=function(H,F){var M=H.nodeName.toLowerCase(),I={tagName:M};if(M==="#text"&&(I.textContent=H.textContent||""),M=H.attributes){var A={};[].forEach.call(M,function(x){x.name==="data-style"?I.style=S.parseStyle(x.value):A[x.name]=x.value}),I.attributes=A}if(H.childNodes.length){var E=[];[].forEach.call(H.childNodes,function(x){$(x,E)}),E.length&&(I.children=E)}F.push(I)};return[].forEach.call(C.body.childNodes,function(H){return $(H,D)}),D},S.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),S.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),S.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),S.emptyHTML=P,S.bypassHTMLFiltering=!1,S}(),v}),n(r,"Core/FormatUtilities.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(i,o){function a(b,w,T,P){b=+b||0,w=+w;var k=u.lang,S=(b.toString().split(".")[1]||"").split("e")[0].length,C=b.toString().split("e"),D=w;if(w===-1)w=Math.min(S,20);else if(!f(w))w=2;else if(w&&C[1]&&0>C[1]){var U=w+ +C[1];0<=U?(C[0]=(+C[0]).toExponential(U).split("e")[0],w=U):(C[0]=C[0].split(".")[0]||0,b=20>w?(C[0]*Math.pow(10,C[1])).toFixed(w):0,C[1]=0)}U=(Math.abs(C[1]?C[0]:b)+Math.pow(10,-Math.max(w,S)-1)).toFixed(w),S=String(g(U));var $=3<S.length?S.length%3:0;return T=v(T,k.decimalPoint),P=v(P,k.thousandsSep),b=(0>b?"-":"")+($?S.substr(0,$)+P:""),b=0>+C[1]&&!D?"0":b+S.substr($).replace(/(\d{3})(?=\d)/g,"$1"+P),w&&(b+=T+U.slice(-w)),C[1]&&+b!=0&&(b+="e"+C[1]),b}var u=i.defaultOptions,c=i.defaultTime,h=o.getNestedProperty,f=o.isNumber,v=o.pick,g=o.pInt;return{dateFormat:function(b,w,T){return c.dateFormat(b,w,T)},format:function(b,w,T){var P="{",k=!1,S=/f$/,C=/\.([0-9])/,D=u.lang,U=T&&T.time||c;T=T&&T.numberFormatter||a;for(var $=[];b;){var H=b.indexOf(P);if(H===-1)break;var F=b.slice(0,H);if(k){if(F=F.split(":"),P=h(F.shift()||"",w),F.length&&typeof P=="number")if(F=F.join(":"),S.test(F)){var M=parseInt((F.match(C)||["","-1"])[1],10);P!==null&&(P=T(P,M,D.decimalPoint,-1<F.indexOf(",")?D.thousandsSep:""))}else P=U.dateFormat(F,P);$.push(P)}else $.push(F);b=b.slice(H+1),P=(k=!k)?"}":"{"}return $.push(b),$.join("")},numberFormat:a}}),n(r,"Core/Renderer/RendererUtilities.js",[r["Core/Utilities.js"]],function(i){var o=i.clamp,a=i.pick,u=i.stableSort,c;return function(h){function f(v,g,b){var w=v,T=w.reducedLen||g,P=function($,H){return(H.rank||0)-($.rank||0)},k=function($,H){return $.target-H.target},S,C=!0,D=[],U=0;for(S=v.length;S--;)U+=v[S].size;if(U>T){for(u(v,P),U=S=0;U<=T;)U+=v[S].size,S++;D=v.splice(S-1,v.length)}for(u(v,k),v=v.map(function($){return{size:$.size,targets:[$.target],align:a($.align,.5)}});C;){for(S=v.length;S--;)T=v[S],P=(Math.min.apply(0,T.targets)+Math.max.apply(0,T.targets))/2,T.pos=o(P-T.size*T.align,0,g-T.size);for(S=v.length,C=!1;S--;)0<S&&v[S-1].pos+v[S-1].size>v[S].pos&&(v[S-1].size+=v[S].size,v[S-1].targets=v[S-1].targets.concat(v[S].targets),v[S-1].align=.5,v[S-1].pos+v[S-1].size>g&&(v[S-1].pos=g-v[S-1].size),v.splice(S,1),C=!0)}return w.push.apply(w,D),S=0,v.some(function($){var H=0;return($.targets||[]).some(function(){return w[S].pos=$.pos+H,typeof b<"u"&&Math.abs(w[S].pos-w[S].target)>b?(w.slice(0,S+1).forEach(function(F){return delete F.pos}),w.reducedLen=(w.reducedLen||g)-.1*g,w.reducedLen>.1*g&&f(w,g,b),!0):(H+=w[S].size,S++,!1)})}),u(w,k),w}h.distribute=f}(c||(c={})),c}),n(r,"Core/Renderer/SVG/SVGElement.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=i.animate,h=i.animObject,f=i.stop,v=a.deg2rad,g=a.doc,b=a.svg,w=a.SVG_NS,T=a.win,P=u.addEvent,k=u.attr,S=u.createElement,C=u.css,D=u.defined,U=u.erase,$=u.extend,H=u.fireEvent,F=u.isArray,M=u.isFunction,I=u.isString,A=u.merge,E=u.objectEach,x=u.pick,m=u.pInt,p=u.syncTimeout,y=u.uniqueKey;return i=function(){function R(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=w,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return R.prototype._defaultGetter=function(_){return _=x(this[_+"Value"],this[_],this.element?this.element.getAttribute(_):null,0),/^[\-0-9\.]+$/.test(_)&&(_=parseFloat(_)),_},R.prototype._defaultSetter=function(_,L,z){z.setAttribute(L,_)},R.prototype.add=function(_){var L=this.renderer,z=this.element;if(_&&(this.parentGroup=_),typeof this.textStr<"u"&&this.element.nodeName==="text"&&L.buildText(this),this.added=!0,!_||_.handleZ||this.zIndex)var K=this.zIndexSetter();return K||(_?_.element:L.box).appendChild(z),this.onAdd&&this.onAdd(),this},R.prototype.addClass=function(_,L){var z=L?"":this.attr("class")||"";return _=(_||"").split(/ /g).reduce(function(K,X){return z.indexOf(X)===-1&&K.push(X),K},z?[z]:[]).join(" "),_!==z&&this.attr("class",_),this},R.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},R.prototype.align=function(_,L,z){var K={},X=this.renderer,O=X.alignedObjects,j,W,q;_?(this.alignOptions=_,this.alignByTranslate=L,(!z||I(z))&&(this.alignTo=j=z||"renderer",U(O,this),O.push(this),z=void 0)):(_=this.alignOptions,L=this.alignByTranslate,j=this.alignTo),z=x(z,X[j],j==="scrollablePlotBox"?X.plotBox:void 0,X),j=_.align;var Q=_.verticalAlign;return X=(z.x||0)+(_.x||0),O=(z.y||0)+(_.y||0),j==="right"?W=1:j==="center"&&(W=2),W&&(X+=(z.width-(_.width||0))/W),K[L?"translateX":"x"]=Math.round(X),Q==="bottom"?q=1:Q==="middle"&&(q=2),q&&(O+=(z.height-(_.height||0))/q),K[L?"translateY":"y"]=Math.round(O),this[this.placed?"animate":"attr"](K),this.placed=!0,this.alignAttr=K,this},R.prototype.alignSetter=function(_){var L={left:"start",center:"middle",right:"end"};L[_]&&(this.alignValue=_,this.element.setAttribute("text-anchor",L[_]))},R.prototype.animate=function(_,L,z){var K=this,X=h(x(L,this.renderer.globalAnimation,!0));return L=X.defer,x(g.hidden,g.msHidden,g.webkitHidden,!1)&&(X.duration=0),X.duration!==0?(z&&(X.complete=z),p(function(){K.element&&c(K,_,X)},L)):(this.attr(_,void 0,z||X.complete),E(_,function(O,j){X.step&&X.step.call(this,O,{prop:j,pos:1,elem:this})},this)),this},R.prototype.applyTextOutline=function(_){var L=this.element;_.indexOf("contrast")!==-1&&(_=_.replace(/contrast/g,this.renderer.getContrast(L.style.fill)));var z=_.split(" ");if(_=z[z.length-1],(z=z[0])&&z!=="none"&&a.svg){this.fakeTS=!0,z=z.replace(/(^[\d\.]+)(.*?)$/g,function(O,j,W){return 2*Number(j)+W}),this.removeTextOutline();var K=g.createElementNS(w,"tspan");k(K,{class:"highcharts-text-outline",fill:_,stroke:_,"stroke-width":z,"stroke-linejoin":"round"}),_=L.querySelector("textPath")||L,[].forEach.call(_.childNodes,function(O){var j=O.cloneNode(!0);j.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(W){return j.removeAttribute(W)}),K.appendChild(j)});var X=0;[].forEach.call(_.querySelectorAll("text tspan"),function(O){X+=Number(O.getAttribute("dy"))}),z=g.createElementNS(w,"tspan"),z.textContent="​",k(z,{x:Number(L.getAttribute("x")),dy:-X}),K.appendChild(z),_.insertBefore(K,_.firstChild)}},R.prototype.attr=function(_,L,z,K){var X=this.element,O=this.symbolCustomAttribs,j,W=this,q,Q;if(typeof _=="string"&&typeof L<"u"){var B=_;_={},_[B]=L}return typeof _=="string"?W=(this[_+"Getter"]||this._defaultGetter).call(this,_,X):(E(_,function(Y,G){q=!1,K||f(this,G),this.symbolName&&O.indexOf(G)!==-1&&(j||(this.symbolAttr(_),j=!0),q=!0),!this.rotation||G!=="x"&&G!=="y"||(this.doTransform=!0),q||(Q=this[G+"Setter"]||this._defaultSetter,Q.call(this,Y,G,X),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(G)&&this.updateShadows(G,Y,Q))},this),this.afterSetters()),z&&z.call(this),W},R.prototype.clip=function(_){return this.attr("clip-path",_?"url("+this.renderer.url+"#"+_.id+")":"none")},R.prototype.crisp=function(_,L){L=L||_.strokeWidth||0;var z=Math.round(L)%2/2;return _.x=Math.floor(_.x||this.x||0)+z,_.y=Math.floor(_.y||this.y||0)+z,_.width=Math.floor((_.width||this.width||0)-2*z),_.height=Math.floor((_.height||this.height||0)-2*z),D(_.strokeWidth)&&(_.strokeWidth=L),_},R.prototype.complexColor=function(_,L,z){var K=this.renderer,X,O,j,W,q,Q,B,Y,G,Z,J=[],et;H(this.renderer,"complexColor",{args:arguments},function(){if(_.radialGradient?O="radialGradient":_.linearGradient&&(O="linearGradient"),O){if(j=_[O],q=K.gradients,Q=_.stops,G=z.radialReference,F(j)&&(_[O]=j={x1:j[0],y1:j[1],x2:j[2],y2:j[3],gradientUnits:"userSpaceOnUse"}),O==="radialGradient"&&G&&!D(j.gradientUnits)&&(W=j,j=A(j,K.getRadialAttr(G,W),{gradientUnits:"userSpaceOnUse"})),E(j,function(at,st){st!=="id"&&J.push(st,at)}),E(Q,function(at){J.push(at)}),J=J.join(","),q[J])Z=q[J].attr("id");else{j.id=Z=y();var nt=q[J]=K.createElement(O).attr(j).add(K.defs);nt.radAttr=W,nt.stops=[],Q.forEach(function(at){at[1].indexOf("rgba")===0?(X=o.parse(at[1]),B=X.get("rgb"),Y=X.get("a")):(B=at[1],Y=1),at=K.createElement("stop").attr({offset:at[0],"stop-color":B,"stop-opacity":Y}).add(nt),nt.stops.push(at)})}et="url("+K.url+"#"+Z+")",z.setAttribute(L,et),z.gradient=J,_.toString=function(){return et}}})},R.prototype.css=function(_){var L=this.styles,z={},K=this.element,X=!L;if(_.color&&(_.fill=_.color),L&&E(_,function(W,q){L&&L[q]!==W&&(z[q]=W,X=!0)}),X){if(L&&(_=$(L,z)),_.width===null||_.width==="auto")delete this.textWidth;else if(K.nodeName.toLowerCase()==="text"&&_.width)var O=this.textWidth=m(_.width);this.styles=_,O&&!b&&this.renderer.forExport&&delete _.width;var j=A(_);K.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(W){return j&&delete j[W]}),C(K,j),this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),_.textOutline&&this.applyTextOutline(_.textOutline))}return this},R.prototype.dashstyleSetter=function(_){var L=this["stroke-width"];if(L==="inherit"&&(L=1),_=_&&_.toLowerCase()){var z=_.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(_=z.length;_--;)z[_]=""+m(z[_])*x(L,NaN);_=z.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",_)}},R.prototype.destroy=function(){var _=this,L=_.element||{},z=_.renderer,K=L.ownerSVGElement,X=z.isSVG&&L.nodeName==="SPAN"&&_.parentGroup||void 0;if(L.onclick=L.onmouseout=L.onmouseover=L.onmousemove=L.point=null,f(_),_.clipPath&&K){var O=_.clipPath;[].forEach.call(K.querySelectorAll("[clip-path],[CLIP-PATH]"),function(j){-1<j.getAttribute("clip-path").indexOf(O.element.id)&&j.removeAttribute("clip-path")}),_.clipPath=O.destroy()}if(_.stops){for(K=0;K<_.stops.length;K++)_.stops[K].destroy();_.stops.length=0,_.stops=void 0}for(_.safeRemoveChild(L),z.styledMode||_.destroyShadows();X&&X.div&&X.div.childNodes.length===0;)L=X.parentGroup,_.safeRemoveChild(X.div),delete X.div,X=L;_.alignTo&&U(z.alignedObjects,_),E(_,function(j,W){_[W]&&_[W].parentGroup===_&&_[W].destroy&&_[W].destroy(),delete _[W]})},R.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(_){this.safeRemoveChild(_)},this),this.shadows=void 0},R.prototype.dSetter=function(_,L,z){F(_)&&(typeof _[0]=="string"&&(_=this.renderer.pathToSegments(_)),this.pathArray=_,_=_.reduce(function(K,X,O){return X&&X.join?(O?K+" ":"")+X.join(" "):(X||"").toString()},"")),/(NaN| {2}|^$)/.test(_)&&(_="M 0 0"),this[L]!==_&&(z.setAttribute(L,_),this[L]=_)},R.prototype.fadeOut=function(_){var L=this;L.animate({opacity:0},{duration:x(_,150),complete:function(){L.hide()}})},R.prototype.fillSetter=function(_,L,z){typeof _=="string"?z.setAttribute(L,_):_&&this.complexColor(_,L,z)},R.prototype.getBBox=function(_,L){var z=this.alignValue,K=this.element,X=this.renderer,O=this.styles,j=this.textStr,W=X.cache,q=X.cacheKeys,Q=K.namespaceURI===this.SVG_NS;L=x(L,this.rotation,0);var B=X.styledMode?K&&R.prototype.getStyle.call(K,"font-size"):O&&O.fontSize,Y;if(D(j)){var G=j.toString();G.indexOf("<")===-1&&(G=G.replace(/[0-9]/g,"0")),G+=["",L,B,this.textWidth,z,O&&O.textOverflow,O&&O.fontWeight].join()}if(G&&!_&&(Y=W[G]),!Y){if(Q||X.forExport){try{var Z=this.fakeTS&&function(et){var nt=K.querySelector(".highcharts-text-outline");nt&&C(nt,{display:et})};M(Z)&&Z("none"),Y=K.getBBox?$({},K.getBBox()):{width:K.offsetWidth,height:K.offsetHeight,x:0,y:0},M(Z)&&Z("")}catch{}(!Y||0>Y.width)&&(Y={x:0,y:0,width:0,height:0})}else Y=this.htmlGetBBox();if(X.isSVG&&(X=Y.width,_=Y.height,Q&&(Y.height=_={"11px,17":14,"13px,20":16}[""+(B||"")+",".concat(Math.round(_))]||_),L)){Q=Number(K.getAttribute("y")||0)-Y.y,z={right:1,center:.5}[z||0]||0,O=L*v,B=(L-90)*v;var J=X*Math.cos(O);L=X*Math.sin(O),Z=Math.cos(B),O=Math.sin(B),X=Y.x+z*(X-J)+Q*Z,B=X+J,Z=B-_*Z,J=Z-J,Q=Y.y+Q-z*L+Q*O,z=Q+L,_=z-_*O,L=_-L,Y.x=Math.min(X,B,Z,J),Y.y=Math.min(Q,z,_,L),Y.width=Math.max(X,B,Z,J)-Y.x,Y.height=Math.max(Q,z,_,L)-Y.y}if(G&&(j===""||0<Y.height)){for(;250<q.length;)delete W[q.shift()];W[G]||q.push(G),W[G]=Y}}return Y},R.prototype.getStyle=function(_){return T.getComputedStyle(this.element||this,"").getPropertyValue(_)},R.prototype.hasClass=function(_){return(""+this.attr("class")).split(" ").indexOf(_)!==-1},R.prototype.hide=function(){return this.attr({visibility:"hidden"})},R.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},R.prototype.init=function(_,L){this.element=L==="span"?S(L):g.createElementNS(this.SVG_NS,L),this.renderer=_,H(this,"afterInit")},R.prototype.on=function(_,L){var z=this.onEvents;return z[_]&&z[_](),z[_]=P(this.element,_,L),this},R.prototype.opacitySetter=function(_,L,z){this.opacity=_=Number(Number(_).toFixed(3)),z.setAttribute(L,_)},R.prototype.removeClass=function(_){return this.attr("class",(""+this.attr("class")).replace(I(_)?new RegExp("(^| )".concat(_,"( |$)")):_," ").replace(/ +/g," ").trim())},R.prototype.removeTextOutline=function(){var _=this.element.querySelector("tspan.highcharts-text-outline");_&&this.safeRemoveChild(_)},R.prototype.safeRemoveChild=function(_){var L=_.parentNode;L&&L.removeChild(_)},R.prototype.setRadialReference=function(_){var L=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=_,L&&L.radAttr&&L.animate(this.renderer.getRadialAttr(_,L.radAttr)),this},R.prototype.setTextPath=function(_,L){var z=this;L=A(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},L);var K=this.renderer.url,X=this.text||this,O=X.textPath,j=L.attributes,W=L.enabled;return _=_||O&&O.path,O&&O.undo(),_&&W?(L=P(X,"afterModifyTree",function(q){if(_&&W){var Q=_.attr("id");Q||_.attr("id",Q=y());var B={x:0,y:0};D(j.dx)&&(B.dx=j.dx,delete j.dx),D(j.dy)&&(B.dy=j.dy,delete j.dy),X.attr(B),z.attr({transform:""}),z.box&&(z.box=z.box.destroy()),B=q.nodes.slice(0),q.nodes.length=0,q.nodes[0]={tagName:"textPath",attributes:$(j,{"text-anchor":j.textAnchor,href:""+K+"#".concat(Q)}),children:B}}}),X.textPath={path:_,undo:L}):(X.attr({dx:0,dy:0}),delete X.textPath),this.added&&(X.textCache="",this.renderer.buildText(X)),this},R.prototype.shadow=function(_,L,z){var K=[],X=this.element,O=this.oldShadowOptions,j=this.parentGroup,W=j&&j.rotation===90;j={color:"#000000",offsetX:W?-1:1,offsetY:W?-1:1,opacity:.15,width:3};var q=!1,Q;if(_===!0?Q=j:typeof _=="object"&&(Q=$(j,_)),Q&&(Q&&O&&E(Q,function(Z,J){Z!==O[J]&&(q=!0)}),q&&this.destroyShadows(),this.oldShadowOptions=Q),!Q)this.destroyShadows();else if(!this.shadows){j=Q.opacity/Q.width;var B=W?"translate(".concat(Q.offsetY,", ").concat(Q.offsetX,")"):"translate(".concat(Q.offsetX,", ").concat(Q.offsetY,")");for(W=1;W<=Q.width;W++){var Y=X.cloneNode(!1),G=2*Q.width+1-2*W;k(Y,{stroke:_.color||"#000000","stroke-opacity":j*W,"stroke-width":G,transform:B,fill:"none"}),Y.setAttribute("class",(Y.getAttribute("class")||"")+" highcharts-shadow"),z&&(k(Y,"height",Math.max(k(Y,"height")-G,0)),Y.cutHeight=G),L?L.element.appendChild(Y):X.parentNode&&X.parentNode.insertBefore(Y,X),K.push(Y)}this.shadows=K}return this},R.prototype.show=function(_){return _===void 0&&(_=!0),this.attr({visibility:_?"inherit":"visible"})},R.prototype["stroke-widthSetter"]=function(_,L,z){this[L]=_,z.setAttribute(L,_)},R.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var _=this.getStyle("stroke-width"),L=0;if(_.indexOf("px")===_.length-2)L=m(_);else if(_!==""){var z=g.createElementNS(w,"rect");k(z,{width:_,"stroke-width":0}),this.element.parentNode.appendChild(z),L=z.getBBox().width,z.parentNode.removeChild(z)}return L},R.prototype.symbolAttr=function(_){var L=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(z){L[z]=x(_[z],L[z])}),L.attr({d:L.renderer.symbols[L.symbolName](L.x,L.y,L.width,L.height,L)})},R.prototype.textSetter=function(_){_!==this.textStr&&(delete this.textPxLength,this.textStr=_,this.added&&this.renderer.buildText(this))},R.prototype.titleSetter=function(_){var L=this.element,z=L.getElementsByTagName("title")[0]||g.createElementNS(this.SVG_NS,"title");L.insertBefore?L.insertBefore(z,L.firstChild):L.appendChild(z),z.textContent=String(x(_,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},R.prototype.toFront=function(){var _=this.element;return _.parentNode.appendChild(_),this},R.prototype.translate=function(_,L){return this.attr({translateX:_,translateY:L})},R.prototype.updateShadows=function(_,L,z){var K=this.shadows;if(K)for(var X=K.length;X--;)z.call(K[X],_==="height"?Math.max(L-(K[X].cutHeight||0),0):_==="d"?this.d:L,_,K[X])},R.prototype.updateTransform=function(){var _=this.element,L=this.matrix,z=this.rotation;z=z===void 0?0:z;var K=this.scaleX,X=this.scaleY,O=this.translateX,j=this.translateY;O=["translate("+(O===void 0?0:O)+","+(j===void 0?0:j)+")"],D(L)&&O.push("matrix("+L.join(",")+")"),z&&O.push("rotate("+z+" "+x(this.rotationOriginX,_.getAttribute("x"),0)+" "+x(this.rotationOriginY,_.getAttribute("y")||0)+")"),(D(K)||D(X))&&O.push("scale("+x(K,1)+" "+x(X,1)+")"),O.length&&!(this.text||this).textPath&&_.setAttribute("transform",O.join(" "))},R.prototype.visibilitySetter=function(_,L,z){_==="inherit"?z.removeAttribute(L):this[L]!==_&&z.setAttribute(L,_),this[L]=_},R.prototype.xGetter=function(_){return this.element.nodeName==="circle"&&(_==="x"?_="cx":_==="y"&&(_="cy")),this._defaultGetter(_)},R.prototype.zIndexSetter=function(_,L){var z=this.renderer,K=this.parentGroup,X=(K||z).element||z.box,O=this.element;z=X===z.box;var j=!1,W=this.added,q;if(D(_)?(O.setAttribute("data-z-index",_),_=+_,this[L]===_&&(W=!1)):D(this[L])&&O.removeAttribute("data-z-index"),this[L]=_,W){for((_=this.zIndex)&&K&&(K.handleZ=!0),L=X.childNodes,q=L.length-1;0<=q&&!j;q--){K=L[q],W=K.getAttribute("data-z-index");var Q=!D(W);K!==O&&(0>_&&Q&&!z&&!q?(X.insertBefore(O,L[q]),j=!0):(m(W)<=_||Q&&(!D(_)||0<=_))&&(X.insertBefore(O,L[q+1]||null),j=!0))}j||(X.insertBefore(O,L[z?3:0]||null),j=!0)}return j},R}(),i.prototype.strokeSetter=i.prototype.fillSetter,i.prototype.yGetter=i.prototype.xGetter,i.prototype.matrixSetter=i.prototype.rotationOriginXSetter=i.prototype.rotationOriginYSetter=i.prototype.rotationSetter=i.prototype.scaleXSetter=i.prototype.scaleYSetter=i.prototype.translateXSetter=i.prototype.translateYSetter=i.prototype.verticalAlignSetter=function(R,_){this[_]=R,this.doTransform=!0},i}),n(r,"Core/Renderer/RendererRegistry.js",[r["Core/Globals.js"]],function(i){var o;return function(a){a.rendererTypes={};var u;a.getRendererType=function(c){return c===void 0&&(c=u),a.rendererTypes[c]||a.rendererTypes[u]},a.registerRendererType=function(c,h,f){a.rendererTypes[c]=h,(!u||f)&&(u=c,i.Renderer=h)}}(o||(o={})),o}),n(r,"Core/Renderer/SVG/SVGLabel.js",[r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o){var a=this&&this.__extends||function(){var b=function(w,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var S in k)k.hasOwnProperty(S)&&(P[S]=k[S])},b(w,T)};return function(w,T){function P(){this.constructor=w}b(w,T),w.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}(),u=o.defined,c=o.extend,h=o.isNumber,f=o.merge,v=o.pick,g=o.removeEvent;return function(b){function w(T,P,k,S,C,D,U,$,H,F){var M=b.call(this)||this;M.paddingLeftSetter=M.paddingSetter,M.paddingRightSetter=M.paddingSetter,M.init(T,"g"),M.textStr=P,M.x=k,M.y=S,M.anchorX=D,M.anchorY=U,M.baseline=H,M.className=F,M.addClass(F==="button"?"highcharts-no-tooltip":"highcharts-label"),F&&M.addClass("highcharts-"+F),M.text=T.text(void 0,0,0,$).attr({zIndex:1});var I;return typeof C=="string"&&((I=/^url\((.*?)\)$/.test(C))||M.renderer.symbols[C])&&(M.symbolKey=C),M.bBox=w.emptyBBox,M.padding=3,M.baselineOffset=0,M.needsBox=T.styledMode||I,M.deferredAttr={},M.alignFactor=0,M}return a(w,b),w.prototype.alignSetter=function(T){T={left:0,center:.5,right:1}[T],T!==this.alignFactor&&(this.alignFactor=T,this.bBox&&h(this.xSetting)&&this.attr({x:this.xSetting}))},w.prototype.anchorXSetter=function(T,P){this.anchorX=T,this.boxAttr(P,Math.round(T)-this.getCrispAdjust()-this.xSetting)},w.prototype.anchorYSetter=function(T,P){this.anchorY=T,this.boxAttr(P,T-this.ySetting)},w.prototype.boxAttr=function(T,P){this.box?this.box.attr(T,P):this.deferredAttr[T]=P},w.prototype.css=function(T){if(T){var P={};T=f(T),w.textProps.forEach(function(k){typeof T[k]<"u"&&(P[k]=T[k],delete T[k])}),this.text.css(P),"fontSize"in P||"fontWeight"in P?this.updateTextPadding():("width"in P||"textOverflow"in P)&&this.updateBoxSize()}return i.prototype.css.call(this,T)},w.prototype.destroy=function(){g(this.element,"mouseenter"),g(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),i.prototype.destroy.call(this)},w.prototype.fillSetter=function(T,P){T&&(this.needsBox=!0),this.fill=T,this.boxAttr(P,T)},w.prototype.getBBox=function(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();var T=this.padding,P=v(this.paddingLeft,T);return{width:this.width,height:this.height,x:this.bBox.x-P,y:this.bBox.y-T}},w.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},w.prototype.heightSetter=function(T){this.heightSetting=T},w.prototype.onAdd=function(){this.text.add(this),this.attr({text:v(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&u(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},w.prototype.paddingSetter=function(T,P){h(T)?T!==this[P]&&(this[P]=T,this.updateTextPadding()):this[P]=void 0},w.prototype.rSetter=function(T,P){this.boxAttr(P,T)},w.prototype.shadow=function(T){return T&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(T)),this},w.prototype.strokeSetter=function(T,P){this.stroke=T,this.boxAttr(P,T)},w.prototype["stroke-widthSetter"]=function(T,P){T&&(this.needsBox=!0),this["stroke-width"]=T,this.boxAttr(P,T)},w.prototype["text-alignSetter"]=function(T){this.textAlign=T},w.prototype.textSetter=function(T){typeof T<"u"&&this.text.attr({text:T}),this.updateTextPadding()},w.prototype.updateBoxSize=function(){var T=this.text,P=T.element.style,k={},S=this.padding,C=this.bBox=h(this.widthSetting)&&h(this.heightSetting)&&!this.textAlign||!u(T.textStr)?w.emptyBBox:T.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||C.height||0)+2*S,P=this.renderer.fontMetrics(P&&P.fontSize,T),this.baselineOffset=S+Math.min((this.text.firstLineMetrics||P).b,C.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-P.h)/2),this.needsBox&&!T.textPath&&(this.box||(T=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),T.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),T.add(this)),T=this.getCrispAdjust(),k.x=T,k.y=(this.baseline?-this.baselineOffset:0)+T,k.width=Math.round(this.width),k.height=Math.round(this.height),this.box.attr(c(k,this.deferredAttr)),this.deferredAttr={})},w.prototype.updateTextPadding=function(){var T=this.text;if(!T.textPath){this.updateBoxSize();var P=this.baseline?0:this.baselineOffset,k=v(this.paddingLeft,this.padding);u(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(k+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(k!==T.x||P!==T.y)&&(T.attr("x",k),T.hasBoxWidthChanged&&(this.bBox=T.getBBox(!0)),typeof P<"u"&&T.attr("y",P)),T.x=k,T.y=P}},w.prototype.widthSetter=function(T){this.widthSetting=h(T)?T:void 0},w.prototype.getPaddedWidth=function(){var T=this.padding,P=v(this.paddingLeft,T);return T=v(this.paddingRight,T),(this.widthSetting||this.bBox.width||0)+P+T},w.prototype.xSetter=function(T){this.x=T,this.alignFactor&&(T-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(T),this.attr("translateX",this.xSetting)},w.prototype.ySetter=function(T){this.ySetting=this.y=Math.round(T),this.attr("translateY",this.ySetting)},w.emptyBBox={width:0,height:0,x:0,y:0},w.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),w}(i)}),n(r,"Core/Renderer/SVG/Symbols.js",[r["Core/Utilities.js"]],function(i){function o(v,g,b,w,T){var P=[];if(T){var k=T.start||0,S=f(T.r,b);b=f(T.r,w||b);var C=(T.end||0)-.001;w=T.innerR;var D=f(T.open,.001>Math.abs((T.end||0)-k-2*Math.PI)),U=Math.cos(k),$=Math.sin(k),H=Math.cos(C),F=Math.sin(C);k=f(T.longArc,.001>C-k-Math.PI?0:1),P.push(["M",v+S*U,g+b*$],["A",S,b,0,k,f(T.clockwise,1),v+S*H,g+b*F]),c(w)&&P.push(D?["M",v+w*H,g+w*F]:["L",v+w*H,g+w*F],["A",w,w,0,k,c(T.clockwise)?1-T.clockwise:0,v+w*U,g+w*$]),D||P.push(["Z"])}return P}function a(v,g,b,w,T){return T&&T.r?u(v,g,b,w,T):[["M",v,g],["L",v+b,g],["L",v+b,g+w],["L",v,g+w],["Z"]]}function u(v,g,b,w,T){return T=T&&T.r||0,[["M",v+T,g],["L",v+b-T,g],["C",v+b,g,v+b,g,v+b,g+T],["L",v+b,g+w-T],["C",v+b,g+w,v+b,g+w,v+b-T,g+w],["L",v+T,g+w],["C",v,g+w,v,g+w,v,g+w-T],["L",v,g+T],["C",v,g,v,g,v+T,g]]}var c=i.defined,h=i.isNumber,f=i.pick;return{arc:o,callout:function(v,g,b,w,T){var P=Math.min(T&&T.r||0,b,w),k=P+6,S=T&&T.anchorX;T=T&&T.anchorY||0;var C=u(v,g,b,w,{r:P});return h(S)&&(v+S>=b?T>g+k&&T<g+w-k?C.splice(3,1,["L",v+b,T-6],["L",v+b+6,T],["L",v+b,T+6],["L",v+b,g+w-P]):C.splice(3,1,["L",v+b,w/2],["L",S,T],["L",v+b,w/2],["L",v+b,g+w-P]):0>=v+S?T>g+k&&T<g+w-k?C.splice(7,1,["L",v,T+6],["L",v-6,T],["L",v,T-6],["L",v,g+P]):C.splice(7,1,["L",v,w/2],["L",S,T],["L",v,w/2],["L",v,g+P]):T&&T>w&&S>v+k&&S<v+b-k?C.splice(5,1,["L",S+6,g+w],["L",S,g+w+6],["L",S-6,g+w],["L",v+P,g+w]):T&&0>T&&S>v+k&&S<v+b-k&&C.splice(1,1,["L",S-6,g],["L",S,g-6],["L",S+6,g],["L",b-P,g])),C},circle:function(v,g,b,w){return o(v+b/2,g+w/2,b/2,w/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(v,g,b,w){return[["M",v+b/2,g],["L",v+b,g+w/2],["L",v+b/2,g+w],["L",v,g+w/2],["Z"]]},rect:a,roundedRect:u,square:a,triangle:function(v,g,b,w){return[["M",v+b/2,g],["L",v+b,g+w],["L",v,g+w],["Z"]]},"triangle-down":function(v,g,b,w){return[["M",v,g],["L",v+b,g],["L",v+b/2,g+w],["Z"]]}}}),n(r,"Core/Renderer/SVG/TextBuilder.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a){var u=o.doc,c=o.SVG_NS,h=o.win,f=a.attr,v=a.extend,g=a.fireEvent,b=a.isString,w=a.objectEach,T=a.pick;return function(){function P(k){var S=k.styles;this.renderer=k.renderer,this.svgElement=k,this.width=k.textWidth,this.textLineHeight=S&&S.lineHeight,this.textOutline=S&&S.textOutline,this.ellipsis=!(!S||S.textOverflow!=="ellipsis"),this.noWrap=!(!S||S.whiteSpace!=="nowrap"),this.fontSize=S&&S.fontSize}return P.prototype.buildSVG=function(){var k=this.svgElement,S=k.element,C=k.renderer,D=T(k.textStr,"").toString(),U=D.indexOf("<")!==-1,$=S.childNodes;C=this.width&&!k.added&&C.box;var H=/<br.*?>/g,F=[D,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(F!==k.textCache){for(k.textCache=F,delete k.actualWidth,F=$.length;F--;)S.removeChild($[F]);U||this.ellipsis||this.width||k.textPath||D.indexOf(" ")!==-1&&(!this.noWrap||H.test(D))?D!==""&&(C&&C.appendChild(S),D=new i(D),this.modifyTree(D.nodes),D.addToDOM(S),this.modifyDOM(),this.ellipsis&&(S.textContent||"").indexOf("…")!==-1&&k.attr("title",this.unescapeEntities(k.textStr||"",["&lt;","&gt;"])),C&&C.removeChild(S)):S.appendChild(u.createTextNode(this.unescapeEntities(D))),b(this.textOutline)&&k.applyTextOutline&&k.applyTextOutline(this.textOutline)}},P.prototype.modifyDOM=function(){var k=this,S=this.svgElement,C=f(S.element,"x");S.firstLineMetrics=void 0;for(var D;(D=S.element.firstChild)&&/^[\s\u200B]*$/.test(D.textContent||" ");)S.element.removeChild(D);[].forEach.call(S.element.querySelectorAll("tspan.highcharts-br"),function(F,M){F.nextSibling&&F.previousSibling&&(M===0&&F.previousSibling.nodeType===1&&(S.firstLineMetrics=S.renderer.fontMetrics(void 0,F.previousSibling)),f(F,{dy:k.getLineHeight(F.nextSibling),x:C}))});var U=this.width||0;if(U){var $=function(F,M){var I=F.textContent||"",A=I.replace(/([^\^])-/g,"$1- ").split(" "),E=!k.noWrap&&(1<A.length||1<S.element.childNodes.length),x=k.getLineHeight(M),m=0,p=S.actualWidth;if(k.ellipsis)I&&k.truncate(F,I,void 0,0,Math.max(0,U-parseInt(k.fontSize||12,10)),function(y,R){return y.substring(0,R)+"…"});else if(E){for(I=[],E=[];M.firstChild&&M.firstChild!==F;)E.push(M.firstChild),M.removeChild(M.firstChild);for(;A.length;)A.length&&!k.noWrap&&0<m&&(I.push(F.textContent||""),F.textContent=A.join(" ").replace(/- /g,"-")),k.truncate(F,void 0,A,m===0&&p||0,U,function(y,R){return A.slice(0,R).join(" ").replace(/- /g,"-")}),p=S.actualWidth,m++;E.forEach(function(y){M.insertBefore(y,F)}),I.forEach(function(y){M.insertBefore(u.createTextNode(y),F),y=u.createElementNS(c,"tspan"),y.textContent="​",f(y,{dy:x,x:C}),M.insertBefore(y,F)})}},H=function(F){[].slice.call(F.childNodes).forEach(function(M){M.nodeType===h.Node.TEXT_NODE?$(M,F):(M.className.baseVal.indexOf("highcharts-br")!==-1&&(S.actualWidth=0),H(M))})};H(S.element)}},P.prototype.getLineHeight=function(k){var S;return k=k.nodeType===h.Node.TEXT_NODE?k.parentElement:k,this.renderer.styledMode||(S=k&&/(px|em)$/.test(k.style.fontSize)?k.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(S,k||this.svgElement.element).h},P.prototype.modifyTree=function(k){var S=this,C=function(D,U){var $=D.attributes;$=$===void 0?{}:$;var H=D.children,F=D.style;F=F===void 0?{}:F;var M=D.tagName,I=S.renderer.styledMode;M==="b"||M==="strong"?I?$.class="highcharts-strong":F.fontWeight="bold":(M==="i"||M==="em")&&(I?$.class="highcharts-emphasized":F.fontStyle="italic"),F&&F.color&&(F.fill=F.color),M==="br"?($.class="highcharts-br",D.textContent="​",(U=k[U+1])&&U.textContent&&(U.textContent=U.textContent.replace(/^ +/gm,""))):M==="a"&&H&&H.some(function(A){return A.tagName==="#text"})&&(D.children=[{children:H,tagName:"tspan"}]),M!=="#text"&&M!=="a"&&(D.tagName="tspan"),v(D,{attributes:$,style:F}),H&&H.filter(function(A){return A.tagName!=="#text"}).forEach(C)};k.forEach(C),g(this.svgElement,"afterModifyTree",{nodes:k})},P.prototype.truncate=function(k,S,C,D,U,$){var H=this.svgElement,F=H.renderer,M=H.rotation,I=[],A=C?1:0,E=(S||C||"").length,x=E,m,p=function(R,_){_=_||R;var L=k.parentNode;if(L&&typeof I[_]>"u")if(L.getSubStringLength)try{I[_]=D+L.getSubStringLength(0,C?_+1:_)}catch{}else F.getSpanWidth&&(k.textContent=$(S||C,R),I[_]=D+F.getSpanWidth(H,k));return I[_]};H.rotation=0;var y=p(k.textContent.length);if(D+y>U){for(;A<=E;)x=Math.ceil((A+E)/2),C&&(m=$(C,x)),y=p(x,m&&m.length-1),A===E?A=E+1:y>U?E=x-1:A=x;E===0?k.textContent="":S&&E===S.length-1||(k.textContent=m||$(S||C,x))}C&&C.splice(0,x),H.actualWidth=y,H.rotation=M},P.prototype.unescapeEntities=function(k,S){return w(this.renderer.escapes,function(C,D){S&&S.indexOf(C)!==-1||(k=k.toString().replace(new RegExp(C,"g"),D))}),k},P}()}),n(r,"Core/Renderer/SVG/SVGRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGLabel.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Renderer/SVG/TextBuilder.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g){var b=a.charts,w=a.deg2rad,T=a.doc,P=a.isFirefox,k=a.isMS,S=a.isWebKit,C=a.noop,D=a.SVG_NS,U=a.symbolSizes,$=a.win,H=g.addEvent,F=g.attr,M=g.createElement,I=g.css,A=g.defined,E=g.destroyObjectProperties,x=g.extend,m=g.isArray,p=g.isNumber,y=g.isObject,R=g.isString,_=g.merge,L=g.pick,z=g.pInt,K=g.uniqueKey,X;return a=function(){function O(j,W,q,Q,B,Y,G){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(j,W,q,Q,B,Y,G)}return O.prototype.init=function(j,W,q,Q,B,Y,G){var Z=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),J=Z.element;G||Z.css(this.getStyle(Q)),j.appendChild(J),F(j,"dir","ltr"),j.innerHTML.indexOf("xmlns")===-1&&F(J,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=J,this.boxWrapper=Z,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(T.createTextNode("Created with Highcharts 10.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=Y,this.forExport=B,this.styledMode=G,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(W,q,!1);var et;P&&j.getBoundingClientRect&&(W=function(){I(j,{left:0,top:0}),et=j.getBoundingClientRect(),I(j,{left:Math.ceil(et.left)-et.left+"px",top:Math.ceil(et.top)-et.top+"px"})},W(),this.unSubPixelFix=H($,"resize",W))},O.prototype.definition=function(j){return new i([j]).addToDOM(this.defs.element)},O.prototype.getReferenceURL=function(){if((P||S)&&T.getElementsByTagName("base").length){if(!A(X)){var j=K();j=new i([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:j},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(j,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(T.body),I(j,{position:"fixed",top:0,left:0,zIndex:9e5});var W=T.elementFromPoint(6,6);X=(W&&W.id)==="hitme",T.body.removeChild(j)}if(X)return $.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},O.prototype.getStyle=function(j){return this.style=x({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},j)},O.prototype.setStyle=function(j){this.boxWrapper.css(this.getStyle(j))},O.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},O.prototype.destroy=function(){var j=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),E(this.gradients||{}),this.gradients=null,j&&(this.defs=j.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},O.prototype.createElement=function(j){var W=new this.Element;return W.init(this,j),W},O.prototype.getRadialAttr=function(j,W){return{cx:j[0]-j[2]/2+(W.cx||0)*j[2],cy:j[1]-j[2]/2+(W.cy||0)*j[2],r:(W.r||0)*j[2]}},O.prototype.buildText=function(j){new v(j).buildSVG()},O.prototype.getContrast=function(j){return j=o.parse(j).rgba.map(function(W){return W/=255,.03928>=W?W/12.92:Math.pow((W+.055)/1.055,2.4)}),j=.2126*j[0]+.7152*j[1]+.0722*j[2],1.05/(j+.05)>(j+.05)/.05?"#FFFFFF":"#000000"},O.prototype.button=function(j,W,q,Q,B,Y,G,Z,J,et){B===void 0&&(B={});var nt=this.label(j,W,q,J,void 0,void 0,et,void 0,"button"),at=this.styledMode;j=B.states||{};var st=0;B=_(B),delete B.states;var mt=_({color:"#333333",cursor:"pointer",fontWeight:"normal"},B.style);delete B.style;var wt=i.filterUserAttributes(B);if(nt.attr(_({padding:8,r:2},wt)),!at){wt=_({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},wt),Y=_(wt,{fill:"#e6e6e6"},i.filterUserAttributes(Y||j.hover||{}));var yt=Y.style;delete Y.style,G=_(wt,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},i.filterUserAttributes(G||j.select||{}));var gt=G.style;delete G.style,Z=_(wt,{style:{color:"#cccccc"}},i.filterUserAttributes(Z||j.disabled||{}));var bt=Z.style;delete Z.style}return H(nt.element,k?"mouseover":"mouseenter",function(){st!==3&&nt.setState(1)}),H(nt.element,k?"mouseout":"mouseleave",function(){st!==3&&nt.setState(st)}),nt.setState=function(ht){ht!==1&&(nt.state=st=ht),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ht||0]),at||(nt.attr([wt,Y,G,Z][ht||0]),ht=[mt,yt,gt,bt][ht||0],y(ht)&&nt.css(ht))},at||(nt.attr(wt).css(x({cursor:"default"},mt)),et&&nt.text.css({pointerEvents:"none"})),nt.on("touchstart",function(ht){return ht.stopPropagation()}).on("click",function(ht){st!==3&&Q.call(nt,ht)})},O.prototype.crispLine=function(j,W,q){q===void 0&&(q="round");var Q=j[0],B=j[1];return A(Q[1])&&Q[1]===B[1]&&(Q[1]=B[1]=Math[q](Q[1])-W%2/2),A(Q[2])&&Q[2]===B[2]&&(Q[2]=B[2]=Math[q](Q[2])+W%2/2),j},O.prototype.path=function(j){var W=this.styledMode?{}:{fill:"none"};return m(j)?W.d=j:y(j)&&x(W,j),this.createElement("path").attr(W)},O.prototype.circle=function(j,W,q){return j=y(j)?j:typeof j>"u"?{}:{x:j,y:W,r:q},W=this.createElement("circle"),W.xSetter=W.ySetter=function(Q,B,Y){Y.setAttribute("c"+B,Q)},W.attr(j)},O.prototype.arc=function(j,W,q,Q,B,Y){return y(j)?(Q=j,W=Q.y,q=Q.r,j=Q.x):Q={innerR:Q,start:B,end:Y},j=this.symbol("arc",j,W,q,q,Q),j.r=q,j},O.prototype.rect=function(j,W,q,Q,B,Y){B=y(j)?j.r:B;var G=this.createElement("rect");return j=y(j)?j:typeof j>"u"?{}:{x:j,y:W,width:Math.max(q,0),height:Math.max(Q,0)},this.styledMode||(typeof Y<"u"&&(j["stroke-width"]=Y,j=G.crisp(j)),j.fill="none"),B&&(j.r=B),G.rSetter=function(Z,J,et){G.r=Z,F(et,{rx:Z,ry:Z})},G.rGetter=function(){return G.r||0},G.attr(j)},O.prototype.setSize=function(j,W,q){this.width=j,this.height=W,this.boxWrapper.animate({width:j,height:W},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:L(q,!0)?void 0:0}),this.alignElements()},O.prototype.g=function(j){var W=this.createElement("g");return j?W.attr({class:"highcharts-"+j}):W},O.prototype.image=function(j,W,q,Q,B,Y){var G={preserveAspectRatio:"none"},Z=function(et,nt){et.setAttributeNS?et.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):et.setAttribute("hc-svg-href",nt)};p(W)&&(G.x=W),p(q)&&(G.y=q),p(Q)&&(G.width=Q),p(B)&&(G.height=B);var J=this.createElement("image").attr(G);return W=function(et){Z(J.element,j),Y.call(J,et)},Y?(Z(J.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),q=new $.Image,H(q,"load",W),q.src=j,q.complete&&W({})):Z(J.element,j),J},O.prototype.symbol=function(j,W,q,Q,B,Y){var G=this,Z=/^url\((.*?)\)$/,J=Z.test(j),et=!J&&(this.symbols[j]?j:"circle"),nt=et&&this.symbols[et],at;if(nt){typeof W=="number"&&(at=nt.call(this.symbols,Math.round(W||0),Math.round(q||0),Q||0,B||0,Y));var st=this.path(at);G.styledMode||st.attr("fill","none"),x(st,{symbolName:et||void 0,x:W,y:q,width:Q,height:B}),Y&&x(st,Y)}else if(J){var mt=j.match(Z)[1],wt=st=this.image(mt);wt.imgwidth=L(U[mt]&&U[mt].width,Y&&Y.width),wt.imgheight=L(U[mt]&&U[mt].height,Y&&Y.height);var yt=function(gt){return gt.attr({width:gt.width,height:gt.height})};["width","height"].forEach(function(gt){wt[gt+"Setter"]=function(bt,ht){this[ht]=bt,bt=this.alignByTranslate;var it=this.element,ot=this.width,ct=this.height,ft=this.imgwidth,vt=this.imgheight,xt=this["img"+ht];if(A(xt)){var St=1;Y&&Y.backgroundSize==="within"&&ot&&ct?(St=Math.min(ot/ft,ct/vt),xt=Math.round(xt*St),F(it,{width:Math.round(ft*St),height:Math.round(vt*St)})):it&&it.setAttribute(ht,xt),bt||this.translate(((ot||0)-xt*St)/2,((ct||0)-xt*St)/2)}}}),A(W)&&wt.attr({x:W,y:q}),wt.isImg=!0,A(wt.imgwidth)&&A(wt.imgheight)?yt(wt):(wt.attr({width:0,height:0}),M("img",{onload:function(){var gt=b[G.chartIndex];this.width===0&&(I(this,{position:"absolute",top:"-999em"}),T.body.appendChild(this)),U[mt]={width:this.width,height:this.height},wt.imgwidth=this.width,wt.imgheight=this.height,wt.element&&yt(wt),this.parentNode&&this.parentNode.removeChild(this),G.imgCount--,!G.imgCount&&gt&&!gt.hasLoaded&&gt.onload()},src:mt}),this.imgCount++)}return st},O.prototype.clipRect=function(j,W,q,Q){var B=K()+"-",Y=this.createElement("clipPath").attr({id:B}).add(this.defs);return j=this.rect(j,W,q,Q,0).add(Y),j.id=B,j.clipPath=Y,j.count=0,j},O.prototype.text=function(j,W,q,Q){var B={};return Q&&(this.allowHTML||!this.forExport)?this.html(j,W,q):(B.x=Math.round(W||0),q&&(B.y=Math.round(q)),A(j)&&(B.text=j),j=this.createElement("text").attr(B),(!Q||this.forExport&&!this.allowHTML)&&(j.xSetter=function(Y,G,Z){for(var J=Z.getElementsByTagName("tspan"),et=Z.getAttribute(G),nt=0,at;nt<J.length;nt++)at=J[nt],at.getAttribute(G)===et&&at.setAttribute(G,Y);Z.setAttribute(G,Y)}),j)},O.prototype.fontMetrics=function(j,W){return j=!this.styledMode&&/px/.test(j)||!$.getComputedStyle?j||W&&W.style&&W.style.fontSize||this.style&&this.style.fontSize:W&&c.prototype.getStyle.call(W,"font-size"),j=/px/.test(j)?z(j):12,W=24>j?j+3:Math.round(1.2*j),{h:W,b:Math.round(.8*W),f:j}},O.prototype.rotCorr=function(j,W,q){var Q=j;return W&&q&&(Q=Math.max(Q*Math.cos(W*w),4)),{x:-j/3*Math.sin(W*w),y:Q}},O.prototype.pathToSegments=function(j){for(var W=[],q=[],Q={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},B=0;B<j.length;B++)R(q[0])&&p(j[B])&&q.length===Q[q[0].toUpperCase()]&&j.splice(B,0,q[0].replace("M","L").replace("m","l")),typeof j[B]=="string"&&(q.length&&W.push(q.slice(0)),q.length=0),q.push(j[B]);return W.push(q.slice(0)),W},O.prototype.label=function(j,W,q,Q,B,Y,G,Z,J){return new h(this,j,W,q,Q,B,Y,G,Z,J)},O.prototype.alignElements=function(){this.alignedObjects.forEach(function(j){return j.align()})},O}(),x(a.prototype,{Element:c,SVG_NS:D,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:f,draw:C}),u.registerRendererType("svg",a,!0),a}),n(r,"Core/Renderer/HTML/HTMLElement.js",[r["Core/Globals.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var k=function(S,C){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,U){D.__proto__=U}||function(D,U){for(var $ in U)U.hasOwnProperty($)&&(D[$]=U[$])},k(S,C)};return function(S,C){function D(){this.constructor=S}k(S,C),S.prototype=C===null?Object.create(C):(D.prototype=C.prototype,new D)}}(),c=i.isFirefox,h=i.isMS,f=i.isWebKit,v=i.win,g=a.css,b=a.defined,w=a.extend,T=a.pick,P=a.pInt;return function(k){function S(){return k!==null&&k.apply(this,arguments)||this}return u(S,k),S.compose=function(C){if(S.composedClasses.indexOf(C)===-1){S.composedClasses.push(C);var D=S.prototype,U=C.prototype;U.getSpanCorrection=D.getSpanCorrection,U.htmlCss=D.htmlCss,U.htmlGetBBox=D.htmlGetBBox,U.htmlUpdateTransform=D.htmlUpdateTransform,U.setSpanRotation=D.setSpanRotation}return C},S.prototype.getSpanCorrection=function(C,D,U){this.xCorr=-C*U,this.yCorr=-D},S.prototype.htmlCss=function(C){var D=this.element.tagName==="SPAN"&&C&&"width"in C,U=T(D&&C.width,void 0);if(D){delete C.width,this.textWidth=U;var $=!0}return C&&C.textOverflow==="ellipsis"&&(C.whiteSpace="nowrap",C.overflow="hidden"),this.styles=w(this.styles,C),g(this.element,C),$&&this.htmlUpdateTransform(),this},S.prototype.htmlGetBBox=function(){var C=this.element;return{x:C.offsetLeft,y:C.offsetTop,width:C.offsetWidth,height:C.offsetHeight}},S.prototype.htmlUpdateTransform=function(){if(this.added){var C=this.renderer,D=this.element,U=this.translateX||0,$=this.translateY||0,H=this.x||0,F=this.y||0,M=this.textAlign||"left",I={left:0,center:.5,right:1}[M],A=this.styles;if(A=A&&A.whiteSpace,g(D,{marginLeft:U,marginTop:$}),!C.styledMode&&this.shadows&&this.shadows.forEach(function(R){g(R,{marginLeft:U+1,marginTop:$+1})}),this.inverted&&[].forEach.call(D.childNodes,function(R){C.invertChild(R,D)}),D.tagName==="SPAN"){var E=this.rotation,x=this.textWidth&&P(this.textWidth),m=[E,M,D.innerHTML,this.textWidth,this.textAlign].join(),p=void 0;if(p=!1,x!==this.oldTextWidth){if(this.textPxLength)var y=this.textPxLength;else g(D,{width:"",whiteSpace:A||"nowrap"}),y=D.offsetWidth;(x>this.oldTextWidth||y>x)&&(/[ \-]/.test(D.textContent||D.innerText)||D.style.textOverflow==="ellipsis")&&(g(D,{width:y>x||E?x+"px":"auto",display:"block",whiteSpace:A||"normal"}),this.oldTextWidth=x,p=!0)}this.hasBoxWidthChanged=p,m!==this.cTT&&(p=C.fontMetrics(D.style.fontSize,D).b,!b(E)||E===(this.oldRotation||0)&&M===this.oldAlign||this.setSpanRotation(E,I,p),this.getSpanCorrection(!b(E)&&this.textPxLength||D.offsetWidth,p,I,E,M)),g(D,{left:H+(this.xCorr||0)+"px",top:F+(this.yCorr||0)+"px"}),this.cTT=m,this.oldRotation=E,this.oldAlign=M}}else this.alignOnAdd=!0},S.prototype.setSpanRotation=function(C,D,U){var $={},H=h&&!/Edge/.test(v.navigator.userAgent)?"-ms-transform":f?"-webkit-transform":c?"MozTransform":v.opera?"-o-transform":void 0;H&&($[H]=$.transform="rotate("+C+"deg)",$[H+(c?"Origin":"-origin")]=$.transformOrigin=100*D+"% "+U+"px",g(this.element,$))},S.composedClasses=[],S}(o)}),n(r,"Core/Renderer/HTML/HTMLRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var b=function(w,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var S in k)k.hasOwnProperty(S)&&(P[S]=k[S])},b(w,T)};return function(w,T){function P(){this.constructor=w}b(w,T),w.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}(),h=u.attr,f=u.createElement,v=u.extend,g=u.pick;return function(b){function w(){return b!==null&&b.apply(this,arguments)||this}return c(w,b),w.compose=function(T){return w.composedClasses.indexOf(T)===-1&&(w.composedClasses.push(T),T.prototype.html=w.prototype.html),T},w.prototype.html=function(T,P,k){var S=this.createElement("span"),C=S.element,D=S.renderer,U=D.isSVG,$=function(H,F){["opacity","visibility"].forEach(function(M){H[M+"Setter"]=function(I,A,E){var x=H.div?H.div.style:F;o.prototype[M+"Setter"].call(this,I,A,E),x&&(x[A]=I)}}),H.addedSetters=!0};return S.textSetter=function(H){H!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,i.setElementHTML(this.element,g(H,"")),this.textStr=H,S.doTransform=!0)},U&&$(S,S.element.style),S.xSetter=S.ySetter=S.alignSetter=S.rotationSetter=function(H,F){F==="align"?S.alignValue=S.textAlign=H:S[F]=H,S.doTransform=!0},S.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},S.attr({text:T,x:Math.round(P),y:Math.round(k)}).css({position:"absolute"}),D.styledMode||S.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),C.style.whiteSpace="nowrap",S.css=S.htmlCss,U&&(S.add=function(H){var F=D.box.parentNode,M=[];if(this.parentGroup=H){var I=H.div;if(!I){for(;H;)M.push(H),H=H.parentGroup;M.reverse().forEach(function(A){function E(y,R){A[R]=y,R==="translateX"?p.left=y+"px":p.top=y+"px",A.doTransform=!0}var x=h(A.element,"class"),m=A.styles||{};I=A.div=A.div||f("div",x?{className:x}:void 0,{position:"absolute",left:(A.translateX||0)+"px",top:(A.translateY||0)+"px",display:A.display,opacity:A.opacity,cursor:m.cursor,pointerEvents:m.pointerEvents,visibility:A.visibility},I||F);var p=I.style;v(A,{classSetter:function(y){return function(R){this.element.setAttribute("class",R),y.className=R}}(I),on:function(){return M[0].div&&S.on.apply({element:M[0].div,onEvents:A.onEvents},arguments),A},translateXSetter:E,translateYSetter:E}),A.addedSetters||$(A)})}}else I=F;return I.appendChild(C),S.added=!0,S.alignOnAdd&&S.htmlUpdateTransform(),S}),S},w.composedClasses=[],w}(a)}),n(r,"Core/Axis/AxisDefaults.js",[],function(){var i;return function(o){o.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},o.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var a=this.axis.chart.numberFormatter;return a(this.total||0,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},o.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},o.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},o.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},o.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}}(i||(i={})),i}),n(r,"Core/Foundation.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.isFunction,u=i.objectEach,c=i.removeEvent,h;return function(f){f.registerEventOptions=function(v,g){v.eventOptions=v.eventOptions||{},u(g.events,function(b,w){v.eventOptions[w]!==b&&(v.eventOptions[w]&&(c(v,w,v.eventOptions[w]),delete v.eventOptions[w]),a(b)&&(v.eventOptions[w]=b,o(v,w,b)))})}}(h||(h={})),h}),n(r,"Core/Axis/Tick.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a){var u=o.deg2rad,c=a.clamp,h=a.correctFloat,f=a.defined,v=a.destroyObjectProperties,g=a.extend,b=a.fireEvent,w=a.isNumber,T=a.merge,P=a.objectEach,k=a.pick;return o=function(){function S(C,D,U,$,H){this.isNewLabel=this.isNew=!0,this.axis=C,this.pos=D,this.type=U||"",this.parameters=H||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,b(this,"init"),U||$||this.addLabel()}return S.prototype.addLabel=function(){var C=this,D=C.axis,U=D.options,$=D.chart,H=D.categories,F=D.logarithmic,M=D.names,I=C.pos,A=k(C.options&&C.options.labels,U.labels),E=D.tickPositions,x=I===E[0],m=I===E[E.length-1],p=(!A.step||A.step===1)&&D.tickInterval===1;E=E.info;var y=C.label,R;if(H=this.parameters.category||(H?k(H[I],M[I],I):I),F&&w(H)&&(H=h(F.lin2log(H))),D.dateTime)if(E)var _=$.time.resolveDTLFormat(U.dateTimeLabelFormats[!U.grid&&E.higherRanks[I]||E.unitName]),L=_.main;else w(H)&&(L=D.dateTime.getXDateFormat(H,U.dateTimeLabelFormats||{}));C.isFirst=x,C.isLast=m;var z={axis:D,chart:$,dateTimeLabelFormat:L,isFirst:x,isLast:m,pos:I,tick:C,tickPositionInfo:E,value:H};b(this,"labelFormat",z);var K=function(O){return A.formatter?A.formatter.call(O,O):A.format?(O.text=D.defaultLabelFormatter.call(O,O),i.format(A.format,O,$)):D.defaultLabelFormatter.call(O,O)};U=K.call(z,z);var X=_&&_.list;C.shortenLabel=X?function(){for(R=0;R<X.length;R++)if(g(z,{dateTimeLabelFormat:X[R]}),y.attr({text:K.call(z,z)}),y.getBBox().width<D.getSlotWidth(C)-2*A.padding)return;y.attr({text:""})}:void 0,p&&D._addedPlotLB&&C.moveLabel(U,A),f(y)||C.movedLabel?y&&y.textStr!==U&&!p&&(!y.textWidth||A.style.width||y.styles.width||y.css({width:null}),y.attr({text:U}),y.textPxLength=y.getBBox().width):(C.label=y=C.createLabel({x:0,y:0},U,A),C.rotation=0)},S.prototype.createLabel=function(C,D,U){var $=this.axis,H=$.chart;return(C=f(D)&&U.enabled?H.renderer.text(D,C.x,C.y,U.useHTML).add($.labelGroup):null)&&(H.styledMode||C.css(T(U.style)),C.textPxLength=C.getBBox().width),C},S.prototype.destroy=function(){v(this,this.axis)},S.prototype.getPosition=function(C,D,U,$){var H=this.axis,F=H.chart,M=$&&F.oldChartHeight||F.chartHeight;return C={x:C?h(H.translate(D+U,void 0,void 0,$)+H.transB):H.left+H.offset+(H.opposite?($&&F.oldChartWidth||F.chartWidth)-H.right-H.left:0),y:C?M-H.bottom+H.offset-(H.opposite?H.height:0):h(M-H.translate(D+U,void 0,void 0,$)-H.transB)},C.y=c(C.y,-1e5,1e5),b(this,"afterGetPosition",{pos:C}),C},S.prototype.getLabelPosition=function(C,D,U,$,H,F,M,I){var A=this.axis,E=A.transA,x=A.isLinked&&A.linkedParent?A.linkedParent.reversed:A.reversed,m=A.staggerLines,p=A.tickRotCorr||{x:0,y:0},y=$||A.reserveSpaceDefault?0:-A.labelOffset*(A.labelAlign==="center"?.5:1),R={};return U=A.side===0?U.rotation?-8:-U.getBBox().height:A.side===2?p.y+8:Math.cos(U.rotation*u)*(p.y-U.getBBox(!1,0).height/2),f(H.y)&&(U=A.side===0&&A.horiz?H.y+U:H.y),C=C+H.x+y+p.x-(F&&$?F*E*(x?-1:1):0),D=D+U-(F&&!$?F*E*(x?1:-1):0),m&&($=M/(I||1)%m,A.opposite&&($=m-$-1),D+=A.labelOffset/m*$),R.x=C,R.y=Math.round(D),b(this,"afterGetLabelPosition",{pos:R,tickmarkOffset:F,index:M}),R},S.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},S.prototype.getMarkPath=function(C,D,U,$,H,F){return F.crispLine([["M",C,D],["L",C+(H?0:-U),D+(H?U:0)]],$)},S.prototype.handleOverflow=function(C){var D=this.axis,U=D.options.labels,$=C.x,H=D.chart.chartWidth,F=D.chart.spacing,M=k(D.labelLeft,Math.min(D.pos,F[3]));F=k(D.labelRight,Math.max(D.isRadial?0:D.pos+D.len,H-F[1]));var I=this.label,A=this.rotation,E={left:0,center:.5,right:1}[D.labelAlign||I.attr("align")],x=I.getBBox().width,m=D.getSlotWidth(this),p={},y=m,R=1,_;A||U.overflow!=="justify"?0>A&&$-E*x<M?_=Math.round($/Math.cos(A*u)-M):0<A&&$+E*x>F&&(_=Math.round((H-$)/Math.cos(A*u))):(H=$+(1-E)*x,$-E*x<M?y=C.x+y*(1-E)-M:H>F&&(y=F-C.x+y*E,R=-1),y=Math.min(m,y),y<m&&D.labelAlign==="center"&&(C.x+=R*(m-y-E*(m-Math.min(x,y)))),(x>y||D.autoRotation&&(I.styles||{}).width)&&(_=y)),_&&(this.shortenLabel?this.shortenLabel():(p.width=Math.floor(_)+"px",(U.style||{}).textOverflow||(p.textOverflow="ellipsis"),I.css(p)))},S.prototype.moveLabel=function(C,D){var U=this,$=U.label,H=U.axis,F=H.reversed,M=!1;if($&&$.textStr===C?(U.movedLabel=$,M=!0,delete U.label):P(H.ticks,function(A){M||A.isNew||A===U||!A.label||A.label.textStr!==C||(U.movedLabel=A.label,M=!0,A.labelPos=U.movedLabel.xy,delete A.label)}),!M&&(U.labelPos||$)){var I=U.labelPos||$.xy;$=H.horiz?F?0:H.width+H.left:I.x,H=H.horiz?I.y:F?H.width+H.left:0,U.movedLabel=U.createLabel({x:$,y:H},C,D),U.movedLabel&&U.movedLabel.attr({opacity:0})}},S.prototype.render=function(C,D,U){var $=this.axis,H=$.horiz,F=this.pos,M=k(this.tickmarkOffset,$.tickmarkOffset);F=this.getPosition(H,F,M,D),M=F.x;var I=F.y;$=H&&M===$.pos+$.len||!H&&I===$.pos?-1:1,H=k(U,this.label&&this.label.newOpacity,1),U=k(U,1),this.isActive=!0,this.renderGridLine(D,U,$),this.renderMark(F,U,$),this.renderLabel(F,D,H,C),this.isNew=!1,b(this,"afterRender")},S.prototype.renderGridLine=function(C,D,U){var $=this.axis,H=$.options,F={},M=this.pos,I=this.type,A=k(this.tickmarkOffset,$.tickmarkOffset),E=$.chart.renderer,x=this.gridLine,m=H.gridLineWidth,p=H.gridLineColor,y=H.gridLineDashStyle;this.type==="minor"&&(m=H.minorGridLineWidth,p=H.minorGridLineColor,y=H.minorGridLineDashStyle),x||($.chart.styledMode||(F.stroke=p,F["stroke-width"]=m||0,F.dashstyle=y),I||(F.zIndex=1),C&&(D=0),this.gridLine=x=E.path().attr(F).addClass("highcharts-"+(I?I+"-":"")+"grid-line").add($.gridGroup)),x&&(U=$.getPlotLinePath({value:M+A,lineWidth:x.strokeWidth()*U,force:"pass",old:C,acrossPanes:!1}))&&x[C||this.isNew?"attr":"animate"]({d:U,opacity:D})},S.prototype.renderMark=function(C,D,U){var $=this.axis,H=$.options,F=$.chart.renderer,M=this.type,I=$.tickSize(M?M+"Tick":"tick"),A=C.x;C=C.y;var E=k(H[M!=="minor"?"tickWidth":"minorTickWidth"],!M&&$.isXAxis?1:0);H=H[M!=="minor"?"tickColor":"minorTickColor"];var x=this.mark,m=!x;I&&($.opposite&&(I[0]=-I[0]),x||(this.mark=x=F.path().addClass("highcharts-"+(M?M+"-":"")+"tick").add($.axisGroup),$.chart.styledMode||x.attr({stroke:H,"stroke-width":E})),x[m?"attr":"animate"]({d:this.getMarkPath(A,C,I[0],x.strokeWidth()*U,$.horiz,F),opacity:D}))},S.prototype.renderLabel=function(C,D,U,$){var H=this.axis,F=H.horiz,M=H.options,I=this.label,A=M.labels,E=A.step;H=k(this.tickmarkOffset,H.tickmarkOffset);var x=C.x;C=C.y;var m=!0;I&&w(x)&&(I.xy=C=this.getLabelPosition(x,C,I,F,A,H,$,E),this.isFirst&&!this.isLast&&!M.showFirstLabel||this.isLast&&!this.isFirst&&!M.showLastLabel?m=!1:!F||A.step||A.rotation||D||U===0||this.handleOverflow(C),E&&$%E&&(m=!1),m&&w(C.y)?(C.opacity=U,I[this.isNewLabel?"attr":"animate"](C).show(!0),this.isNewLabel=!1):(I.hide(),this.isNewLabel=!0))},S.prototype.replaceMovedLabel=function(){var C=this.label,D=this.axis,U=D.reversed;if(C&&!this.isNew){var $=D.horiz?U?D.left:D.width+D.left:C.xy.x;U=D.horiz?C.xy.y:U?D.width+D.top:D.top,C.animate({x:$,y:U,opacity:0},void 0,C.destroy),delete this.label}D.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},S}(),o}),n(r,"Core/Axis/Axis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/AxisDefaults.js"],r["Core/Color/Color.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Axis/Tick.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v){var g=i.animObject,b=u.defaultOptions,w=c.registerEventOptions,T=h.deg2rad,P=v.arrayMax,k=v.arrayMin,S=v.clamp,C=v.correctFloat,D=v.defined,U=v.destroyObjectProperties,$=v.erase,H=v.error,F=v.extend,M=v.fireEvent,I=v.isArray,A=v.isNumber,E=v.isString,x=v.merge,m=v.normalizeTickInterval,p=v.objectEach,y=v.pick,R=v.relativeLength,_=v.removeEvent,L=v.splat,z=v.syncTimeout,K=function(X,O){return m(O,void 0,void 0,y(X.options.allowDecimals,.5>O||X.tickAmount!==void 0),!!X.tickAmount)};return i=function(){function X(O,j){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(O,j)}return X.prototype.init=function(O,j){var W=j.isX;this.chart=O,this.horiz=O.inverted&&!this.isZAxis?!W:W,this.isXAxis=W,this.coll=this.coll||(W?"xAxis":"yAxis"),M(this,"init",{userOptions:j}),this.opposite=y(j.opposite,this.opposite),this.side=y(j.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(j);var q=this.options,Q=q.labels,B=q.type;this.userOptions=j,this.minPixelPadding=0,this.reversed=y(q.reversed,this.reversed),this.visible=q.visible,this.zoomEnabled=q.zoomEnabled,this.hasNames=B==="category"||q.categories===!0,this.categories=q.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=D(q.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=q.minRange||q.maxZoom,this.range=q.range,this.offset=q.offset||0,this.min=this.max=null,j=y(q.crosshair,L(O.options.tooltip.crosshairs)[W?0:1]),this.crosshair=j===!0?{}:j,O.axes.indexOf(this)===-1&&(W?O.axes.splice(O.xAxis.length,0,this):O.axes.push(this),O[this.coll].push(this)),this.series=this.series||[],O.inverted&&!this.isZAxis&&W&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=A(Q.rotation)?Q.rotation:void 0,w(this,q),M(this,"afterInit")},X.prototype.setOptions=function(O){this.options=x(o.defaultXAxisOptions,this.coll==="yAxis"&&o.defaultYAxisOptions,[o.defaultTopAxisOptions,o.defaultRightAxisOptions,o.defaultBottomAxisOptions,o.defaultLeftAxisOptions][this.side],x(b[this.coll],O)),M(this,"afterSetOptions",{userOptions:O})},X.prototype.defaultLabelFormatter=function(O){var j=this.axis;O=this.chart.numberFormatter;var W=A(this.value)?this.value:NaN,q=j.chart.time,Q=this.dateTimeLabelFormat,B=b.lang,Y=B.numericSymbols;B=B.numericSymbolMagnitude||1e3;var G=j.logarithmic?Math.abs(W):j.tickInterval,Z=Y&&Y.length;if(j.categories)var J="".concat(this.value);else if(Q)J=q.dateFormat(Q,W);else if(Z&&1e3<=G)for(;Z--&&typeof J>"u";)j=Math.pow(B,Z+1),G>=j&&10*W%j===0&&Y[Z]!==null&&W!==0&&(J=O(W/j,-1)+Y[Z]);return typeof J>"u"&&(J=1e4<=Math.abs(W)?O(W,-1):O(W,-1,void 0,"")),J},X.prototype.getSeriesExtremes=function(){var O=this,j=O.chart,W;M(this,"getSeriesExtremes",null,function(){O.hasVisibleSeries=!1,O.dataMin=O.dataMax=O.threshold=null,O.softThreshold=!O.isXAxis,O.series.forEach(function(q){if(q.visible||!j.options.chart.ignoreHiddenSeries){var Q=q.options,B=Q.threshold;if(O.hasVisibleSeries=!0,O.positiveValuesOnly&&0>=B&&(B=null),O.isXAxis){if(Q=q.xData,Q.length){Q=O.logarithmic?Q.filter(O.validatePositiveValue):Q,W=q.getXExtremes(Q);var Y=W.min,G=W.max;A(Y)||Y instanceof Date||(Q=Q.filter(A),W=q.getXExtremes(Q),Y=W.min,G=W.max),Q.length&&(O.dataMin=Math.min(y(O.dataMin,Y),Y),O.dataMax=Math.max(y(O.dataMax,G),G))}}else q=q.applyExtremes(),A(q.dataMin)&&(Y=q.dataMin,O.dataMin=Math.min(y(O.dataMin,Y),Y)),A(q.dataMax)&&(G=q.dataMax,O.dataMax=Math.max(y(O.dataMax,G),G)),D(B)&&(O.threshold=B),(!Q.softThreshold||O.positiveValuesOnly)&&(O.softThreshold=!1)}})}),M(this,"afterGetSeriesExtremes")},X.prototype.translate=function(O,j,W,q,Q,B){var Y=this.linkedParent||this,G=q&&Y.old?Y.old.min:Y.min;if(!A(G))return NaN;var Z=Y.minPixelPadding;Q=(Y.isOrdinal||Y.brokenAxis&&Y.brokenAxis.hasBreaks||Y.logarithmic&&Q)&&Y.lin2val;var J=1,et=0;return q=q&&Y.old?Y.old.transA:Y.transA,q||(q=Y.transA),W&&(J*=-1,et=Y.len),Y.reversed&&(J*=-1,et-=J*(Y.sector||Y.len)),j?(B=(O*J+et-Z)/q+G,Q&&(B=Y.lin2val(B))):(Q&&(O=Y.val2lin(O)),O=J*(O-G)*q,B=(Y.isRadial?O:C(O))+et+J*Z+(A(B)?q*B:0)),B},X.prototype.toPixels=function(O,j){return this.translate(O,!1,!this.horiz,void 0,!0)+(j?0:this.pos)},X.prototype.toValue=function(O,j){return this.translate(O-(j?0:this.pos),!0,!this.horiz,void 0,!0)},X.prototype.getPlotLinePath=function(O){function j(ht,it,ot){return st!=="pass"&&(ht<it||ht>ot)&&(st?ht=S(ht,it,ot):bt=!0),ht}var W=this,q=W.chart,Q=W.left,B=W.top,Y=O.old,G=O.value,Z=O.lineWidth,J=Y&&q.oldChartHeight||q.chartHeight,et=Y&&q.oldChartWidth||q.chartWidth,nt=W.transB,at=O.translatedValue,st=O.force,mt,wt,yt,gt,bt;return O={value:G,lineWidth:Z,old:Y,force:st,acrossPanes:O.acrossPanes,translatedValue:at},M(this,"getPlotLinePath",O,function(ht){at=y(at,W.translate(G,void 0,void 0,Y)),at=S(at,-1e5,1e5),mt=yt=Math.round(at+nt),wt=gt=Math.round(J-at-nt),A(at)?W.horiz?(wt=B,gt=J-W.bottom,mt=yt=j(mt,Q,Q+W.width)):(mt=Q,yt=et-W.right,wt=gt=j(wt,B,B+W.height)):(bt=!0,st=!1),ht.path=bt&&!st?null:q.renderer.crispLine([["M",mt,wt],["L",yt,gt]],Z||1)}),O.path},X.prototype.getLinearTickPositions=function(O,j,W){var q=C(Math.floor(j/O)*O);W=C(Math.ceil(W/O)*O);var Q=[],B;if(C(q+O)===q&&(B=20),this.single)return[j];for(j=q;j<=W&&(Q.push(j),j=C(j+O,B),j!==Y);)var Y=j;return Q},X.prototype.getMinorTickInterval=function(){var O=this.options;return O.minorTicks===!0?y(O.minorTickInterval,"auto"):O.minorTicks===!1?null:O.minorTickInterval},X.prototype.getMinorTickPositions=function(){var O=this.options,j=this.tickPositions,W=this.minorTickInterval,q=this.pointRangePadding||0,Q=this.min-q;q=this.max+q;var B=q-Q,Y=[];if(B&&B/W<this.len/3){var G=this.logarithmic;if(G)this.paddedTicks.forEach(function(Z,J,et){J&&Y.push.apply(Y,G.getLogTickPositions(W,et[J-1],et[J],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")Y=Y.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(W),Q,q,O.startOfWeek));else for(O=Q+(j[0]-Q)%W;O<=q&&O!==Y[0];O+=W)Y.push(O)}return Y.length!==0&&this.trimTicks(Y),Y},X.prototype.adjustForMinRange=function(){var O=this.options,j=this.logarithmic,W=this.min,q=this.max,Q=0,B,Y,G,Z;if(this.isXAxis&&typeof this.minRange>"u"&&!j&&(D(O.min)||D(O.max)||D(O.floor)||D(O.ceiling)?this.minRange=null:(this.series.forEach(function(at){if(G=at.xData,Z=at.xIncrement?1:G.length-1,1<G.length)for(B=Z;0<B;B--)Y=G[B]-G[B-1],(!Q||Y<Q)&&(Q=Y)}),this.minRange=Math.min(5*Q,this.dataMax-this.dataMin))),q-W<this.minRange){var J=this.dataMax-this.dataMin>=this.minRange,et=this.minRange,nt=(et-q+W)/2;nt=[W-nt,y(O.min,W-nt)],J&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),W=P(nt),q=[W+et,y(O.max,W+et)],J&&(q[2]=j?j.log2lin(this.dataMax):this.dataMax),q=k(q),q-W<et&&(nt[0]=q-et,nt[1]=y(O.min,q-et),W=P(nt))}this.min=W,this.max=q},X.prototype.getClosest=function(){var O;return this.categories?O=1:this.series.forEach(function(j){var W=j.closestPointRange,q=j.visible||!j.chart.options.chart.ignoreHiddenSeries;!j.noSharedTooltip&&D(W)&&q&&(O=D(O)?Math.min(O,W):W)}),O},X.prototype.nameToX=function(O){var j=I(this.options.categories),W=j?this.categories:this.names,q=O.options.x;if(O.series.requireSorting=!1,D(q)||(q=this.options.uniqueNames&&W?j?W.indexOf(O.name):y(W.keys[O.name],-1):O.series.autoIncrement()),q===-1){if(!j&&W)var Q=W.length}else Q=q;return typeof Q<"u"?(this.names[Q]=O.name,this.names.keys[O.name]=Q):O.x&&(Q=O.x),Q},X.prototype.updateNames=function(){var O=this,j=this.names;0<j.length&&(Object.keys(j.keys).forEach(function(W){delete j.keys[W]}),j.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(W){W.xIncrement=null,(!W.points||W.isDirtyData)&&(O.max=Math.max(O.max,W.xData.length-1),W.processData(),W.generatePoints()),W.data.forEach(function(q,Q){if(q&&q.options&&typeof q.name<"u"){var B=O.nameToX(q);typeof B<"u"&&B!==q.x&&(q.x=B,W.xData[Q]=B)}})}))},X.prototype.setAxisTranslation=function(){var O=this,j=O.max-O.min,W=O.linkedParent,q=!!O.categories,Q=O.isXAxis,B=O.axisPointRange||0,Y=0,G=0,Z=O.transA;if(Q||q||B){var J=O.getClosest();W?(Y=W.minPointOffset,G=W.pointRangePadding):O.series.forEach(function(et){var nt=q?1:Q?y(et.options.pointRange,J,0):O.axisPointRange||0,at=et.options.pointPlacement;B=Math.max(B,nt),(!O.single||q)&&(et=et.is("xrange")?!Q:Q,Y=Math.max(Y,et&&E(at)?0:nt/2),G=Math.max(G,et&&at==="on"?0:nt))}),W=O.ordinal&&O.ordinal.slope&&J?O.ordinal.slope/J:1,O.minPointOffset=Y*=W,O.pointRangePadding=G*=W,O.pointRange=Math.min(B,O.single&&q?1:j),Q&&(O.closestPointRange=J)}O.translationSlope=O.transA=Z=O.staticScale||O.len/(j+G||1),O.transB=O.horiz?O.left:O.bottom,O.minPixelPadding=Z*Y,M(this,"afterSetAxisTranslation")},X.prototype.minFromRange=function(){return this.max-this.range},X.prototype.setTickInterval=function(O){var j=this.chart,W=this.logarithmic,q=this.options,Q=this.isXAxis,B=this.isLinked,Y=q.tickPixelInterval,G=this.categories,Z=this.softThreshold,J=q.maxPadding,et=q.minPadding,nt=A(q.tickInterval)&&0<=q.tickInterval?q.tickInterval:void 0,at=A(this.threshold)?this.threshold:null;this.dateTime||G||B||this.getTickAmount();var st=y(this.userMin,q.min),mt=y(this.userMax,q.max);if(B){this.linkedParent=j[this.coll][q.linkedTo];var wt=this.linkedParent.getExtremes();this.min=y(wt.min,wt.dataMin),this.max=y(wt.max,wt.dataMax),q.type!==this.linkedParent.options.type&&H(11,1,j)}else{if(Z&&D(at)){if(this.dataMin>=at)wt=at,et=0;else if(this.dataMax<=at){var yt=at;J=0}}this.min=y(st,wt,this.dataMin),this.max=y(mt,yt,this.dataMax)}if(W&&(this.positiveValuesOnly&&!O&&0>=Math.min(this.min,y(this.dataMin,this.min))&&H(10,1,j),this.min=C(W.log2lin(this.min),16),this.max=C(W.log2lin(this.max),16)),this.range&&D(this.max)&&(this.userMin=this.min=st=Math.max(this.dataMin,this.minFromRange()),this.userMax=mt=this.max,this.range=null),M(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(G||this.axisPointRange||this.stacking&&this.stacking.usePercentage||B)&&D(this.min)&&D(this.max)&&(j=this.max-this.min)&&(!D(st)&&et&&(this.min-=j*et),!D(mt)&&J&&(this.max+=j*J)),A(this.userMin)||(A(q.softMin)&&q.softMin<this.min&&(this.min=st=q.softMin),A(q.floor)&&(this.min=Math.max(this.min,q.floor))),A(this.userMax)||(A(q.softMax)&&q.softMax>this.max&&(this.max=mt=q.softMax),A(q.ceiling)&&(this.max=Math.min(this.max,q.ceiling))),Z&&D(this.dataMin)&&(at=at||0,!D(st)&&this.min<at&&this.dataMin>=at?this.min=this.options.minRange?Math.min(at,this.max-this.minRange):at:!D(mt)&&this.max>at&&this.dataMax<=at&&(this.max=this.options.minRange?Math.max(at,this.min+this.minRange):at)),A(this.min)&&A(this.max)&&!this.chart.polar&&this.min>this.max&&(D(this.options.min)?this.max=this.min:D(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:B&&this.linkedParent&&!nt&&Y===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:y(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,G?1:(this.max-this.min)*Y/Math.max(this.len,Y)),Q&&!O){var gt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(bt){bt.forceCrop=bt.forceCropping&&bt.forceCropping(),bt.processData(gt)}),M(this,"postProcessData",{hasExtremesChanged:gt})}this.setAxisTranslation(),M(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),O=y(q.minTickInterval,this.dateTime&&!this.series.some(function(bt){return bt.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<O&&(this.tickInterval=O),this.dateTime||this.logarithmic||nt||(this.tickInterval=K(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},X.prototype.setTickPositions=function(){var O=this.options,j=O.tickPositions,W=O.tickPositioner,q=this.getMinorTickInterval(),Q=this.hasVerticalPanning(),B=this.coll==="colorAxis",Y=(B||!Q)&&O.startOnTick;Q=(B||!Q)&&O.endOnTick,B=[];var G;if(this.tickmarkOffset=this.categories&&O.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=q==="auto"&&this.tickInterval?this.tickInterval/5:q,this.single=this.min===this.max&&D(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||O.allowDecimals!==!1),j)B=j.slice();else if(A(this.min)&&A(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)B=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,O.units),this.min,this.max,O.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)B=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(q=O=this.tickInterval;q<=2*O&&(B=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&B.length>this.tickAmount);)this.tickInterval=K(this,q*=1.1);else B=[this.min,this.max],H(19,!1,this.chart);B.length>this.len&&(B=[B[0],B[B.length-1]],B[0]===B[1]&&(B.length=1)),W&&(this.tickPositions=B,(G=W.apply(this,[this.min,this.max]))&&(B=G))}this.tickPositions=B,this.paddedTicks=B.slice(0),this.trimTicks(B,Y,Q),!this.isLinked&&A(this.min)&&A(this.max)&&(this.single&&2>B.length&&!this.categories&&!this.series.some(function(Z){return Z.is("heatmap")&&Z.options.pointPlacement==="between"})&&(this.min-=.5,this.max+=.5),j||G||this.adjustTickAmount()),M(this,"afterSetTickPositions")},X.prototype.trimTicks=function(O,j,W){var q=O[0],Q=O[O.length-1],B=!this.isOrdinal&&this.minPointOffset||0;if(M(this,"trimTicks"),!this.isLinked){if(j&&q!==-1/0)this.min=q;else for(;this.min-B>O[0];)O.shift();if(W)this.max=Q;else for(;this.max+B<O[O.length-1];)O.pop();O.length===0&&D(q)&&!this.options.tickPositions&&O.push((Q+q)/2)}},X.prototype.alignToOthers=function(){var O=this,j=[this],W=O.options,q=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Q=[],B;if(O.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&W.alignTicks||q)&&W.startOnTick!==!1&&W.endOnTick!==!1&&!O.logarithmic){var Y=function(J){var et=J.options;return[J.horiz?et.left:et.top,et.width,et.height,et.pane].join()},G=Y(this);this.chart[this.coll].forEach(function(J){var et=J.series;et.length&&et.some(function(nt){return nt.visible})&&J!==O&&Y(J)===G&&(B=!0,j.push(J))})}if(B&&q){j.forEach(function(J){J=J.getThresholdAlignment(O),A(J)&&Q.push(J)});var Z=1<Q.length?Q.reduce(function(J,et){return J+et},0)/Q.length:void 0;j.forEach(function(J){J.thresholdAlignment=Z})}return B},X.prototype.getThresholdAlignment=function(O){if((!A(this.dataMin)||this!==O&&this.series.some(function(j){return j.isDirty||j.isDirtyData}))&&this.getSeriesExtremes(),A(this.threshold))return O=S((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(O=1-O),O},X.prototype.getTickAmount=function(){var O=this.options,j=O.tickPixelInterval,W=O.tickAmount;!D(O.tickInterval)&&!W&&this.len<j&&!this.isRadial&&!this.logarithmic&&O.startOnTick&&O.endOnTick&&(W=2),!W&&this.alignToOthers()&&(W=Math.ceil(this.len/j)+1),4>W&&(this.finalTickAmt=W,W=5),this.tickAmount=W},X.prototype.adjustTickAmount=function(){var O=this,j=O.finalTickAmt,W=O.max,q=O.min,Q=O.options,B=O.tickPositions,Y=O.tickAmount,G=O.thresholdAlignment,Z=B&&B.length,J=y(O.threshold,O.softThreshold?0:null),et=O.tickInterval;if(A(G)){var nt=.5>G?Math.ceil(G*(Y-1)):Math.floor(G*(Y-1));Q.reversed&&(nt=Y-1-nt)}if(O.hasData()&&A(q)&&A(W)){if(G=function(){O.transA*=(Z-1)/(Y-1),O.min=Q.startOnTick?B[0]:Math.min(q,B[0]),O.max=Q.endOnTick?B[B.length-1]:Math.max(W,B[B.length-1])},A(nt)&&A(O.threshold)){for(;B[nt]!==J||B.length!==Y||B[0]>q||B[B.length-1]<W;){for(B.length=0,B.push(O.threshold);B.length<Y;)B[nt]===void 0||B[nt]>O.threshold?B.unshift(C(B[0]-et)):B.push(C(B[B.length-1]+et));if(et>8*O.tickInterval)break;et*=2}G()}else if(Z<Y){for(;B.length<Y;)B.length%2||q===J?B.push(C(B[B.length-1]+et)):B.unshift(C(B[0]-et));G()}if(D(j)){for(et=J=B.length;et--;)(j===3&&et%2===1||2>=j&&0<et&&et<J-1)&&B.splice(et,1);O.finalTickAmt=void 0}}},X.prototype.setScale=function(){var O=!1,j=!1;this.series.forEach(function(q){O=O||q.isDirtyData||q.isDirty,j=j||q.xAxis&&q.xAxis.isDirty||!1}),this.setAxisSize();var W=this.len!==(this.old&&this.old.len);W||O||j||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=W||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),O&&this.panningState&&(this.panningState.isDirty=!0),M(this,"afterSetScale")},X.prototype.setExtremes=function(O,j,W,q,Q){var B=this,Y=B.chart;W=y(W,!0),B.series.forEach(function(G){delete G.kdTree}),Q=F(Q,{min:O,max:j}),M(B,"setExtremes",Q,function(){B.userMin=O,B.userMax=j,B.eventArgs=Q,W&&Y.redraw(q)})},X.prototype.zoom=function(O,j){var W=this,q=this.dataMin,Q=this.dataMax,B=this.options,Y=Math.min(q,y(B.min,q)),G=Math.max(Q,y(B.max,Q));return O={newMin:O,newMax:j},M(this,"zoom",O,function(Z){var J=Z.newMin,et=Z.newMax;(J!==W.min||et!==W.max)&&(W.allowZoomOutside||(D(q)&&(J<Y&&(J=Y),J>G&&(J=G)),D(Q)&&(et<Y&&(et=Y),et>G&&(et=G))),W.displayBtn=typeof J<"u"||typeof et<"u",W.setExtremes(J,et,!1,void 0,{trigger:"zoom"})),Z.zoomed=!0}),O.zoomed},X.prototype.setAxisSize=function(){var O=this.chart,j=this.options,W=j.offsets||[0,0,0,0],q=this.horiz,Q=this.width=Math.round(R(y(j.width,O.plotWidth-W[3]+W[1]),O.plotWidth)),B=this.height=Math.round(R(y(j.height,O.plotHeight-W[0]+W[2]),O.plotHeight)),Y=this.top=Math.round(R(y(j.top,O.plotTop+W[0]),O.plotHeight,O.plotTop));j=this.left=Math.round(R(y(j.left,O.plotLeft+W[3]),O.plotWidth,O.plotLeft)),this.bottom=O.chartHeight-B-Y,this.right=O.chartWidth-Q-j,this.len=Math.max(q?Q:B,0),this.pos=q?j:Y},X.prototype.getExtremes=function(){var O=this.logarithmic;return{min:O?C(O.lin2log(this.min)):this.min,max:O?C(O.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},X.prototype.getThreshold=function(O){var j=this.logarithmic,W=j?j.lin2log(this.min):this.min;return j=j?j.lin2log(this.max):this.max,O===null||O===-1/0?O=W:O===1/0?O=j:W>O?O=W:j<O&&(O=j),this.translate(O,0,1,0,1)},X.prototype.autoLabelAlign=function(O){var j=(y(O,0)-90*this.side+720)%360;return O={align:"center"},M(this,"autoLabelAlign",O,function(W){15<j&&165>j?W.align="right":195<j&&345>j&&(W.align="left")}),O.align},X.prototype.tickSize=function(O){var j=this.options,W=y(j[O==="tick"?"tickWidth":"minorTickWidth"],O==="tick"&&this.isXAxis&&!this.categories?1:0),q=j[O==="tick"?"tickLength":"minorTickLength"];if(W&&q){j[O+"Position"]==="inside"&&(q=-q);var Q=[q,W]}return O={tickSize:Q},M(this,"afterTickSize",O),O.tickSize},X.prototype.labelMetrics=function(){var O=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[O]&&this.ticks[O].label)},X.prototype.unsquish=function(){var O=this.options.labels,j=this.horiz,W=this.tickInterval,q=this.len/(((this.categories?1:0)+this.max-this.min)/W),Q=O.rotation,B=this.labelMetrics(),Y=Math.max(this.max-this.min,0),G=function(yt){var gt=yt/(q||1);return gt=1<gt?Math.ceil(gt):1,gt*W>Y&&yt!==1/0&&q!==1/0&&Y&&(gt=Math.ceil(Y/W)),C(gt*W)},Z=W,J=Number.MAX_VALUE;if(j){if(!O.staggerLines)if(A(Q))var et=[Q];else q<O.autoRotationLimit&&(et=O.autoRotation);if(et)for(var nt=j=void 0,at=0,st=et;at<st.length;at++){var mt=st[at];if((mt===Q||mt&&-90<=mt&&90>=mt)&&(j=G(Math.abs(B.h/Math.sin(T*mt))),nt=j+Math.abs(mt/360),nt<J)){J=nt;var wt=mt;Z=j}}}else Z=G(B.h);return this.autoRotation=et,this.labelRotation=y(wt,A(Q)?Q:0),O.step?W:Z},X.prototype.getSlotWidth=function(O){var j=this.chart,W=this.horiz,q=this.options.labels,Q=Math.max(this.tickPositions.length-(this.categories?0:1),1),B=j.margin[3];if(O&&A(O.slotWidth))return O.slotWidth;if(W&&2>q.step)return q.rotation?0:(this.staggerLines||1)*this.len/Q;if(!W){if(O=q.style.width,O!==void 0)return parseInt(String(O),10);if(B)return B-j.spacing[3]}return .33*j.chartWidth},X.prototype.renderUnsquish=function(){var O=this.chart,j=O.renderer,W=this.tickPositions,q=this.ticks,Q=this.options.labels,B=Q.style,Y=this.horiz,G=this.getSlotWidth(),Z=Math.max(1,Math.round(G-2*Q.padding)),J={},et=this.labelMetrics(),nt=B.textOverflow,at=0;if(E(Q.rotation)||(J.rotation=Q.rotation||0),W.forEach(function(yt){yt=q[yt],yt.movedLabel&&yt.replaceMovedLabel(),yt&&yt.label&&yt.label.textPxLength>at&&(at=yt.label.textPxLength)}),this.maxLabelLength=at,this.autoRotation)at>Z&&at>et.h?J.rotation=this.labelRotation:this.labelRotation=0;else if(G){var st=Z;if(!nt){var mt="clip";for(Z=W.length;!Y&&Z--;){var wt=W[Z];(wt=q[wt].label)&&(wt.styles&&wt.styles.textOverflow==="ellipsis"?wt.css({textOverflow:"clip"}):wt.textPxLength>G&&wt.css({width:G+"px"}),wt.getBBox().height>this.len/W.length-(et.h-et.f)&&(wt.specificTextOverflow="ellipsis"))}}}J.rotation&&(st=at>.5*O.chartHeight?.33*O.chartHeight:at,nt||(mt="ellipsis")),(this.labelAlign=Q.align||this.autoLabelAlign(this.labelRotation))&&(J.align=this.labelAlign),W.forEach(function(yt){var gt=(yt=q[yt])&&yt.label,bt=B.width,ht={};gt&&(gt.attr(J),yt.shortenLabel?yt.shortenLabel():st&&!bt&&B.whiteSpace!=="nowrap"&&(st<gt.textPxLength||gt.element.tagName==="SPAN")?(ht.width=st+"px",nt||(ht.textOverflow=gt.specificTextOverflow||mt),gt.css(ht)):gt.styles&&gt.styles.width&&!ht.width&&!bt&&gt.css({width:null}),delete gt.specificTextOverflow,yt.rotation=J.rotation)},this),this.tickRotCorr=j.rotCorr(et.b,this.labelRotation||0,this.side!==0)},X.prototype.hasData=function(){return this.series.some(function(O){return O.hasData()})||this.options.showEmpty&&D(this.min)&&D(this.max)},X.prototype.addTitle=function(O){var j=this.chart.renderer,W=this.horiz,q=this.opposite,Q=this.options.title,B=this.chart.styledMode,Y;this.axisTitle||((Y=Q.textAlign)||(Y=(W?{low:"left",middle:"center",high:"right"}:{low:q?"right":"left",middle:"center",high:q?"left":"right"})[Q.align]),this.axisTitle=j.text(Q.text||"",0,0,Q.useHTML).attr({zIndex:7,rotation:Q.rotation,align:Y}).addClass("highcharts-axis-title"),B||this.axisTitle.css(x(Q.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),B||Q.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[O?"show":"hide"](O)},X.prototype.generateTick=function(O){var j=this.ticks;j[O]?j[O].addLabel():j[O]=new f(this,O)},X.prototype.getOffset=function(){var O=this,j=this,W=j.chart,q=j.horiz,Q=j.options,B=j.side,Y=j.ticks,G=j.tickPositions,Z=j.coll,J=j.axisParent,et=W.renderer,nt=W.inverted&&!j.isZAxis?[1,0,3,2][B]:B,at=j.hasData(),st=Q.title,mt=Q.labels,wt=W.axisOffset;W=W.clipOffset;var yt=[-1,1,1,-1][B],gt=Q.className,bt,ht=0,it=0,ot=0;if(j.showAxis=bt=at||Q.showEmpty,j.staggerLines=j.horiz&&mt.staggerLines||void 0,!j.axisGroup){var ct=function(vt,xt,St){return et.g(vt).attr({zIndex:St}).addClass("highcharts-".concat(Z.toLowerCase()).concat(xt," ")+(O.isRadial?"highcharts-radial-axis".concat(xt," "):"")+(gt||"")).add(J)};j.gridGroup=ct("grid","-grid",Q.gridZIndex),j.axisGroup=ct("axis","",Q.zIndex),j.labelGroup=ct("axis-labels","-labels",mt.zIndex)}if(at||j.isLinked?(G.forEach(function(vt){j.generateTick(vt)}),j.renderUnsquish(),j.reserveSpaceDefault=B===0||B===2||{1:"left",3:"right"}[B]===j.labelAlign,y(mt.reserveSpace,j.labelAlign==="center"?!0:null,j.reserveSpaceDefault)&&G.forEach(function(vt){ot=Math.max(Y[vt].getLabelSize(),ot)}),j.staggerLines&&(ot*=j.staggerLines),j.labelOffset=ot*(j.opposite?-1:1)):p(Y,function(vt,xt){vt.destroy(),delete Y[xt]}),st&&st.text&&st.enabled!==!1&&(j.addTitle(bt),bt&&st.reserveSpace!==!1)){j.titleOffset=ht=j.axisTitle.getBBox()[q?"height":"width"];var ft=st.offset;it=D(ft)?0:y(st.margin,q?5:10)}j.renderLine(),j.offset=yt*y(Q.offset,wt[B]?wt[B]+(Q.margin||0):0),j.tickRotCorr=j.tickRotCorr||{x:0,y:0},st=B===0?-j.labelMetrics().h:B===2?j.tickRotCorr.y:0,at=Math.abs(ot)+it,ot&&(at=at-st+yt*(q?y(mt.y,j.tickRotCorr.y+8*yt):mt.x)),j.axisTitleMargin=y(ft,at),j.getMaxLabelDimensions&&(j.maxLabelDimensions=j.getMaxLabelDimensions(Y,G)),Z!=="colorAxis"&&(q=this.tickSize("tick"),wt[B]=Math.max(wt[B],(j.axisTitleMargin||0)+ht+yt*j.offset,at,G&&G.length&&q?q[0]+yt*j.offset:0),Q=!j.axisLine||Q.offset?0:2*Math.floor(j.axisLine.strokeWidth()/2),W[nt]=Math.max(W[nt],Q)),M(this,"afterGetOffset")},X.prototype.getLinePath=function(O){var j=this.chart,W=this.opposite,q=this.offset,Q=this.horiz,B=this.left+(W?this.width:0)+q;return q=j.chartHeight-this.bottom-(W?this.height:0)+q,W&&(O*=-1),j.renderer.crispLine([["M",Q?this.left:B,Q?q:this.top],["L",Q?j.chartWidth-this.right:B,Q?q:j.chartHeight-this.bottom]],O)},X.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},X.prototype.getTitlePosition=function(){var O=this.horiz,j=this.left,W=this.top,q=this.len,Q=this.options.title,B=O?j:W,Y=this.opposite,G=this.offset,Z=Q.x,J=Q.y,et=this.axisTitle,nt=this.chart.renderer.fontMetrics(Q.style.fontSize,et);return et=et?Math.max(et.getBBox(!1,0).height-nt.h-1,0):0,q={low:B+(O?0:q),middle:B+q/2,high:B+(O?q:0)}[Q.align],j=(O?W+this.height:j)+(O?1:-1)*(Y?-1:1)*(this.axisTitleMargin||0)+[-et,et,nt.f,-et][this.side],O={x:O?q+Z:j+(Y?this.width:0)+G+Z,y:O?j+J-(Y?this.height:0)+G:q+J},M(this,"afterGetTitlePosition",{titlePosition:O}),O},X.prototype.renderMinorTick=function(O,j){var W=this.minorTicks;W[O]||(W[O]=new f(this,O,"minor")),j&&W[O].isNew&&W[O].render(null,!0),W[O].render(null,!1,1)},X.prototype.renderTick=function(O,j,W){var q=this.ticks;(!this.isLinked||O>=this.min&&O<=this.max||this.grid&&this.grid.isColumn)&&(q[O]||(q[O]=new f(this,O)),W&&q[O].isNew&&q[O].render(j,!0,-1),q[O].render(j))},X.prototype.render=function(){var O=this,j=O.chart,W=O.logarithmic,q=O.options,Q=O.isLinked,B=O.tickPositions,Y=O.axisTitle,G=O.ticks,Z=O.minorTicks,J=O.alternateBands,et=q.stackLabels,nt=q.alternateGridColor,at=O.tickmarkOffset,st=O.axisLine,mt=O.showAxis,wt=g(j.renderer.globalAnimation),yt,gt;if(O.labelEdge.length=0,O.overlap=!1,[G,Z,J].forEach(function(ht){p(ht,function(it){it.isActive=!1})}),O.hasData()||Q){var bt=O.chart.hasRendered&&O.old&&A(O.old.min);O.minorTickInterval&&!O.categories&&O.getMinorTickPositions().forEach(function(ht){O.renderMinorTick(ht,bt)}),B.length&&(B.forEach(function(ht,it){O.renderTick(ht,it,bt)}),at&&(O.min===0||O.single)&&(G[-1]||(G[-1]=new f(O,-1,null,!0)),G[-1].render(-1))),nt&&B.forEach(function(ht,it){gt=typeof B[it+1]<"u"?B[it+1]+at:O.max-at,it%2===0&&ht<O.max&&gt<=O.max+(j.polar?-at:at)&&(J[ht]||(J[ht]=new h.PlotLineOrBand(O)),yt=ht+at,J[ht].options={from:W?W.lin2log(yt):yt,to:W?W.lin2log(gt):gt,color:nt,className:"highcharts-alternate-grid"},J[ht].render(),J[ht].isActive=!0)}),O._addedPlotLB||(O._addedPlotLB=!0,(q.plotLines||[]).concat(q.plotBands||[]).forEach(function(ht){O.addPlotBandOrLine(ht)}))}[G,Z,J].forEach(function(ht){var it=[],ot=wt.duration;p(ht,function(ct,ft){ct.isActive||(ct.render(ft,!1,0),ct.isActive=!1,it.push(ft))}),z(function(){for(var ct=it.length;ct--;)ht[it[ct]]&&!ht[it[ct]].isActive&&(ht[it[ct]].destroy(),delete ht[it[ct]])},ht!==J&&j.hasRendered&&ot?ot:0)}),st&&(st[st.isPlaced?"animate":"attr"]({d:this.getLinePath(st.strokeWidth())}),st.isPlaced=!0,st[mt?"show":"hide"](mt)),Y&&mt&&(q=O.getTitlePosition(),Y[Y.isNew?"attr":"animate"](q),Y.isNew=!1),et&&et.enabled&&O.stacking&&O.stacking.renderStackTotals(),O.old={len:O.len,max:O.max,min:O.min,transA:O.transA,userMax:O.userMax,userMin:O.userMin},O.isDirty=!1,M(this,"afterRender")},X.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(O){O.render()})),this.series.forEach(function(O){O.isDirty=!0})},X.prototype.getKeepProps=function(){return this.keepProps||X.keepProps},X.prototype.destroy=function(O){var j=this,W=j.plotLinesAndBands,q=this.eventOptions;if(M(this,"destroy",{keepEvents:O}),O||_(j),[j.ticks,j.minorTicks,j.alternateBands].forEach(function(B){U(B)}),W)for(O=W.length;O--;)W[O].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(B){j[B]&&(j[B]=j[B].destroy())});for(var Q in j.plotLinesAndBandsGroups)j.plotLinesAndBandsGroups[Q]=j.plotLinesAndBandsGroups[Q].destroy();p(j,function(B,Y){j.getKeepProps().indexOf(Y)===-1&&delete j[Y]}),this.eventOptions=q},X.prototype.drawCrosshair=function(O,j){var W=this.crosshair,q=y(W&&W.snap,!0),Q=this.chart,B,Y=this.cross;if(M(this,"drawCrosshair",{e:O,point:j}),O||(O=this.cross&&this.cross.e),W&&(D(j)||!q)!==!1){if(q?D(j)&&(B=y(this.coll!=="colorAxis"?j.crosshairPos:null,this.isXAxis?j.plotX:this.len-j.plotY)):B=O&&(this.horiz?O.chartX-this.pos:this.len-O.chartY+this.pos),D(B)){var G={value:j&&(this.isXAxis?j.x:y(j.stackY,j.y)),translatedValue:B};Q.polar&&F(G,{isCrosshair:!0,chartX:O&&O.chartX,chartY:O&&O.chartY,point:j}),G=this.getPlotLinePath(G)||null}if(!D(G)){this.hideCrosshair();return}q=this.categories&&!this.isRadial,Y||(this.cross=Y=Q.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(q?"category ":"thin ")+(W.className||"")).attr({zIndex:y(W.zIndex,2)}).add(),Q.styledMode||(Y.attr({stroke:W.color||(q?a.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":y(W.width,1)}).css({"pointer-events":"none"}),W.dashStyle&&Y.attr({dashstyle:W.dashStyle}))),Y.show().attr({d:G}),q&&!W.width&&Y.attr({"stroke-width":this.transA}),this.cross.e=O}else this.hideCrosshair();M(this,"afterDrawCrosshair",{e:O,point:j})},X.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),M(this,"afterHideCrosshair")},X.prototype.hasVerticalPanning=function(){var O=this.chart.options.chart.panning;return!!(O&&O.enabled&&/y/.test(O.type))},X.prototype.validatePositiveValue=function(O){return A(O)&&0<O},X.prototype.update=function(O,j){var W=this.chart;O=x(this.userOptions,O),this.destroy(!0),this.init(W,O),W.isDirtyBox=!0,y(j,!0)&&W.redraw()},X.prototype.remove=function(O){for(var j=this.chart,W=this.coll,q=this.series,Q=q.length;Q--;)q[Q]&&q[Q].remove(!1);$(j.axes,this),$(j[W],this),j[W].forEach(function(B,Y){B.options.index=B.userOptions.index=Y}),this.destroy(),j.isDirtyBox=!0,y(O,!0)&&j.redraw()},X.prototype.setTitle=function(O,j){this.update({title:O},j)},X.prototype.setCategories=function(O,j){this.update({categories:O},j)},X.defaultOptions=o.defaultXAxisOptions,X.keepProps="extKey hcEvents names series userMax userMin".split(" "),X}(),i}),n(r,"Core/Axis/DateTimeAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.getMagnitude,u=i.normalizeTickInterval,c=i.timeUnits,h;return function(f){function v(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function g(T){T.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new w(this))}var b=[];f.compose=function(T){return b.indexOf(T)===-1&&(b.push(T),T.keepProps.push("dateTime"),T.prototype.getTimeTicks=v,o(T,"init",g)),T};var w=function(){function T(P){this.axis=P}return T.prototype.normalizeTimeTickInterval=function(P,k){var S=k||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];k=S[S.length-1];var C=c[k[0]],D=k[1],U;for(U=0;U<S.length&&(k=S[U],C=c[k[0]],D=k[1],!(S[U+1]&&P<=(C*D[D.length-1]+c[S[U+1][0]])/2));U++);return C===c.year&&P<5*C&&(D=[1,2,5]),P=u(P/C,D,k[0]==="year"?Math.max(a(P/C),1):1),{unitRange:C,count:P,unitName:k[0]}},T.prototype.getXDateFormat=function(P,k){var S=this.axis,C=S.chart.time;return S.closestPointRange?C.getDateFormat(S.closestPointRange,P,S.options.startOfWeek,k)||C.resolveDTLFormat(k.year).main:C.resolveDTLFormat(k.day).main},T}();f.Additions=w}(h||(h={})),h}),n(r,"Core/Axis/LogarithmicAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.normalizeTickInterval,u=i.pick,c;return function(h){function f(w){var T=this.logarithmic;w.userOptions.type!=="logarithmic"?this.logarithmic=void 0:T||(this.logarithmic=new b(this))}function v(){var w=this.logarithmic;w&&(this.lin2val=function(T){return w.lin2log(T)},this.val2lin=function(T){return w.log2lin(T)})}var g=[];h.compose=function(w){return g.indexOf(w)===-1&&(g.push(w),w.keepProps.push("logarithmic"),o(w,"init",f),o(w,"afterInit",v)),w};var b=function(){function w(T){this.axis=T}return w.prototype.getLogTickPositions=function(T,P,k,S){var C=this.axis,D=C.len,U=C.options,$=[];if(S||(this.minorAutoInterval=void 0),.5<=T)T=Math.round(T),$=C.getLinearTickPositions(T,P,k);else if(.08<=T){var H=Math.floor(P),F,M=U=void 0;for(D=.3<T?[1,2,4]:.15<T?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];H<k+1&&!M;H++){var I=D.length;for(F=0;F<I&&!M;F++){var A=this.log2lin(this.lin2log(H)*D[F]);A>P&&(!S||U<=k)&&typeof U<"u"&&$.push(U),U>k&&(M=!0),U=A}}}else P=this.lin2log(P),k=this.lin2log(k),T=S?C.getMinorTickInterval():U.tickInterval,T=u(T==="auto"?null:T,this.minorAutoInterval,U.tickPixelInterval/(S?5:1)*(k-P)/((S?D/C.tickPositions.length:D)||1)),T=a(T),$=C.getLinearTickPositions(T,P,k).map(this.log2lin),S||(this.minorAutoInterval=T/5);return S||(C.tickInterval=T),$},w.prototype.lin2log=function(T){return Math.pow(10,T)},w.prototype.log2lin=function(T){return Math.log(T)/Math.LN10},w}();h.Additions=b}(c||(c={})),c}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.erase,a=i.extend,u=i.isNumber,c;return function(h){var f=[],v;h.compose=function(b,w){return v||(v=b),f.indexOf(w)===-1&&(f.push(w),a(w.prototype,g.prototype)),w};var g=function(){function b(){}return b.prototype.getPlotBandPath=function(w,T,P){P===void 0&&(P=this.options);var k=this.getPlotLinePath({value:T,force:!0,acrossPanes:P.acrossPanes}),S=[],C=this.horiz;if(T=!u(this.min)||!u(this.max)||w<this.min&&T<this.min||w>this.max&&T>this.max,w=this.getPlotLinePath({value:w,force:!0,acrossPanes:P.acrossPanes}),P=1,w&&k){if(T){var D=w.toString()===k.toString();P=0}for(T=0;T<w.length;T+=2){var U=w[T],$=w[T+1],H=k[T],F=k[T+1];U[0]!=="M"&&U[0]!=="L"||$[0]!=="M"&&$[0]!=="L"||H[0]!=="M"&&H[0]!=="L"||F[0]!=="M"&&F[0]!=="L"||(C&&H[1]===U[1]?(H[1]+=P,F[1]+=P):C||H[2]!==U[2]||(H[2]+=P,F[2]+=P),S.push(["M",U[1],U[2]],["L",$[1],$[2]],["L",F[1],F[2]],["L",H[1],H[2]],["Z"])),S.isFlat=D}}return S},b.prototype.addPlotBand=function(w){return this.addPlotBandOrLine(w,"plotBands")},b.prototype.addPlotLine=function(w){return this.addPlotBandOrLine(w,"plotLines")},b.prototype.addPlotBandOrLine=function(w,T){var P=this,k=this.userOptions,S=new v(this,w);if(this.visible&&(S=S.render()),S){if(this._addedPlotLB||(this._addedPlotLB=!0,(k.plotLines||[]).concat(k.plotBands||[]).forEach(function(D){P.addPlotBandOrLine(D)})),T){var C=k[T]||[];C.push(w),k[T]=C}this.plotLinesAndBands.push(S)}return S},b.prototype.removePlotBandOrLine=function(w){var T=this.plotLinesAndBands,P=this.options,k=this.userOptions;if(T){for(var S=T.length;S--;)T[S].id===w&&T[S].destroy();[P.plotLines||[],k.plotLines||[],P.plotBands||[],k.plotBands||[]].forEach(function(C){for(S=C.length;S--;)(C[S]||{}).id===w&&o(C,C[S])})}},b.prototype.removePlotBand=function(w){this.removePlotBandOrLine(w)},b.prototype.removePlotLine=function(w){this.removePlotBandOrLine(w)},b}()}(c||(c={})),c}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[r["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],r["Core/Utilities.js"]],function(i,o){var a=o.arrayMax,u=o.arrayMin,c=o.defined,h=o.destroyObjectProperties,f=o.erase,v=o.fireEvent,g=o.merge,b=o.objectEach,w=o.pick;return o=function(){function T(P,k){this.axis=P,k&&(this.options=k,this.id=k.id)}return T.compose=function(P){return i.compose(T,P)},T.prototype.render=function(){v(this,"render");var P=this,k=P.axis,S=k.horiz,C=k.logarithmic,D=P.options,U=D.color,$=w(D.zIndex,0),H=D.events,F={},M=k.chart.renderer,I=D.label,A=P.label,E=D.to,x=D.from,m=D.value,p=P.svgElem,y=[],R=c(x)&&c(E);y=c(m);var _=!p,L={class:"highcharts-plot-"+(R?"band ":"line ")+(D.className||"")},z=R?"bands":"lines";if(C&&(x=C.log2lin(x),E=C.log2lin(E),m=C.log2lin(m)),k.chart.styledMode||(y?(L.stroke=U||"#999999",L["stroke-width"]=w(D.width,1),D.dashStyle&&(L.dashstyle=D.dashStyle)):R&&(L.fill=U||"#e6ebf5",D.borderWidth&&(L.stroke=D.borderColor,L["stroke-width"]=D.borderWidth))),F.zIndex=$,z+="-"+$,(C=k.plotLinesAndBandsGroups[z])||(k.plotLinesAndBandsGroups[z]=C=M.g("plot-"+z).attr(F).add()),_&&(P.svgElem=p=M.path().attr(L).add(C)),y)y=k.getPlotLinePath({value:m,lineWidth:p.strokeWidth(),acrossPanes:D.acrossPanes});else if(R)y=k.getPlotBandPath(x,E,D);else return;return!P.eventsAdded&&H&&(b(H,function(K,X){p.on(X,function(O){H[X].apply(P,[O])})}),P.eventsAdded=!0),(_||!p.d)&&y&&y.length?p.attr({d:y}):p&&(y?(p.show(),p.animate({d:y})):p.d&&(p.hide(),A&&(P.label=A=A.destroy()))),I&&(c(I.text)||c(I.formatter))&&y&&y.length&&0<k.width&&0<k.height&&!y.isFlat?(I=g({align:S&&R&&"center",x:S?!R&&4:10,verticalAlign:!S&&R&&"middle",y:S?R?16:10:R?6:-4,rotation:S&&!R&&90},I),this.renderLabel(I,y,R,$)):A&&A.hide(),P},T.prototype.renderLabel=function(P,k,S,C){var D=this.axis,U=D.chart.renderer,$=this.label;$||(this.label=$=U.text(this.getLabelText(P),0,0,P.useHTML).attr({align:P.textAlign||P.align,rotation:P.rotation,class:"highcharts-plot-"+(S?"band":"line")+"-label "+(P.className||""),zIndex:C}).add(),D.chart.styledMode||$.css(g({textOverflow:"ellipsis"},P.style))),C=k.xBounds||[k[0][1],k[1][1],S?k[2][1]:k[0][1]],k=k.yBounds||[k[0][2],k[1][2],S?k[2][2]:k[0][2]],S=u(C),U=u(k),$.align(P,!1,{x:S,y:U,width:a(C)-S,height:a(k)-U}),$.alignValue&&$.alignValue!=="left"||(P=P.clip?D.width:D.chart.chartWidth,$.css({width:($.rotation===90?D.height-($.alignAttr.y-D.top):P-($.alignAttr.x-D.left))+"px"})),$.show(!0)},T.prototype.getLabelText=function(P){return c(P.formatter)?P.formatter.call(this):P.text},T.prototype.destroy=function(){f(this.axis.plotLinesAndBands,this),delete this.axis,h(this)},T}(),o}),n(r,"Core/Tooltip.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=i.format,f=o.doc,v=a.distribute,g=c.clamp,b=c.css,w=c.discardElement,T=c.extend,P=c.fireEvent,k=c.isArray,S=c.isNumber,C=c.isString,D=c.merge,U=c.pick,$=c.splat,H=c.syncTimeout;return i=function(){function F(M,I){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=M,this.init(M,I)}return F.prototype.applyFilter=function(){var M=this.chart;M.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+M.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},F.prototype.bodyFormatter=function(M){return M.map(function(I){var A=I.series.tooltipOptions;return(A[(I.point.formatPrefix||"point")+"Formatter"]||I.point.tooltipFormatter).call(I.point,A[(I.point.formatPrefix||"point")+"Format"]||"")})},F.prototype.cleanSplit=function(M){this.chart.series.forEach(function(I){var A=I&&I.tt;A&&(!A.isActive||M?I.tt=A.destroy():A.isActive=!1)})},F.prototype.defaultFormatter=function(M){var I=this.points||$(this),A=[M.tooltipFooterHeaderFormatter(I[0])];return A=A.concat(M.bodyFormatter(I)),A.push(M.tooltipFooterHeaderFormatter(I[0],!0)),A},F.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),w(this.container)),c.clearTimeout(this.hideTimer),c.clearTimeout(this.tooltipTimeout)},F.prototype.getAnchor=function(M,I){var A=this.chart,E=A.pointer,x=A.inverted,m=A.plotTop;if(A=A.plotLeft,M=$(M),M[0].series&&M[0].series.yAxis&&!M[0].series.yAxis.options.reversedStacks&&(M=M.slice().reverse()),this.followPointer&&I)typeof I.chartX>"u"&&(I=E.normalize(I)),M=[I.chartX-A,I.chartY-m];else if(M[0].tooltipPos)M=M[0].tooltipPos;else{var p=0,y=0;M.forEach(function(R){(R=R.pos(!0))&&(p+=R[0],y+=R[1])}),p/=M.length,y/=M.length,this.shared&&1<M.length&&I&&(x?p=I.chartX:y=I.chartY),M=[p-A,y-m]}return M.map(Math.round)},F.prototype.getClassName=function(M,I,A){var E=M.series,x=E.options;return[this.options.className,"highcharts-label",A&&"highcharts-tooltip-header",I?"highcharts-tooltip-box":"highcharts-tooltip",!A&&"highcharts-color-"+U(M.colorIndex,E.colorIndex),x&&x.className].filter(C).join(" ")},F.prototype.getLabel=function(){var M=this,I=this.chart.styledMode,A=this.options,E=this.split&&this.allowShared,x=A.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none"),m,p=this.chart.renderer;if(M.label){var y=!M.label.hasClass("highcharts-label");(E&&!y||!E&&y)&&M.destroy()}if(!this.label){if(this.outside){y=this.chart.options.chart.style;var R=u.getRendererType();this.container=m=o.doc.createElement("div"),m.className="highcharts-tooltip-container",b(m,{position:"absolute",top:"1px",pointerEvents:x,zIndex:Math.max(this.options.style.zIndex||0,(y&&y.zIndex||0)+3)}),o.doc.body.appendChild(m),this.renderer=p=new R(m,0,0,y,void 0,void 0,p.styledMode)}if(E?this.label=p.g("tooltip"):(this.label=p.label("",0,0,A.shape,void 0,void 0,A.useHTML,void 0,"tooltip").attr({padding:A.padding,r:A.borderRadius}),I||this.label.attr({fill:A.backgroundColor,"stroke-width":A.borderWidth}).css(A.style).css({pointerEvents:x}).shadow(A.shadow)),I&&A.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),M.outside&&!M.split){var _=this.label,L=_.xSetter,z=_.ySetter;_.xSetter=function(K){L.call(_,M.distance),m.style.left=K+"px"},_.ySetter=function(K){z.call(_,M.distance),m.style.top=K+"px"}}this.label.attr({zIndex:8}).add()}return this.label},F.prototype.getPosition=function(M,I,A){var E=this.chart,x=this.distance,m={},p=E.inverted&&A.h||0,y=this.outside,R=y?f.documentElement.clientWidth-2*x:E.chartWidth,_=y?Math.max(f.body.scrollHeight,f.documentElement.scrollHeight,f.body.offsetHeight,f.documentElement.offsetHeight,f.documentElement.clientHeight):E.chartHeight,L=E.pointer.getChartPosition(),z=function(Y){var G=Y==="x";return[Y,G?R:_,G?M:I].concat(y?[G?M*L.scaleX:I*L.scaleY,G?L.left-x+(A.plotX+E.plotLeft)*L.scaleX:L.top-x+(A.plotY+E.plotTop)*L.scaleY,0,G?R:_]:[G?M:I,G?A.plotX+E.plotLeft:A.plotY+E.plotTop,G?E.plotLeft:E.plotTop,G?E.plotLeft+E.plotWidth:E.plotTop+E.plotHeight])},K=z("y"),X=z("x"),O;z=!!A.negative,!E.polar&&E.hoverSeries&&E.hoverSeries.yAxis&&E.hoverSeries.yAxis.reversed&&(z=!z);var j=!this.followPointer&&U(A.ttBelow,!E.inverted===z),W=function(Y,G,Z,J,et,nt,at){var st=y?Y==="y"?x*L.scaleY:x*L.scaleX:x,mt=(Z-J)/2,wt=J<et-x,yt=et+x+J<G,gt=et-st-Z+mt;if(et=et+st-mt,j&&yt)m[Y]=et;else if(!j&&wt)m[Y]=gt;else if(wt)m[Y]=Math.min(at-J,0>gt-p?gt:gt-p);else if(yt)m[Y]=Math.max(nt,et+p+Z>G?et:et+p);else return!1},q=function(Y,G,Z,J,et){var nt;return et<x||et>G-x?nt=!1:m[Y]=et<Z/2?1:et>G-J/2?G-J-2:et-Z/2,nt},Q=function(Y){var G=K;K=X,X=G,O=Y},B=function(){W.apply(0,K)!==!1?q.apply(0,X)!==!1||O||(Q(!0),B()):O?m.x=m.y=0:(Q(!0),B())};return(E.inverted||1<this.len)&&Q(),B(),m},F.prototype.hide=function(M){var I=this;c.clearTimeout(this.hideTimer),M=U(M,this.options.hideDelay),this.isHidden||(this.hideTimer=H(function(){I.getLabel().fadeOut(M&&void 0),I.isHidden=!0},M))},F.prototype.init=function(M,I){this.chart=M,this.options=I,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=I.split&&!M.inverted&&!M.polar,this.shared=I.shared||this.split,this.outside=U(I.outside,!(!M.scrollablePixelsX&&!M.scrollablePixelsY))},F.prototype.shouldStickOnContact=function(M){return!(this.followPointer||!this.options.stickOnContact||M&&!this.chart.pointer.inClass(M.target,"highcharts-tooltip"))},F.prototype.move=function(M,I,A,E){var x=this,m=x.now,p=x.options.animation!==!1&&!x.isHidden&&(1<Math.abs(M-m.x)||1<Math.abs(I-m.y)),y=x.followPointer||1<x.len;T(m,{x:p?(2*m.x+M)/3:M,y:p?(m.y+I)/2:I,anchorX:y?void 0:p?(2*m.anchorX+A)/3:A,anchorY:y?void 0:p?(m.anchorY+E)/2:E}),x.getLabel().attr(m),x.drawTracker(),p&&(c.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){x&&x.move(M,I,A,E)},32))},F.prototype.refresh=function(M,I){var A=this.chart,E=this.options,x=A.pointer,m=$(M),p=m[0],y=[],R=E.formatter||this.defaultFormatter,_=this.shared,L=A.styledMode,z={};if(E.enabled&&p.series){c.clearTimeout(this.hideTimer),this.allowShared=!(!k(M)&&M.series&&M.series.noSharedTooltip),this.followPointer=!this.split&&p.series.tooltipOptions.followPointer,M=this.getAnchor(M,I);var K=M[0],X=M[1];if(_&&this.allowShared?(x.applyInactiveState(m),m.forEach(function(W){W.setState("hover"),y.push(W.getLabelConfig())}),z={x:p.category,y:p.y},z.points=y):z=p.getLabelConfig(),this.len=y.length,R=R.call(z,this),_=p.series,this.distance=U(_.tooltipOptions.distance,16),R===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(R,m);else{var O=K,j=X;if(I&&x.isDirectTouch&&(O=I.chartX-A.plotLeft,j=I.chartY-A.plotTop),A.polar||_.options.clip===!1||m.some(function(W){return x.isDirectTouch||W.series.shouldShowTooltip(O,j)}))I=this.getLabel(),E.style.width&&!L||I.css({width:A.spacingBox.width+"px"}),I.attr({text:R&&R.join?R.join(""):R}),I.addClass(this.getClassName(p),!0),L||I.attr({stroke:E.borderColor||p.color||_.color||"#666666"}),this.updatePosition({plotX:K,plotY:X,negative:p.negative,ttBelow:p.ttBelow,h:M[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}P(this,"refresh")}},F.prototype.renderSplit=function(M,I){function A(yt,gt,bt,ht,it){return it===void 0&&(it=!0),bt?(gt=J?0:st,yt=g(yt-ht/2,Y.left,Y.right-ht-(E.outside?et:0))):(gt-=nt,yt=it?yt-ht-q:yt+q,yt=g(yt,it?yt:Y.left,Y.right)),{x:yt,y:gt}}var E=this,x=E.chart,m=E.chart,p=m.chartWidth,y=m.chartHeight,R=m.plotHeight,_=m.plotLeft,L=m.plotTop,z=m.pointer,K=m.scrollablePixelsY;K=K===void 0?0:K;var X=m.scrollablePixelsX,O=m.scrollingContainer;O=O===void 0?{scrollLeft:0,scrollTop:0}:O;var j=O.scrollLeft;O=O.scrollTop;var W=m.styledMode,q=E.distance,Q=E.options,B=E.options.positioner,Y=E.outside&&typeof X!="number"?f.documentElement.getBoundingClientRect():{left:j,right:j+p,top:O,bottom:O+y},G=E.getLabel(),Z=this.renderer||x.renderer,J=!(!x.xAxis[0]||!x.xAxis[0].opposite);x=z.getChartPosition();var et=x.left;x=x.top;var nt=L+O,at=0,st=R-K;C(M)&&(M=[!1,M]),M=M.slice(0,I.length+1).reduce(function(yt,gt,bt){if(gt!==!1&&gt!==""){bt=I[bt-1]||{isHeader:!0,plotX:I[0].plotX,plotY:R,series:{}};var ht=bt.isHeader,it=ht?E:bt.series;gt=gt.toString();var ot=it.tt,ct=bt.isHeader,ft=bt.series;ot||(ot={padding:Q.padding,r:Q.borderRadius},W||(ot.fill=Q.backgroundColor,ot["stroke-width"]=Q.borderWidth),ot=Z.label("",0,0,Q[ct?"headerShape":"shape"],void 0,void 0,Q.useHTML).addClass(E.getClassName(bt,!0,ct)).attr(ot).add(G)),ot.isActive=!0,ot.attr({text:gt}),W||ot.css(Q.style).shadow(Q.shadow).attr({stroke:Q.borderColor||bt.color||ft.color||"#333333"}),it=it.tt=ot,ct=it.getBBox(),gt=ct.width+it.strokeWidth(),ht&&(at=ct.height,st+=at,J&&(nt-=at)),ft=bt.plotX,ft=ft===void 0?0:ft,ot=bt.plotY,ot=ot===void 0?0:ot;var vt=bt.series;if(bt.isHeader){ft=_+ft;var xt=L+R/2}else{var St=vt.xAxis,Lt=vt.yAxis;ft=St.pos+g(ft,-q,St.len+q),vt.shouldShowTooltip(0,Lt.pos-L+ot,{ignoreX:!0})&&(xt=Lt.pos+ot)}ft=g(ft,Y.left-q,Y.right+q),typeof xt=="number"?(ct=ct.height+1,ot=B?B.call(E,gt,ct,bt):A(ft,xt,ht,gt),yt.push({align:B?0:void 0,anchorX:ft,anchorY:xt,boxWidth:gt,point:bt,rank:U(ot.rank,ht?1:0),size:ct,target:ot.y,tt:it,x:ot.x})):it.isActive=!1}return yt},[]),!B&&M.some(function(yt){var gt=(E.outside?et:0)+yt.anchorX;return gt<Y.left&&gt+yt.boxWidth<Y.right?!0:gt<et-Y.left+yt.boxWidth&&Y.right-gt>gt})&&(M=M.map(function(yt){var gt=A(yt.anchorX,yt.anchorY,yt.point.isHeader,yt.boxWidth,!1);return T(yt,{target:gt.y,x:gt.x})})),E.cleanSplit(),v(M,st);var mt=et,wt=et;M.forEach(function(yt){var gt=yt.x,bt=yt.boxWidth;yt=yt.isHeader,yt||(E.outside&&et+gt<mt&&(mt=et+gt),!yt&&E.outside&&mt+bt>wt&&(wt=et+gt))}),M.forEach(function(yt){var gt=yt.x,bt=yt.anchorX,ht=yt.pos,it=yt.point.isHeader;if(ht={visibility:typeof ht>"u"?"hidden":"inherit",x:gt,y:(ht||0)+nt,anchorX:bt,anchorY:yt.anchorY},E.outside&&gt<bt){var ot=et-mt;0<ot&&(it||(ht.x=gt+ot,ht.anchorX=bt+ot),it&&(ht.x=(wt-mt)/2,ht.anchorX=bt+ot))}yt.tt.attr(ht)}),M=E.container,K=E.renderer,E.outside&&M&&K&&(m=G.getBBox(),K.setSize(m.width+m.x,m.height+m.y,!1),M.style.left=mt+"px",M.style.top=x+"px")},F.prototype.drawTracker=function(){if(this.shouldStickOnContact()){var M=this.chart,I=this.label,A=this.shared?M.hoverPoints:M.hoverPoint;if(I&&A){var E={x:0,y:0,width:0,height:0};A=this.getAnchor(A);var x=I.getBBox();A[0]+=M.plotLeft-I.translateX,A[1]+=M.plotTop-I.translateY,E.x=Math.min(0,A[0]),E.y=Math.min(0,A[1]),E.width=0>A[0]?Math.max(Math.abs(A[0]),x.width-A[0]):Math.max(Math.abs(A[0]),x.width),E.height=0>A[1]?Math.max(Math.abs(A[1]),x.height-Math.abs(A[1])):Math.max(Math.abs(A[1]),x.height),this.tracker?this.tracker.attr(E):(this.tracker=I.renderer.rect(E).addClass("highcharts-tracker").add(I),M.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&this.tracker.destroy()},F.prototype.styledModeFormat=function(M){return M.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')},F.prototype.tooltipFooterHeaderFormatter=function(M,I){var A=M.series,E=A.tooltipOptions,x=A.xAxis,m=x&&x.dateTime;x={isFooter:I,labelConfig:M};var p=E.xDateFormat,y=E[I?"footerFormat":"headerFormat"];return P(this,"headerFormatter",x,function(R){m&&!p&&S(M.key)&&(p=m.getXDateFormat(M.key,E.dateTimeLabelFormats)),m&&p&&(M.point&&M.point.tooltipDateKeys||["key"]).forEach(function(_){y=y.replace("{point."+_+"}","{point."+_+":"+p+"}")}),A.chart.styledMode&&(y=this.styledModeFormat(y)),R.text=h(y,{point:M,series:A},this.chart)}),x.text},F.prototype.update=function(M){this.destroy(),D(!0,this.chart.options.tooltip.userOptions,M),this.init(this.chart,D(!0,this.options,M))},F.prototype.updatePosition=function(M){var I=this.chart,A=this.distance,E=this.options,x=I.pointer,m=this.getLabel(),p=x.getChartPosition();x=p.left;var y=p.top,R=p.scaleX;p=p.scaleY;var _=(E.positioner||this.getPosition).call(this,m.width,m.height,M),L=(M.plotX||0)+I.plotLeft;M=(M.plotY||0)+I.plotTop,this.outside&&(E.positioner&&(_.x+=x-A,_.y+=y-A),A=E.borderWidth+2*A,this.renderer.setSize(m.width+A,m.height+A,!1),(R!==1||p!==1)&&(b(this.container,{transform:"scale(".concat(R,", ").concat(p,")")}),L*=R,M*=p),L+=x-_.x,M+=y-_.y),this.move(Math.round(_.x),Math.round(_.y||0),L,M)},F}(),i}),n(r,"Core/Series/Point.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=o.animObject,f=a.defaultOptions,v=u.format,g=c.addEvent,b=c.defined,w=c.erase,T=c.extend,P=c.fireEvent,k=c.getNestedProperty,S=c.isArray,C=c.isFunction,D=c.isNumber,U=c.isObject,$=c.merge,H=c.objectEach,F=c.pick,M=c.syncTimeout,I=c.removeEvent,A=c.uniqueKey;return o=function(){function E(){this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}return E.prototype.animateBeforeDestroy=function(){var x=this,m={x:x.startXPos,opacity:0},p=x.getGraphicalProps();p.singular.forEach(function(y){x[y]=x[y].animate(y==="dataLabel"?{x:x[y].startXPos,y:x[y].startYPos,opacity:0}:m)}),p.plural.forEach(function(y){x[y].forEach(function(R){R.element&&R.animate(T({x:x.startXPos},R.startYPos?{x:R.startXPos,y:R.startYPos}:{}))})})},E.prototype.applyOptions=function(x,m){var p=this.series,y=p.options.pointValKey||p.pointValKey;return x=E.prototype.optionsToObject.call(this,x),T(this,x),this.options=this.options?T(this.options,x):x,x.group&&delete this.group,x.dataLabels&&delete this.dataLabels,y&&(this.y=E.prototype.getNestedProperty.call(this,y)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof m>"u"&&p.xAxis&&p.xAxis.hasNames&&(this.x=p.xAxis.nameToX(this)),typeof this.x>"u"&&p?this.x=typeof m>"u"?p.autoIncrement():m:D(x.x)&&p.options.relativeXValue&&(this.x=p.autoIncrement(x.x)),this},E.prototype.destroy=function(){function x(){(m.graphic||m.graphics||m.dataLabel||m.dataLabels)&&(I(m),m.destroyElements());for(L in m)m[L]=null}var m=this,p=m.series,y=p.chart;p=p.options.dataSorting;var R=y.hoverPoints,_=h(m.series.chart.renderer.globalAnimation),L;m.legendItem&&y.legend.destroyItem(m),R&&(m.setState(),w(R,m),R.length||(y.hoverPoints=null)),m===y.hoverPoint&&m.onMouseOut(),p&&p.enabled?(this.animateBeforeDestroy(),M(x,_.duration)):x(),y.pointCount--},E.prototype.destroyElements=function(x){var m=this;x=m.getGraphicalProps(x),x.singular.forEach(function(p){m[p]=m[p].destroy()}),x.plural.forEach(function(p){m[p].forEach(function(y){y&&y.element&&y.destroy()}),delete m[p]})},E.prototype.firePointEvent=function(x,m,p){var y=this,R=this.series.options;(R.point.events[x]||y.options&&y.options.events&&y.options.events[x])&&y.importEvents(),x==="click"&&R.allowPointSelect&&(p=function(_){y.select&&y.select(null,_.ctrlKey||_.metaKey||_.shiftKey)}),P(y,x,m,p)},E.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},E.prototype.getGraphicalProps=function(x){var m=this,p=[],y={singular:[],plural:[]},R;for(x=x||{graphic:1,dataLabel:1},x.graphic&&p.push("graphic","shadowGroup"),x.dataLabel&&p.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),R=p.length;R--;){var _=p[R];m[_]&&y.singular.push(_)}return["graphic","dataLabel","connector"].forEach(function(L){var z=L+"s";x[L]&&m[z]&&y.plural.push(z)}),y},E.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},E.prototype.getNestedProperty=function(x){if(x)return x.indexOf("custom.")===0?k(x,this.options):this[x]},E.prototype.getZone=function(){var x=this.series,m=x.zones;x=x.zoneAxis||"y";var p,y=0;for(p=m[y];this[x]>=p.value;)p=m[++y];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=p&&p.color&&!this.options.color?p.color:this.nonZonedColor,p},E.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},E.prototype.init=function(x,m,p){return this.series=x,this.applyOptions(m,p),this.id=b(this.id)?this.id:A(),this.resolveColor(),x.chart.pointCount++,P(this,"afterInit"),this},E.prototype.isValid=function(){return this.x!==null&&D(this.y)},E.prototype.optionsToObject=function(x){var m=this.series,p=m.options.keys,y=p||m.pointArrayMap||["y"],R=y.length,_={},L=0,z=0;if(D(x)||x===null)_[y[0]]=x;else if(S(x))for(!p&&x.length>R&&(m=typeof x[0],m==="string"?_.name=x[0]:m==="number"&&(_.x=x[0]),L++);z<R;)p&&typeof x[L]>"u"||(0<y[z].indexOf(".")?E.prototype.setNestedProperty(_,x[L],y[z]):_[y[z]]=x[L]),L++,z++;else typeof x=="object"&&(_=x,x.dataLabels&&(m._hasPointLabels=!0),x.marker&&(m._hasPointMarkers=!0));return _},E.prototype.pos=function(x,m){m===void 0&&(m=this.plotY);var p=this.plotX,y=this.series,R=y.chart,_=y.xAxis;y=y.yAxis;var L=0,z=0;if(D(p)&&D(m))return x&&(L=_?_.pos:R.plotLeft,z=y?y.pos:R.plotTop),R.inverted&&_&&y?[y.len-m+z,_.len-p+L]:[p+L,m+z]},E.prototype.resolveColor=function(){var x=this.series,m=x.chart.styledMode,p=x.chart.options.chart.colorCount;if(delete this.nonZonedColor,x.options.colorByPoint){if(!m){p=x.options.colors||x.chart.options.colors;var y=p[x.colorCounter];p=p.length}m=x.colorCounter,x.colorCounter++,x.colorCounter===p&&(x.colorCounter=0)}else m||(y=x.color),m=x.colorIndex;this.colorIndex=F(this.options.colorIndex,m),this.color=F(this.options.color,y)},E.prototype.setNestedProperty=function(x,m,p){return p.split(".").reduce(function(y,R,_,L){return y[R]=L.length-1===_?m:U(y[R],!0)?y[R]:{},y[R]},x),x},E.prototype.shouldDraw=function(){return!this.isNull},E.prototype.tooltipFormatter=function(x){var m=this.series,p=m.tooltipOptions,y=F(p.valueDecimals,""),R=p.valuePrefix||"",_=p.valueSuffix||"";return m.chart.styledMode&&(x=m.chart.tooltip.styledModeFormat(x)),(m.pointArrayMap||["y"]).forEach(function(L){L="{point."+L,(R||_)&&(x=x.replace(RegExp(L+"}","g"),R+L+"}"+_)),x=x.replace(RegExp(L+"}","g"),L+":,."+y+"f}")}),v(x,{point:this,series:this.series},m.chart)},E.prototype.update=function(x,m,p,y){function R(){_.applyOptions(x);var j=z&&_.hasMockGraphic;j=_.y===null?!j:j,z&&j&&(_.graphic=z.destroy(),delete _.hasMockGraphic),U(x,!0)&&(z&&z.element&&x&&x.marker&&typeof x.marker.symbol<"u"&&(_.graphic=z.destroy()),x&&x.dataLabels&&_.dataLabel&&(_.dataLabel=_.dataLabel.destroy()),_.connector&&(_.connector=_.connector.destroy())),O=_.index,L.updateParallelArrays(_,O),X.data[O]=U(X.data[O],!0)||U(x,!0)?_.options:F(x,X.data[O]),L.isDirty=L.isDirtyData=!0,!L.fixedBox&&L.hasCartesianSeries&&(K.isDirtyBox=!0),X.legendType==="point"&&(K.isDirtyLegend=!0),m&&K.redraw(p)}var _=this,L=_.series,z=_.graphic,K=L.chart,X=L.options,O;m=F(m,!0),y===!1?R():_.firePointEvent("update",{options:x},R)},E.prototype.remove=function(x,m){this.series.removePoint(this.series.data.indexOf(this),x,m)},E.prototype.select=function(x,m){var p=this,y=p.series,R=y.chart;this.selectedStaging=x=F(x,!p.selected),p.firePointEvent(x?"select":"unselect",{accumulate:m},function(){p.selected=p.options.selected=x,y.options.data[y.data.indexOf(p)]=p.options,p.setState(x&&"select"),m||R.getSelectedPoints().forEach(function(_){var L=_.series;_.selected&&_!==p&&(_.selected=_.options.selected=!1,L.options.data[L.data.indexOf(_)]=_.options,_.setState(R.hoverPoints&&L.options.inactiveOtherPoints?"inactive":""),_.firePointEvent("unselect"))})}),delete this.selectedStaging},E.prototype.onMouseOver=function(x){var m=this.series.chart,p=m.pointer;x=x?p.normalize(x):p.getChartCoordinatesFromPoint(this,m.inverted),p.runPointActions(x,this)},E.prototype.onMouseOut=function(){var x=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(x.hoverPoints||[]).forEach(function(m){m.setState()}),x.hoverPoints=x.hoverPoint=null},E.prototype.importEvents=function(){if(!this.hasImportedEvents){var x=this,m=$(x.series.options.point,x.options).events;x.events=m,H(m,function(p,y){C(p)&&g(x,y,p)}),this.hasImportedEvents=!0}},E.prototype.setState=function(x,m){var p=this.series,y=this.state,R=p.options.states[x||"normal"]||{},_=f.plotOptions[p.type].marker&&p.options.marker,L=_&&_.enabled===!1,z=_&&_.states&&_.states[x||"normal"]||{},K=z.enabled===!1,X=this.marker||{},O=p.chart,j=_&&p.markerAttribs,W=p.halo,q,Q=p.stateMarkerGraphic;if(x=x||"",!(x===this.state&&!m||this.selected&&x!=="select"||R.enabled===!1||x&&(K||L&&z.enabled===!1)||x&&X.states&&X.states[x]&&X.states[x].enabled===!1)){if(this.state=x,j&&(q=p.markerAttribs(this,x)),this.graphic&&!this.hasMockGraphic){if(y&&this.graphic.removeClass("highcharts-point-"+y),x&&this.graphic.addClass("highcharts-point-"+x),!O.styledMode){y=p.pointAttribs(this,x);var B=F(O.options.chart.animation,R.animation),Y=y.opacity;p.options.inactiveOtherPoints&&D(Y)&&((this.dataLabels||[]).forEach(function(G){G&&!G.hasClass("highcharts-data-label-hidden")&&G.animate({opacity:Y},B)}),this.connector&&this.connector.animate({opacity:Y},B)),this.graphic.animate(y,B)}q&&this.graphic.animate(q,F(O.options.chart.animation,z.animation,_.animation)),Q&&Q.hide()}else x&&z&&(_=X.symbol||p.symbol,Q&&Q.currentSymbol!==_&&(Q=Q.destroy()),q&&(Q?Q[m?"animate":"attr"]({x:q.x,y:q.y}):_&&(p.stateMarkerGraphic=Q=O.renderer.symbol(_,q.x,q.y,q.width,q.height).add(p.markerGroup),Q.currentSymbol=_)),!O.styledMode&&Q&&this.state!=="inactive"&&Q.attr(p.pointAttribs(this,x))),Q&&(Q[x&&this.isInside?"show":"hide"](),Q.element.point=this,Q.addClass(this.getClassName(),!0));R=R.halo,q=(Q=this.graphic||Q)&&Q.visibility||"inherit",R&&R.size&&Q&&q!=="hidden"&&!this.isCluster?(W||(p.halo=W=O.renderer.path().add(Q.parentGroup)),W.show()[m?"animate":"attr"]({d:this.haloPath(R.size)}),W.attr({class:"highcharts-halo highcharts-color-"+F(this.colorIndex,p.colorIndex)+(this.className?" "+this.className:""),visibility:q,zIndex:-1}),W.point=this,O.styledMode||W.attr(T({fill:this.color||p.color,"fill-opacity":R.opacity},i.filterUserAttributes(R.attributes||{})))):W&&W.point&&W.point.haloPath&&W.animate({d:W.point.haloPath(0)},null,W.hide),P(this,"afterSetState",{state:x})}},E.prototype.haloPath=function(x){var m=this.pos();return m?this.series.chart.renderer.symbols.circle(Math.floor(m[0])-x,m[1]-x,2*x,2*x):[]},E}(),o}),n(r,"Core/Pointer.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Tooltip.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=i.parse,h=o.charts,f=o.noop,v=u.addEvent,g=u.attr,b=u.css,w=u.defined,T=u.extend,P=u.find,k=u.fireEvent,S=u.isNumber,C=u.isObject,D=u.objectEach,U=u.offset,$=u.pick,H=u.splat;return i=function(){function F(M,I){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=M,this.hasDragged=!1,this.options=I,this.init(M,I)}return F.prototype.applyInactiveState=function(M){var I=[],A;(M||[]).forEach(function(E){A=E.series,I.push(A),A.linkedParent&&I.push(A.linkedParent),A.linkedSeries&&(I=I.concat(A.linkedSeries)),A.navigatorSeries&&I.push(A.navigatorSeries)}),this.chart.series.forEach(function(E){I.indexOf(E)===-1?E.setState("inactive",!0):E.options.inactiveOtherPoints&&E.setAllPointsToState("inactive")})},F.prototype.destroy=function(){var M=this;this.eventsToUnbind.forEach(function(I){return I()}),this.eventsToUnbind=[],o.chartCount||(F.unbindDocumentMouseUp&&(F.unbindDocumentMouseUp=F.unbindDocumentMouseUp()),F.unbindDocumentTouchEnd&&(F.unbindDocumentTouchEnd=F.unbindDocumentTouchEnd())),clearInterval(M.tooltipTimeout),D(M,function(I,A){M[A]=void 0})},F.prototype.getSelectionMarkerAttrs=function(M,I){var A=this,E={args:{chartX:M,chartY:I},attrs:{},shapeType:"rect"};return k(this,"getSelectionMarkerAttrs",E,function(x){var m=A.chart,p=A.mouseDownX;p=p===void 0?0:p;var y=A.mouseDownY;y=y===void 0?0:y;var R=A.zoomHor,_=A.zoomVert;x=x.attrs,x.x=m.plotLeft,x.y=m.plotTop,x.width=R?1:m.plotWidth,x.height=_?1:m.plotHeight,R&&(m=M-p,x.width=Math.abs(m),x.x=(0<m?0:m)+p),_&&(m=I-y,x.height=Math.abs(m),x.y=(0<m?0:m)+y)}),E},F.prototype.drag=function(M){var I=this.chart,A=I.options.chart,E=I.plotLeft,x=I.plotTop,m=I.plotWidth,p=I.plotHeight,y=this.mouseDownX||0,R=this.mouseDownY||0,_=C(A.panning)?A.panning&&A.panning.enabled:A.panning,L=A.panKey&&M[A.panKey+"Key"],z=M.chartX,K=M.chartY,X=this.selectionMarker;X&&X.touch||(z<E?z=E:z>E+m&&(z=E+m),K<x?K=x:K>x+p&&(K=x+p),this.hasDragged=Math.sqrt(Math.pow(y-z,2)+Math.pow(R-K,2)),10<this.hasDragged&&(E=I.isInsidePlot(y-E,R-x,{visiblePlotOnly:!0}),K=this.getSelectionMarkerAttrs(z,K),z=K.shapeType,K=K.attrs,!I.hasCartesianSeries&&!I.mapView||!this.zoomX&&!this.zoomY||!E||L||X||(this.selectionMarker=X=I.renderer[z](),X.attr({class:"highcharts-selection-marker",zIndex:7}).add(),I.styledMode||X.attr({fill:A.selectionMarkerFill||c("#335cad").setOpacity(.25).get()})),X&&X.attr(K),E&&!X&&_&&I.pan(M,A.panning)))},F.prototype.dragStart=function(M){var I=this.chart;I.mouseIsDown=M.type,I.cancelClick=!1,I.mouseDownX=this.mouseDownX=M.chartX,I.mouseDownY=this.mouseDownY=M.chartY},F.prototype.getSelectionBox=function(M){var I={args:{marker:M},result:{}};return k(this,"getSelectionBox",I,function(A){A.result={x:M.attr?+M.attr("x"):M.x,y:M.attr?+M.attr("y"):M.y,width:M.attr?M.attr("width"):M.width,height:M.attr?M.attr("height"):M.height}}),I.result},F.prototype.drop=function(M){var I=this,A=this.chart,E=this.hasPinched;if(this.selectionMarker){var x=this.getSelectionBox(this.selectionMarker),m=x.x,p=x.y,y=x.width,R=x.height,_={originalEvent:M,xAxis:[],yAxis:[],x:m,y:p,width:y,height:R},L=!!A.mapView;(this.hasDragged||E)&&(A.axes.forEach(function(z){if(z.zoomEnabled&&w(z.min)&&(E||I[{xAxis:"zoomX",yAxis:"zoomY"}[z.coll]])&&S(m)&&S(p)&&S(y)&&S(R)){var K=z.horiz,X=M.type==="touchend"?z.minPixelPadding:0,O=z.toValue((K?m:p)+X);K=z.toValue((K?m+y:p+R)-X),_[z.coll].push({axis:z,min:Math.min(O,K),max:Math.max(O,K)}),L=!0}}),L&&k(A,"selection",_,function(z){A.zoom(T(z,E?{animation:!1}:null))})),S(A.index)&&(this.selectionMarker=this.selectionMarker.destroy()),E&&this.scaleGroups()}A&&S(A.index)&&(b(A.container,{cursor:A._cursor}),A.cancelClick=10<this.hasDragged,A.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},F.prototype.findNearestKDPoint=function(M,I,A){var E;return M.forEach(function(x){var m=!(x.noSharedTooltip&&I)&&0>x.options.findNearestPointBy.indexOf("y");if(x=x.searchPoint(A,m),(m=C(x,!0)&&x.series)&&!(m=!C(E,!0))){m=E.distX-x.distX;var p=E.dist-x.dist,y=(x.series.group&&x.series.group.zIndex)-(E.series.group&&E.series.group.zIndex);m=0<(m!==0&&I?m:p!==0?p:y!==0?y:E.series.index>x.series.index?-1:1)}m&&(E=x)}),E},F.prototype.getChartCoordinatesFromPoint=function(M,I){var A=M.series,E=A.xAxis;A=A.yAxis;var x=M.shapeArgs;if(E&&A){var m=$(M.clientX,M.plotX),p=M.plotY||0;return M.isNode&&x&&S(x.x)&&S(x.y)&&(m=x.x,p=x.y),I?{chartX:A.len+A.pos-p,chartY:E.len+E.pos-m}:{chartX:m+E.pos,chartY:p+A.pos}}if(x&&x.x&&x.y)return{chartX:x.x,chartY:x.y}},F.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var M=this.chart.container,I=U(M);this.chartPosition={left:I.left,top:I.top,scaleX:1,scaleY:1};var A=M.offsetWidth;return M=M.offsetHeight,2<A&&2<M&&(this.chartPosition.scaleX=I.width/A,this.chartPosition.scaleY=I.height/M),this.chartPosition},F.prototype.getCoordinates=function(M){var I={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(A){I[A.isXAxis?"xAxis":"yAxis"].push({axis:A,value:A.toValue(M[A.horiz?"chartX":"chartY"])})}),I},F.prototype.getHoverData=function(M,I,A,E,x,m){var p=[];E=!(!E||!M);var y=function(z){return z.visible&&!(!x&&z.directTouch)&&$(z.options.enableMouseTracking,!0)},R={chartX:m?m.chartX:void 0,chartY:m?m.chartY:void 0,shared:x};k(this,"beforeGetHoverData",R);var _=I&&!I.stickyTracking?[I]:A.filter(function(z){return z.stickyTracking&&(R.filter||y)(z)}),L=E||!m?M:this.findNearestKDPoint(_,x,m);return I=L&&L.series,L&&(x&&!I.noSharedTooltip?(_=A.filter(function(z){return R.filter?R.filter(z):y(z)&&!z.noSharedTooltip}),_.forEach(function(z){var K=P(z.points,function(X){return X.x===L.x&&!X.isNull});C(K)&&(z.boosted&&z.boost&&(K=z.boost.getPoint(K)),p.push(K))})):p.push(L)),R={hoverPoint:L},k(this,"afterGetHoverData",R),{hoverPoint:R.hoverPoint,hoverSeries:I,hoverPoints:p}},F.prototype.getPointFromEvent=function(M){M=M.target;for(var I;M&&!I;)I=M.point,M=M.parentNode;return I},F.prototype.onTrackerMouseOut=function(M){M=M.relatedTarget||M.toElement;var I=this.chart.hoverSeries;this.isDirectTouch=!1,!I||!M||I.stickyTracking||this.inClass(M,"highcharts-tooltip")||this.inClass(M,"highcharts-series-"+I.index)&&this.inClass(M,"highcharts-tracker")||I.onMouseOut()},F.prototype.inClass=function(M,I){for(var A;M;){if(A=g(M,"class")){if(A.indexOf(I)!==-1)return!0;if(A.indexOf("highcharts-container")!==-1)return!1}M=M.parentElement}},F.prototype.init=function(M,I){this.options=I,this.chart=M,this.runChartClick=!(!I.chart.events||!I.chart.events.click),this.pinchDown=[],this.lastValidTouch={},a&&(M.tooltip=new a(M,I.tooltip)),this.setDOMEvents()},F.prototype.normalize=function(M,I){var A=M.touches,E=A?A.length?A.item(0):$(A.changedTouches,M.changedTouches)[0]:M;return I||(I=this.getChartPosition()),A=E.pageX-I.left,E=E.pageY-I.top,A/=I.scaleX,E/=I.scaleY,T(M,{chartX:Math.round(A),chartY:Math.round(E)})},F.prototype.onContainerClick=function(M){var I=this.chart,A=I.hoverPoint;M=this.normalize(M);var E=I.plotLeft,x=I.plotTop;I.cancelClick||(A&&this.inClass(M.target,"highcharts-tracker")?(k(A.series,"click",T(M,{point:A})),I.hoverPoint&&A.firePointEvent("click",M)):(T(M,this.getCoordinates(M)),I.isInsidePlot(M.chartX-E,M.chartY-x,{visiblePlotOnly:!0})&&k(I,"click",M)))},F.prototype.onContainerMouseDown=function(M){var I=((M.buttons||M.button)&1)===1;M=this.normalize(M),o.isFirefox&&M.button!==0&&this.onContainerMouseMove(M),(typeof M.button>"u"||I)&&(this.zoomOption(M),I&&M.preventDefault&&M.preventDefault(),this.dragStart(M))},F.prototype.onContainerMouseLeave=function(M){var I=h[$(F.hoverChartIndex,-1)],A=this.chart.tooltip;M=this.normalize(M),I&&(M.relatedTarget||M.toElement)&&(I.pointer.reset(),I.pointer.chartPosition=void 0),A&&!A.isHidden&&this.reset()},F.prototype.onContainerMouseEnter=function(M){delete this.chartPosition},F.prototype.onContainerMouseMove=function(M){var I=this.chart,A=I.tooltip;M=this.normalize(M),this.setHoverChartIndex(),M.preventDefault||(M.returnValue=!1),(I.mouseIsDown==="mousedown"||this.touchSelect(M))&&this.drag(M),I.openMenu||!this.inClass(M.target,"highcharts-tracker")&&!I.isInsidePlot(M.chartX-I.plotLeft,M.chartY-I.plotTop,{visiblePlotOnly:!0})||A&&A.shouldStickOnContact(M)||(this.inClass(M.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(M))},F.prototype.onDocumentTouchEnd=function(M){var I=h[$(F.hoverChartIndex,-1)];I&&I.pointer.drop(M)},F.prototype.onContainerTouchMove=function(M){this.touchSelect(M)?this.onContainerMouseMove(M):this.touch(M)},F.prototype.onContainerTouchStart=function(M){this.touchSelect(M)?this.onContainerMouseDown(M):(this.zoomOption(M),this.touch(M,!0))},F.prototype.onDocumentMouseMove=function(M){var I=this.chart,A=I.tooltip,E=this.chartPosition;M=this.normalize(M,E),!E||I.isInsidePlot(M.chartX-I.plotLeft,M.chartY-I.plotTop,{visiblePlotOnly:!0})||A&&A.shouldStickOnContact(M)||this.inClass(M.target,"highcharts-tracker")||this.reset()},F.prototype.onDocumentMouseUp=function(M){var I=h[$(F.hoverChartIndex,-1)];I&&I.pointer.drop(M)},F.prototype.pinch=function(M){var I=this,A=I.chart,E=I.pinchDown,x=M.touches||[],m=x.length,p=I.lastValidTouch,y=I.hasZoom,R={},_=m===1&&(I.inClass(M.target,"highcharts-tracker")&&A.runTrackerClick||I.runChartClick),L={},z=I.chart.tooltip;z=m===1&&$(z&&z.options.followTouchMove,!0);var K=I.selectionMarker;1<m?I.initiated=!0:z&&(I.initiated=!1),y&&I.initiated&&!_&&M.cancelable!==!1&&M.preventDefault(),[].map.call(x,function(X){return I.normalize(X)}),M.type==="touchstart"?([].forEach.call(x,function(X,O){E[O]={chartX:X.chartX,chartY:X.chartY}}),p.x=[E[0].chartX,E[1]&&E[1].chartX],p.y=[E[0].chartY,E[1]&&E[1].chartY],A.axes.forEach(function(X){if(X.zoomEnabled){var O=A.bounds[X.horiz?"h":"v"],j=X.minPixelPadding,W=X.toPixels(Math.min($(X.options.min,X.dataMin),X.dataMin)),q=X.toPixels(Math.max($(X.options.max,X.dataMax),X.dataMax)),Q=Math.max(W,q);O.min=Math.min(X.pos,Math.min(W,q)-j),O.max=Math.max(X.pos+X.len,Q+j)}}),I.res=!0):z?this.runPointActions(I.normalize(M)):E.length&&(k(A,"touchpan",{originalEvent:M},function(){K||(I.selectionMarker=K=T({destroy:f,touch:!0},A.plotBox)),I.pinchTranslate(E,x,R,K,L,p),I.hasPinched=y,I.scaleGroups(R,L)}),I.res&&(I.res=!1,this.reset(!1,0)))},F.prototype.pinchTranslate=function(M,I,A,E,x,m){this.zoomHor&&this.pinchTranslateDirection(!0,M,I,A,E,x,m),this.zoomVert&&this.pinchTranslateDirection(!1,M,I,A,E,x,m)},F.prototype.pinchTranslateDirection=function(M,I,A,E,x,m,p,y){var R=this.chart,_=M?"x":"y",L=M?"X":"Y",z="chart"+L,K=M?"width":"height",X=R["plot"+(M?"Left":"Top")],O=R.inverted,j=R.bounds[M?"h":"v"],W=I.length===1,q=I[0][z],Q=!W&&I[1][z];I=function(){typeof J=="number"&&20<Math.abs(q-Q)&&(G=y||Math.abs(Z-J)/Math.abs(q-Q)),Y=(X-Z)/G+q,B=R["plot"+(M?"Width":"Height")]/G};var B,Y,G=y||1,Z=A[0][z],J=!W&&A[1][z];if(I(),A=Y,A<j.min){A=j.min;var et=!0}else A+B>j.max&&(A=j.max-B,et=!0);et?(Z-=.8*(Z-p[_][0]),typeof J=="number"&&(J-=.8*(J-p[_][1])),I()):p[_]=[Z,J],O||(m[_]=Y-X,m[K]=B),m=O?1/G:G,x[K]=B,x[_]=A,E[O?M?"scaleY":"scaleX":"scale"+L]=G,E["translate"+L]=m*X+(Z-m*q)},F.prototype.reset=function(M,I){var A=this.chart,E=A.hoverSeries,x=A.hoverPoint,m=A.hoverPoints,p=A.tooltip,y=p&&p.shared?m:x;M&&y&&H(y).forEach(function(R){R.series.isCartesian&&typeof R.plotX>"u"&&(M=!1)}),M?p&&y&&H(y).length&&(p.refresh(y),p.shared&&m?m.forEach(function(R){R.setState(R.state,!0),R.series.isCartesian&&(R.series.xAxis.crosshair&&R.series.xAxis.drawCrosshair(null,R),R.series.yAxis.crosshair&&R.series.yAxis.drawCrosshair(null,R))}):x&&(x.setState(x.state,!0),A.axes.forEach(function(R){R.crosshair&&x.series[R.coll]===R&&R.drawCrosshair(null,x)}))):(x&&x.onMouseOut(),m&&m.forEach(function(R){R.setState()}),E&&E.onMouseOut(),p&&p.hide(I),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),A.axes.forEach(function(R){R.hideCrosshair()}),this.hoverX=A.hoverPoints=A.hoverPoint=null)},F.prototype.runPointActions=function(M,I,A){var E=this.chart,x=E.tooltip&&E.tooltip.options.enabled?E.tooltip:void 0,m=x?x.shared:!1,p=I||E.hoverPoint,y=p&&p.series||E.hoverSeries;I=this.getHoverData(p,y,E.series,(!M||M.type!=="touchmove")&&(!!I||y&&y.directTouch&&this.isDirectTouch),m,M),p=I.hoverPoint,y=I.hoverSeries;var R=I.hoverPoints;I=y&&y.tooltipOptions.followPointer&&!y.tooltipOptions.split;var _=m&&y&&!y.noSharedTooltip;if(p&&(A||p!==E.hoverPoint||x&&x.isHidden)){if((E.hoverPoints||[]).forEach(function(L){R.indexOf(L)===-1&&L.setState()}),E.hoverSeries!==y&&y.onMouseOver(),this.applyInactiveState(R),(R||[]).forEach(function(L){L.setState("hover")}),E.hoverPoint&&E.hoverPoint.firePointEvent("mouseOut"),!p.series)return;E.hoverPoints=R,E.hoverPoint=p,p.firePointEvent("mouseOver",void 0,function(){x&&p&&x.refresh(_?R:p,M)})}else I&&x&&!x.isHidden&&(A=x.getAnchor([{}],M),E.isInsidePlot(A[0],A[1],{visiblePlotOnly:!0})&&x.updatePosition({plotX:A[0],plotY:A[1]}));this.unDocMouseMove||(this.unDocMouseMove=v(E.container.ownerDocument,"mousemove",function(L){var z=h[F.hoverChartIndex];z&&z.pointer.onDocumentMouseMove(L)}),this.eventsToUnbind.push(this.unDocMouseMove)),E.axes.forEach(function(L){var z=$((L.crosshair||{}).snap,!0),K;z&&((K=E.hoverPoint)&&K.series[L.coll]===L||(K=P(R,function(X){return X.series&&X.series[L.coll]===L}))),K||!z?L.drawCrosshair(M,K):L.hideCrosshair()})},F.prototype.scaleGroups=function(M,I){var A=this.chart;A.series.forEach(function(E){var x=M||E.getPlotBox();E.group&&(E.xAxis&&E.xAxis.zoomEnabled||A.mapView)&&(E.group.attr(x),E.markerGroup&&(E.markerGroup.attr(x),E.markerGroup.clip(I?A.clipRect:null)),E.dataLabelsGroup&&E.dataLabelsGroup.attr(x))}),A.clipRect.attr(I||A.clipBox)},F.prototype.setDOMEvents=function(){var M=this,I=this.chart.container,A=I.ownerDocument;I.onmousedown=this.onContainerMouseDown.bind(this),I.onmousemove=this.onContainerMouseMove.bind(this),I.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(v(I,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(v(I,"mouseleave",this.onContainerMouseLeave.bind(this))),F.unbindDocumentMouseUp||(F.unbindDocumentMouseUp=v(A,"mouseup",this.onDocumentMouseUp.bind(this)));for(var E=this.chart.renderTo.parentElement;E&&E.tagName!=="BODY";)this.eventsToUnbind.push(v(E,"scroll",function(){delete M.chartPosition})),E=E.parentElement;o.hasTouch&&(this.eventsToUnbind.push(v(I,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(v(I,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),F.unbindDocumentTouchEnd||(F.unbindDocumentTouchEnd=v(A,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},F.prototype.setHoverChartIndex=function(){var M=this.chart,I=o.charts[$(F.hoverChartIndex,-1)];I&&I!==M&&I.pointer.onContainerMouseLeave({relatedTarget:M.container}),I&&I.mouseIsDown||(F.hoverChartIndex=M.index)},F.prototype.touch=function(M,I){var A=this.chart;if(this.setHoverChartIndex(),M.touches.length===1)if(M=this.normalize(M),A.isInsidePlot(M.chartX-A.plotLeft,M.chartY-A.plotTop,{visiblePlotOnly:!0})&&!A.openMenu){if(I&&this.runPointActions(M),M.type==="touchmove"){I=this.pinchDown;var E=I[0]?4<=Math.sqrt(Math.pow(I[0].chartX-M.chartX,2)+Math.pow(I[0].chartY-M.chartY,2)):!1}$(E,!0)&&this.pinch(M)}else I&&this.reset();else M.touches.length===2&&this.pinch(M)},F.prototype.touchSelect=function(M){return!(!this.chart.options.chart.zooming.singleTouch||!M.touches||M.touches.length!==1)},F.prototype.zoomOption=function(M){var I=this.chart,A=I.options.chart;I=I.inverted;var E=A.zooming.type||"";/touch/.test(M.type)&&(E=$(A.zooming.pinchType,E)),this.zoomX=M=/x/.test(E),this.zoomY=A=/y/.test(E),this.zoomHor=M&&!I||A&&I,this.zoomVert=A&&!I||M&&I,this.hasZoom=M||A},F}(),i}),n(r,"Core/MSPointer.js",[r["Core/Globals.js"],r["Core/Pointer.js"],r["Core/Utilities.js"]],function(i,o,a){function u(){var U=[];return U.item=function($){return this[$]},P(C,function($){U.push({pageX:$.pageX,pageY:$.pageY,target:$.target})}),U}function c(U,$,H,F){var M=f[o.hoverChartIndex||NaN];U.pointerType!=="touch"&&U.pointerType!==U.MSPOINTER_TYPE_TOUCH||!M||(M=M.pointer,F(U),M[$]({type:H,target:U.currentTarget,preventDefault:g,touches:u()}))}var h=this&&this.__extends||function(){var U=function($,H){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,M){F.__proto__=M}||function(F,M){for(var I in M)M.hasOwnProperty(I)&&(F[I]=M[I])},U($,H)};return function($,H){function F(){this.constructor=$}U($,H),$.prototype=H===null?Object.create(H):(F.prototype=H.prototype,new F)}}(),f=i.charts,v=i.doc,g=i.noop,b=i.win,w=a.addEvent,T=a.css,P=a.objectEach,k=a.pick,S=a.removeEvent,C={},D=!!b.PointerEvent;return function(U){function $(){return U!==null&&U.apply(this,arguments)||this}return h($,U),$.isRequired=function(){return!(i.hasTouch||!b.PointerEvent&&!b.MSPointerEvent)},$.prototype.batchMSEvents=function(H){H(this.chart.container,D?"pointerdown":"MSPointerDown",this.onContainerPointerDown),H(this.chart.container,D?"pointermove":"MSPointerMove",this.onContainerPointerMove),H(v,D?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},$.prototype.destroy=function(){this.batchMSEvents(S),U.prototype.destroy.call(this)},$.prototype.init=function(H,F){U.prototype.init.call(this,H,F),this.hasZoom&&T(H.container,{"-ms-touch-action":"none","touch-action":"none"})},$.prototype.onContainerPointerDown=function(H){c(H,"onContainerTouchStart","touchstart",function(F){C[F.pointerId]={pageX:F.pageX,pageY:F.pageY,target:F.currentTarget}})},$.prototype.onContainerPointerMove=function(H){c(H,"onContainerTouchMove","touchmove",function(F){C[F.pointerId]={pageX:F.pageX,pageY:F.pageY},C[F.pointerId].target||(C[F.pointerId].target=F.currentTarget)})},$.prototype.onDocumentPointerUp=function(H){c(H,"onDocumentTouchEnd","touchend",function(F){delete C[F.pointerId]})},$.prototype.setDOMEvents=function(){var H=this.chart.tooltip;U.prototype.setDOMEvents.call(this),(this.hasZoom||k(H&&H.options.followTouchMove,!0))&&this.batchMSEvents(w)},$}(o)}),n(r,"Core/Legend/Legend.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Series/Point.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){var f=i.animObject,v=i.setAnimation,g=o.format,b=a.marginNames,w=c.distribute,T=h.addEvent,P=h.createElement,k=h.css,S=h.defined,C=h.discardElement,D=h.find,U=h.fireEvent,$=h.isNumber,H=h.merge,F=h.pick,M=h.relativeLength,I=h.stableSort,A=h.syncTimeout;return i=function(){function E(x,m){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=x,this.init(x,m)}return E.prototype.init=function(x,m){this.chart=x,this.setOptions(m),m.enabled&&(this.render(),T(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=T(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},E.prototype.setOptions=function(x){var m=F(x.padding,8);this.options=x,this.chart.styledMode||(this.itemStyle=x.itemStyle,this.itemHiddenStyle=H(this.itemStyle,x.itemHiddenStyle)),this.itemMarginTop=x.itemMarginTop||0,this.itemMarginBottom=x.itemMarginBottom||0,this.padding=m,this.initialItemY=m-5,this.symbolWidth=F(x.symbolWidth,16),this.pages=[],this.proximate=x.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0},E.prototype.update=function(x,m){var p=this.chart;this.setOptions(H(!0,this.options,x)),this.destroy(),p.isDirtyLegend=p.isDirtyBox=!0,F(m,!0)&&p.redraw(),U(this,"afterUpdate")},E.prototype.colorizeItem=function(x,m){var p=x.legendItem||{},y=p.group,R=p.label,_=p.line;if(p=p.symbol,y&&y[m?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var L=this.options;y=this.itemHiddenStyle.color,L=m?L.itemStyle.color:y;var z=m&&x.color||y,K=x.options&&x.options.marker,X={fill:z};R&&R.css({fill:L,color:L}),_&&_.attr({stroke:z}),p&&(K&&p.isMarker&&(X=x.pointAttribs(),m||(X.stroke=X.fill=y)),p.attr(X))}U(this,"afterColorizeItem",{item:x,visible:m})},E.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},E.prototype.positionItem=function(x){var m=this,p=x.legendItem||{},y=p.group,R=p.x;R=R===void 0?0:R,p=p.y,p=p===void 0?0:p;var _=this.options,L=_.symbolPadding,z=!_.rtl;_=x.checkbox,y&&y.element&&(L={translateX:z?R:this.legendWidth-R-2*L-4,translateY:p},y[S(y.translateY)?"animate":"attr"](L,void 0,function(){U(m,"afterPositionItem",{item:x})})),_&&(_.x=R,_.y=p)},E.prototype.destroyItem=function(x){for(var m=x.checkbox,p=x.legendItem||{},y=0,R=["group","label","line","symbol"];y<R.length;y++){var _=R[y];p[_]&&(p[_]=p[_].destroy())}m&&C(m),x.legendItem=void 0},E.prototype.destroy=function(){for(var x=0,m=this.getAllItems();x<m.length;x++)this.destroyItem(m[x]);for(x=0,m="clipRect up down pager nav box title group".split(" ");x<m.length;x++){var p=m[x];this[p]&&(this[p]=this[p].destroy())}this.display=null},E.prototype.positionCheckboxes=function(){var x=this.group&&this.group.alignAttr,m=this.clipHeight||this.legendHeight,p=this.titleHeight;if(x){var y=x.translateY;this.allItems.forEach(function(R){var _=R.checkbox;if(_){var L=y+p+_.y+(this.scrollOffset||0)+3;k(_,{left:x.translateX+R.checkboxOffset+_.x-20+"px",top:L+"px",display:this.proximate||L>y-6&&L<y+m-6?"":"none"})}},this)}},E.prototype.renderTitle=function(){var x=this.options,m=this.padding,p=x.title,y=0;p.text&&(this.title||(this.title=this.chart.renderer.label(p.text,m-3,m-4,void 0,void 0,void 0,x.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(p.style),this.title.add(this.group)),p.width||this.title.css({width:this.maxLegendWidth+"px"}),x=this.title.getBBox(),y=x.height,this.offsetWidth=x.width,this.contentGroup.attr({translateY:y})),this.titleHeight=y},E.prototype.setText=function(x){var m=this.options;x.legendItem.label.attr({text:m.labelFormat?g(m.labelFormat,x,this.chart):m.labelFormatter.call(x)})},E.prototype.renderItem=function(x){var m=x.legendItem=x.legendItem||{},p=this.chart,y=p.renderer,R=this.options,_=this.symbolWidth,L=R.symbolPadding||0,z=this.itemStyle,K=this.itemHiddenStyle,X=R.layout==="horizontal"?F(R.itemDistance,20):0,O=!R.rtl,j=!x.series,W=!j&&x.series.drawLegendSymbol?x.series:x,q=W.options,Q=this.createCheckboxForItem&&q&&q.showCheckbox,B=R.useHTML,Y=x.options.className,G=m.label;q=_+L+X+(Q?20:0),G||(m.group=y.g("legend-item").addClass("highcharts-"+W.type+"-series highcharts-color-"+x.colorIndex+(Y?" "+Y:"")+(j?" highcharts-series-"+x.index:"")).attr({zIndex:1}).add(this.scrollGroup),m.label=G=y.text("",O?_+L:-L,this.baseline||0,B),p.styledMode||G.css(H(x.visible?z:K)),G.attr({align:O?"left":"right",zIndex:2}).add(m.group),this.baseline||(this.fontMetrics=y.fontMetrics(p.styledMode?12:z.fontSize,G),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,G.attr("y",this.baseline),this.symbolHeight=R.symbolHeight||this.fontMetrics.f,R.squareSymbol&&(this.symbolWidth=F(R.symbolWidth,Math.max(this.symbolHeight,16)),q=this.symbolWidth+L+X+(Q?20:0),O&&G.attr("x",this.symbolWidth+L))),W.drawLegendSymbol(this,x),this.setItemEvents&&this.setItemEvents(x,G,B)),Q&&!x.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(x),this.colorizeItem(x,x.visible),!p.styledMode&&z.width||G.css({width:(R.itemWidth||this.widthOption||p.spacingBox.width)-q+"px"}),this.setText(x),p=G.getBBox(),y=this.fontMetrics&&this.fontMetrics.h||0,x.itemWidth=x.checkboxOffset=R.itemWidth||m.labelWidth||p.width+q,this.maxItemWidth=Math.max(this.maxItemWidth,x.itemWidth),this.totalItemWidth+=x.itemWidth,this.itemHeight=x.itemHeight=Math.round(m.labelHeight||(p.height>1.5*y?p.height:y))},E.prototype.layoutItem=function(x){var m=this.options,p=this.padding,y=m.layout==="horizontal",R=x.itemHeight,_=this.itemMarginBottom,L=this.itemMarginTop,z=y?F(m.itemDistance,20):0,K=this.maxLegendWidth;m=m.alignColumns&&this.totalItemWidth>K?this.maxItemWidth:x.itemWidth;var X=x.legendItem||{};y&&this.itemX-p+m>K&&(this.itemX=p,this.lastLineHeight&&(this.itemY+=L+this.lastLineHeight+_),this.lastLineHeight=0),this.lastItemY=L+this.itemY+_,this.lastLineHeight=Math.max(R,this.lastLineHeight),X.x=this.itemX,X.y=this.itemY,y?this.itemX+=m:(this.itemY+=L+R+_,this.lastLineHeight=R),this.offsetWidth=this.widthOption||Math.max((y?this.itemX-p-(x.checkbox?0:z):m)+p,this.offsetWidth)},E.prototype.getAllItems=function(){var x=[];return this.chart.series.forEach(function(m){var p=m&&m.options;m&&F(p.showInLegend,S(p.linkedTo)?!1:void 0,!0)&&(x=x.concat((m.legendItem||{}).labels||(p.legendType==="point"?m.data:m)))}),U(this,"afterGetAllItems",{allItems:x}),x},E.prototype.getAlignment=function(){var x=this.options;return this.proximate?x.align.charAt(0)+"tv":x.floating?"":x.align.charAt(0)+x.verticalAlign.charAt(0)+x.layout.charAt(0)},E.prototype.adjustMargins=function(x,m){var p=this.chart,y=this.options,R=this.getAlignment();R&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(_,L){_.test(R)&&!S(x[L])&&(p[b[L]]=Math.max(p[b[L]],p.legend[(L+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][L]*y[L%2?"x":"y"]+F(y.margin,12)+m[L]+(p.titleOffset[L]||0)))})},E.prototype.proximatePositions=function(){var x=this.chart,m=[],p=this.options.align==="left";this.allItems.forEach(function(z){var K,X=p;if(z.yAxis){z.xAxis.options.reversed&&(X=!X),z.points&&(K=D(X?z.points:z.points.slice(0).reverse(),function(j){return $(j.plotY)})),X=this.itemMarginTop+z.legendItem.label.getBBox().height+this.itemMarginBottom;var O=z.yAxis.top-x.plotTop;z.visible?(K=K?K.plotY:z.yAxis.height,K+=O-.3*X):K=O+z.yAxis.height,m.push({target:K,size:X,item:z})}},this);for(var y,R=0,_=w(m,x.plotHeight);R<_.length;R++){var L=_[R];y=L.item.legendItem||{},$(L.pos)&&(y.y=x.plotTop-x.spacing[0]+L.pos)}},E.prototype.render=function(){var x=this.chart,m=x.renderer,p=this.options,y=this.padding,R=this.getAllItems(),_=this.group,L=this.box;this.itemX=y,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=M(p.width,x.spacingBox.width-y);var z=x.spacingBox.width-2*y-p.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(z/=2),this.maxLegendWidth=this.widthOption||z,_||(this.group=_=m.g("legend").addClass(p.className||"").attr({zIndex:7}).add(),this.contentGroup=m.g().attr({zIndex:1}).add(_),this.scrollGroup=m.g().add(this.contentGroup)),this.renderTitle(),I(R,function(X,O){return(X.options&&X.options.legendIndex||0)-(O.options&&O.options.legendIndex||0)}),p.reversed&&R.reverse(),this.allItems=R,this.display=z=!!R.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,R.forEach(this.renderItem,this),R.forEach(this.layoutItem,this),R=(this.widthOption||this.offsetWidth)+y;var K=this.lastItemY+this.lastLineHeight+this.titleHeight;K=this.handleOverflow(K),K+=y,L||(this.box=L=m.rect().addClass("highcharts-legend-box").attr({r:p.borderRadius}).add(_)),x.styledMode||L.attr({stroke:p.borderColor,"stroke-width":p.borderWidth||0,fill:p.backgroundColor||"none"}).shadow(p.shadow),0<R&&0<K&&L[L.placed?"animate":"attr"](L.crisp.call({},{x:0,y:0,width:R,height:K},L.strokeWidth())),_[z?"show":"hide"](),x.styledMode&&_.getStyle("display")==="none"&&(R=K=0),this.legendWidth=R,this.legendHeight=K,z&&this.align(),this.proximate||this.positionItems(),U(this,"afterRender")},E.prototype.align=function(x){x===void 0&&(x=this.chart.spacingBox);var m=this.chart,p=this.options,y=x.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<m.titleOffset[0]?y+=m.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<m.titleOffset[2]&&(y-=m.titleOffset[2]),y!==x.y&&(x=H(x,{y})),m.hasRendered||(this.group.placed=!1),this.group.align(H(p,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":p.verticalAlign}),!0,x)},E.prototype.handleOverflow=function(x){var m=this,p=this.chart,y=p.renderer,R=this.options,_=R.y,L=R.verticalAlign==="top",z=this.padding,K=R.maxHeight,X=R.navigation,O=F(X.animation,!0),j=X.arrowSize||12,W=this.pages,q=this.allItems,Q=function(nt){typeof nt=="number"?et.attr({height:nt}):et&&(m.clipRect=et.destroy(),m.contentGroup.clip()),m.contentGroup.div&&(m.contentGroup.div.style.clip=nt?"rect("+z+"px,9999px,"+(z+nt)+"px,0)":"auto")},B=function(nt){return m[nt]=y.circle(0,0,1.3*j).translate(j/2,j/2).add(J),p.styledMode||m[nt].attr("fill","rgba(0,0,0,0.0001)"),m[nt]},Y,G,Z;_=p.spacingBox.height+(L?-_:_)-z;var J=this.nav,et=this.clipRect;return R.layout!=="horizontal"||R.verticalAlign==="middle"||R.floating||(_/=2),K&&(_=Math.min(_,K)),W.length=0,x&&0<_&&x>_&&X.enabled!==!1?(this.clipHeight=Y=Math.max(_-20-this.titleHeight-z,0),this.currentPage=F(this.currentPage,1),this.fullHeight=x,q.forEach(function(nt,at){Z=nt.legendItem||{},nt=Z.y||0;var st=Math.round(Z.label.getBBox().height),mt=W.length;(!mt||nt-W[mt-1]>Y&&(G||nt)!==W[mt-1])&&(W.push(G||nt),mt++),Z.pageIx=mt-1,G&&((q[at-1].legendItem||{}).pageIx=mt-1),at===q.length-1&&nt+st-W[mt-1]>Y&&st<=Y&&(W.push(nt),Z.pageIx=mt),nt!==G&&(G=nt)}),et||(et=m.clipRect=y.clipRect(0,z,9999,0),m.contentGroup.clip(et)),Q(Y),J||(this.nav=J=y.g().attr({zIndex:1}).add(this.group),this.up=y.symbol("triangle",0,0,j,j).add(J),B("upTracker").on("click",function(){m.scroll(-1,O)}),this.pager=y.text("",15,10).addClass("highcharts-legend-navigation"),!p.styledMode&&X.style&&this.pager.css(X.style),this.pager.add(J),this.down=y.symbol("triangle-down",0,0,j,j).add(J),B("downTracker").on("click",function(){m.scroll(1,O)})),m.scroll(0),x=_):J&&(Q(),this.nav=J.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),x},E.prototype.scroll=function(x,m){var p=this,y=this.chart,R=this.pages,_=R.length,L=this.clipHeight,z=this.options.navigation,K=this.pager,X=this.padding,O=this.currentPage+x;O>_&&(O=_),0<O&&(typeof m<"u"&&v(m,y),this.nav.attr({translateX:X,translateY:L+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(j){j.attr({class:O===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),K.attr({text:O+"/"+_}),[this.down,this.downTracker].forEach(function(j){j.attr({x:18+this.pager.getBBox().width,class:O===_?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),y.styledMode||(this.up.attr({fill:O===1?z.inactiveColor:z.activeColor}),this.upTracker.css({cursor:O===1?"default":"pointer"}),this.down.attr({fill:O===_?z.inactiveColor:z.activeColor}),this.downTracker.css({cursor:O===_?"default":"pointer"})),this.scrollOffset=-R[O-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=O,this.positionCheckboxes(),x=f(F(m,y.renderer.globalAnimation,!0)),A(function(){U(p,"afterScroll",{currentPage:O})},x.duration))},E.prototype.setItemEvents=function(x,m,p){var y=this,R=x.legendItem||{},_=y.chart.renderer.boxWrapper,L=x instanceof u,z="highcharts-legend-"+(L?"point":"series")+"-active",K=y.chart.styledMode,X=function(j){y.allItems.forEach(function(W){x!==W&&[W].concat(W.linkedSeries||[]).forEach(function(q){q.setState(j,!L)})})},O=0;for(p=p?[m,R.symbol]:[R.group];O<p.length;O++)(R=p[O])&&R.on("mouseover",function(){x.visible&&X("inactive"),x.setState("hover"),x.visible&&_.addClass(z),K||m.css(y.options.itemHoverStyle)}).on("mouseout",function(){y.chart.styledMode||m.css(H(x.visible?y.itemStyle:y.itemHiddenStyle)),X(""),_.removeClass(z),x.setState()}).on("click",function(j){var W=function(){x.setVisible&&x.setVisible(),X(x.visible?"inactive":"")};_.removeClass(z),j={browserEvent:j},x.firePointEvent?x.firePointEvent("legendItemClick",j,W):U(x,"legendItemClick",j,W)})},E.prototype.createCheckboxForItem=function(x){x.checkbox=P("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:x.selected,defaultChecked:x.selected},this.options.itemCheckboxStyle,this.chart.container),T(x.checkbox,"click",function(m){U(x.series||x,"checkboxClick",{checked:m.target.checked,item:x},function(){x.select()})})},E}(),i}),n(r,"Core/Series/SeriesRegistry.js",[r["Core/Globals.js"],r["Core/Defaults.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=o.defaultOptions,h=u.extendClass,f=u.merge,v;return function(g){function b(w,T){var P=c.plotOptions||{},k=T.defaultOptions,S=T.prototype;S.type=w,S.pointClass||(S.pointClass=a),k&&(P[w]=k),g.seriesTypes[w]=T}g.seriesTypes=i.seriesTypes,g.registerSeriesType=b,g.seriesType=function(w,T,P,k,S){var C=c.plotOptions||{};return T=T||"",C[w]=f(C[T],P),b(w,h(g.seriesTypes[T]||function(){},k)),g.seriesTypes[w].prototype.type=w,S&&(g.seriesTypes[w].prototype.pointClass=h(a,S)),g.seriesTypes[w]}}(v||(v={})),v}),n(r,"Core/Chart/Chart.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/Legend.js"],r["Core/MSPointer.js"],r["Core/Pointer.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Time.js"],r["Core/Utilities.js"],r["Core/Renderer/HTML/AST.js"]],function(i,o,a,u,c,h,f,v,g,b,w,T,P,k,S){var C=i.animate,D=i.animObject,U=i.setAnimation,$=a.defaultOptions,H=a.defaultTime,F=u.numberFormat,M=c.registerEventOptions,I=h.charts,A=h.doc,E=h.marginNames,x=h.svg,m=h.win,p=w.seriesTypes,y=k.addEvent,R=k.attr,_=k.cleanRecursively,L=k.createElement,z=k.css,K=k.defined,X=k.discardElement,O=k.erase,j=k.error,W=k.extend,q=k.find,Q=k.fireEvent,B=k.getStyle,Y=k.isArray,G=k.isNumber,Z=k.isObject,J=k.isString,et=k.merge,nt=k.objectEach,at=k.pick,st=k.pInt,mt=k.relativeLength,wt=k.removeEvent,yt=k.splat,gt=k.syncTimeout,bt=k.uniqueKey;return i=function(){function ht(it,ot,ct){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(it,ot,ct)}return ht.chart=function(it,ot,ct){return new ht(it,ot,ct)},ht.prototype.getArgs=function(it,ot,ct){J(it)||it.nodeName?(this.renderTo=it,this.init(ot,ct)):this.init(it,ot)},ht.prototype.init=function(it,ot){var ct=it.plotOptions||{};Q(this,"init",{args:arguments},function(){var ft=et($,it),vt=ft.chart;nt(ft.plotOptions,function(St,Lt){Z(St)&&(St.tooltip=ct[Lt]&&et(ct[Lt].tooltip)||void 0)}),ft.tooltip.userOptions=it.chart&&it.chart.forExport&&it.tooltip.userOptions||it.tooltip,this.userOptions=it,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ot,this.isResizing=0;var xt=vt.zooming=vt.zooming||{};it.chart&&!it.chart.zooming&&(xt.resetButton=vt.resetZoomButton),xt.key=at(xt.key,vt.zoomKey),xt.pinchType=at(xt.pinchType,vt.pinchType),xt.singleTouch=at(xt.singleTouch,vt.zoomBySingleTouch),xt.type=at(xt.type,vt.zoomType),this.options=ft,this.axes=[],this.series=[],this.time=it.time&&Object.keys(it.time).length?new P(it.time):h.time,this.numberFormatter=vt.numberFormatter||F,this.styledMode=vt.styledMode,this.hasCartesianSeries=vt.showAxes,this.index=I.length,I.push(this),h.chartCount++,M(this,vt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,Q(this,"afterInit"),this.firstRender()})},ht.prototype.initSeries=function(it){var ot=this.options.chart;ot=it.type||ot.type||ot.defaultSeriesType;var ct=p[ot];return ct||j(17,!0,this,{missingModuleFor:ot}),ot=new ct,typeof ot.init=="function"&&ot.init(this,it),ot},ht.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(it){it.points||it.data||!it.enabledDataSorting||it.setData(it.options.data,!1)})},ht.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(it,ot){return it.linkedSeries.length||ot.linkedSeries.length?ot.linkedSeries.length-it.linkedSeries.length:0})},ht.prototype.orderSeries=function(it){var ot=this.series;it=it||0;for(var ct=ot.length;it<ct;++it)ot[it]&&(ot[it].index=it,ot[it].name=ot[it].getName())},ht.prototype.isInsidePlot=function(it,ot,ct){ct===void 0&&(ct={});var ft=this.inverted,vt=this.plotBox,xt=this.plotLeft,St=this.plotTop,Lt=this.scrollablePlotBox,Kt=0,Tt=0;ct.visiblePlotOnly&&this.scrollingContainer&&(Tt=this.scrollingContainer,Kt=Tt.scrollLeft,Tt=Tt.scrollTop);var At=ct.series;if(vt=ct.visiblePlotOnly&&Lt||vt,Lt=ct.inverted?ot:it,ot=ct.inverted?it:ot,it={x:Lt,y:ot,isInsidePlot:!0,options:ct},!ct.ignoreX){var Wt=At&&(ft&&!this.polar?At.yAxis:At.xAxis)||{pos:xt,len:1/0};Lt=ct.paneCoordinates?Wt.pos+Lt:xt+Lt,Lt>=Math.max(Kt+xt,Wt.pos)&&Lt<=Math.min(Kt+xt+vt.width,Wt.pos+Wt.len)||(it.isInsidePlot=!1)}return!ct.ignoreY&&it.isInsidePlot&&(ft=ct.axis&&!ct.axis.isXAxis&&ct.axis||At&&(ft?At.xAxis:At.yAxis)||{pos:St,len:1/0},ct=ct.paneCoordinates?ft.pos+ot:St+ot,ct>=Math.max(Tt+St,ft.pos)&&ct<=Math.min(Tt+St+vt.height,ft.pos+ft.len)||(it.isInsidePlot=!1)),Q(this,"afterIsInsidePlot",it),it.isInsidePlot},ht.prototype.redraw=function(it){Q(this,"beforeRedraw");var ot=this.hasCartesianSeries?this.axes:this.colorAxis||[],ct=this.series,ft=this.pointer,vt=this.legend,xt=this.userOptions.legend,St=this.renderer,Lt=St.isHidden(),Kt=[],Tt=this.isDirtyBox,At=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),U(this.hasRendered?it:!1,this),Lt&&this.temporaryDisplay(),this.layOutTitles(),it=ct.length;it--;){var Wt=ct[it];if(Wt.options.stacking||Wt.options.centerInCategory){var Bt=!0;if(Wt.isDirty){var te=!0;break}}}if(te)for(it=ct.length;it--;)Wt=ct[it],Wt.options.stacking&&(Wt.isDirty=!0);ct.forEach(function(It){It.isDirty&&(It.options.legendType==="point"?(typeof It.updateTotals=="function"&&It.updateTotals(),At=!0):xt&&(xt.labelFormatter||xt.labelFormat)&&(At=!0)),It.isDirtyData&&Q(It,"updatedData")}),At&&vt&&vt.options.enabled&&(vt.render(),this.isDirtyLegend=!1),Bt&&this.getStacks(),ot.forEach(function(It){It.updateNames(),It.setScale()}),this.getMargins(),ot.forEach(function(It){It.isDirty&&(Tt=!0)}),ot.forEach(function(It){var Ie=It.min+","+It.max;It.extKey!==Ie&&(It.extKey=Ie,Kt.push(function(){Q(It,"afterSetExtremes",W(It.eventArgs,It.getExtremes())),delete It.eventArgs})),(Tt||Bt)&&It.redraw()}),Tt&&this.drawChartBox(),Q(this,"predraw"),ct.forEach(function(It){(Tt||It.isDirty)&&It.visible&&It.redraw(),It.isDirtyData=!1}),ft&&ft.reset(!0),St.draw(),Q(this,"redraw"),Q(this,"render"),Lt&&this.temporaryDisplay(!0),Kt.forEach(function(It){It.call()})},ht.prototype.get=function(it){function ot(xt){return xt.id===it||xt.options&&xt.options.id===it}for(var ct=this.series,ft=q(this.axes,ot)||q(this.series,ot),vt=0;!ft&&vt<ct.length;vt++)ft=q(ct[vt].points||[],ot);return ft},ht.prototype.getAxes=function(){var it=this,ot=this.options,ct=ot.xAxis=yt(ot.xAxis||{});ot=ot.yAxis=yt(ot.yAxis||{}),Q(this,"getAxes"),ct.forEach(function(ft,vt){ft.index=vt,ft.isX=!0}),ot.forEach(function(ft,vt){ft.index=vt}),ct.concat(ot).forEach(function(ft){new o(it,ft)}),Q(this,"afterGetAxes")},ht.prototype.getSelectedPoints=function(){return this.series.reduce(function(it,ot){return ot.getPointsCollection().forEach(function(ct){at(ct.selectedStaging,ct.selected)&&it.push(ct)}),it},[])},ht.prototype.getSelectedSeries=function(){return this.series.filter(function(it){return it.selected})},ht.prototype.setTitle=function(it,ot,ct){this.applyDescription("title",it),this.applyDescription("subtitle",ot),this.applyDescription("caption",void 0),this.layOutTitles(ct)},ht.prototype.applyDescription=function(it,ot){var ct=this,ft=it==="title"?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};ft=this.options[it]=et(!this.styledMode&&{style:ft},this.options[it],ot);var vt=this[it];vt&&ot&&(this[it]=vt=vt.destroy()),ft&&!vt&&(vt=this.renderer.text(ft.text,0,0,ft.useHTML).attr({align:ft.align,class:"highcharts-"+it,zIndex:ft.zIndex||4}).add(),vt.update=function(xt){ct[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[it]](xt)},this.styledMode||vt.css(ft.style),this[it]=vt)},ht.prototype.layOutTitles=function(it){var ot=[0,0,0],ct=this.renderer,ft=this.spacingBox;["title","subtitle","caption"].forEach(function(xt){var St=this[xt],Lt=this.options[xt],Kt=Lt.verticalAlign||"top";xt=xt==="title"?Kt==="top"?-3:0:Kt==="top"?ot[0]+2:0;var Tt;if(St){this.styledMode||(Tt=Lt.style&&Lt.style.fontSize),Tt=ct.fontMetrics(Tt,St).b,St.css({width:(Lt.width||ft.width+(Lt.widthAdjust||0))+"px"});var At=Math.round(St.getBBox(Lt.useHTML).height);St.align(W({y:Kt==="bottom"?Tt:xt+Tt,height:At},Lt),!1,"spacingBox"),Lt.floating||(Kt==="top"?ot[0]=Math.ceil(ot[0]+At):Kt==="bottom"&&(ot[2]=Math.ceil(ot[2]+At)))}},this),ot[0]&&(this.options.title.verticalAlign||"top")==="top"&&(ot[0]+=this.options.title.margin),ot[2]&&this.options.caption.verticalAlign==="bottom"&&(ot[2]+=this.options.caption.margin);var vt=!this.titleOffset||this.titleOffset.join(",")!==ot.join(",");this.titleOffset=ot,Q(this,"afterLayOutTitles"),!this.isDirtyBox&&vt&&(this.isDirtyBox=this.isDirtyLegend=vt,this.hasRendered&&at(it,!0)&&this.isDirtyBox&&this.redraw())},ht.prototype.getChartSize=function(){var it=this.options.chart,ot=it.width;it=it.height;var ct=this.renderTo;K(ot)||(this.containerWidth=B(ct,"width")),K(it)||(this.containerHeight=B(ct,"height")),this.chartWidth=Math.max(0,ot||this.containerWidth||600),this.chartHeight=Math.max(0,mt(it,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ht.prototype.temporaryDisplay=function(it){var ot=this.renderTo;if(it)for(;ot&&ot.style;)ot.hcOrigStyle&&(z(ot,ot.hcOrigStyle),delete ot.hcOrigStyle),ot.hcOrigDetached&&(A.body.removeChild(ot),ot.hcOrigDetached=!1),ot=ot.parentNode;else for(;ot&&ot.style&&(A.body.contains(ot)||ot.parentNode||(ot.hcOrigDetached=!0,A.body.appendChild(ot)),(B(ot,"display",!1)==="none"||ot.hcOricDetached)&&(ot.hcOrigStyle={display:ot.style.display,height:ot.style.height,overflow:ot.style.overflow},it={display:"block",overflow:"hidden"},ot!==this.renderTo&&(it.height=0),z(ot,it),ot.offsetWidth||ot.style.setProperty("display","block","important")),ot=ot.parentNode,ot!==A.body););},ht.prototype.setClassName=function(it){this.container.className="highcharts-container "+(it||"")},ht.prototype.getContainer=function(){var it=this.options,ot=it.chart,ct=bt(),ft,vt=this.renderTo;vt||(this.renderTo=vt=ot.renderTo),J(vt)&&(this.renderTo=vt=A.getElementById(vt)),vt||j(13,!0,this);var xt=st(R(vt,"data-highcharts-chart"));G(xt)&&I[xt]&&I[xt].hasRendered&&I[xt].destroy(),R(vt,"data-highcharts-chart",this.index),vt.innerHTML=S.emptyHTML,ot.skipClone||vt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),xt=this.chartWidth;var St=this.chartHeight;if(z(vt,{overflow:"hidden"}),this.styledMode||(ft=W({position:"relative",overflow:"hidden",width:xt+"px",height:St+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ot.style||{})),this.container=ct=L("div",{id:ct},ft,vt),this._cursor=ct.style.cursor,this.renderer=new(ot.renderer||!x?b.getRendererType(ot.renderer):T)(ct,xt,St,void 0,ot.forExport,it.exporting&&it.exporting.allowHTML,this.styledMode),U(void 0,this),this.setClassName(ot.className),this.styledMode)for(var Lt in it.defs)this.renderer.definition(it.defs[Lt]);else this.renderer.setStyle(ot.style);this.renderer.chartIndex=this.index,Q(this,"afterGetContainer")},ht.prototype.getMargins=function(it){var ot=this.spacing,ct=this.margin,ft=this.titleOffset;this.resetMargins(),ft[0]&&!K(ct[0])&&(this.plotTop=Math.max(this.plotTop,ft[0]+ot[0])),ft[2]&&!K(ct[2])&&(this.marginBottom=Math.max(this.marginBottom,ft[2]+ot[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ct,ot),Q(this,"getMargins"),it||this.getAxisMargins()},ht.prototype.getAxisMargins=function(){var it=this,ot=it.axisOffset=[0,0,0,0],ct=it.colorAxis,ft=it.margin,vt=function(xt){xt.forEach(function(St){St.visible&&St.getOffset()})};it.hasCartesianSeries?vt(it.axes):ct&&ct.length&&vt(ct),E.forEach(function(xt,St){K(ft[St])||(it[xt]+=ot[St])}),it.setChartSize()},ht.prototype.reflow=function(it){var ot=this,ct=ot.options.chart,ft=ot.renderTo,vt=K(ct.width)&&K(ct.height),xt=ct.width||B(ft,"width");ct=ct.height||B(ft,"height"),ft=it?it.target:m,delete ot.pointer.chartPosition,!vt&&!ot.isPrinting&&xt&&ct&&(ft===m||ft===A)&&((xt!==ot.containerWidth||ct!==ot.containerHeight)&&(k.clearTimeout(ot.reflowTimeout),ot.reflowTimeout=gt(function(){ot.container&&ot.setSize(void 0,void 0,!1)},it?100:0)),ot.containerWidth=xt,ot.containerHeight=ct)},ht.prototype.setReflow=function(it){var ot=this;it===!1||this.unbindReflow?it===!1&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=y(m,"resize",function(ct){ot.options&&ot.reflow(ct)}),y(this,"destroy",this.unbindReflow))},ht.prototype.setSize=function(it,ot,ct){var ft=this,vt=ft.renderer;ft.isResizing+=1,U(ct,ft),ct=vt.globalAnimation,ft.oldChartHeight=ft.chartHeight,ft.oldChartWidth=ft.chartWidth,typeof it<"u"&&(ft.options.chart.width=it),typeof ot<"u"&&(ft.options.chart.height=ot),ft.getChartSize(),ft.styledMode||(ct?C:z)(ft.container,{width:ft.chartWidth+"px",height:ft.chartHeight+"px"},ct),ft.setChartSize(!0),vt.setSize(ft.chartWidth,ft.chartHeight,ct),ft.axes.forEach(function(xt){xt.isDirty=!0,xt.setScale()}),ft.isDirtyLegend=!0,ft.isDirtyBox=!0,ft.layOutTitles(),ft.getMargins(),ft.redraw(ct),ft.oldChartHeight=null,Q(ft,"resize"),gt(function(){ft&&Q(ft,"endResize",null,function(){--ft.isResizing})},D(ct).duration)},ht.prototype.setChartSize=function(it){var ot=this.inverted,ct=this.renderer,ft=this.chartWidth,vt=this.chartHeight,xt=this.options.chart,St=this.spacing,Lt=this.clipOffset,Kt,Tt,At,Wt;this.plotLeft=Kt=Math.round(this.plotLeft),this.plotTop=Tt=Math.round(this.plotTop),this.plotWidth=At=Math.max(0,Math.round(ft-Kt-this.marginRight)),this.plotHeight=Wt=Math.max(0,Math.round(vt-Tt-this.marginBottom)),this.plotSizeX=ot?Wt:At,this.plotSizeY=ot?At:Wt,this.plotBorderWidth=xt.plotBorderWidth||0,this.spacingBox=ct.spacingBox={x:St[3],y:St[0],width:ft-St[3]-St[1],height:vt-St[0]-St[2]},this.plotBox=ct.plotBox={x:Kt,y:Tt,width:At,height:Wt},ot=2*Math.floor(this.plotBorderWidth/2),ft=Math.ceil(Math.max(ot,Lt[3])/2),vt=Math.ceil(Math.max(ot,Lt[0])/2),this.clipBox={x:ft,y:vt,width:Math.floor(this.plotSizeX-Math.max(ot,Lt[1])/2-ft),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ot,Lt[2])/2-vt))},it||(this.axes.forEach(function(Bt){Bt.setAxisSize(),Bt.setAxisTranslation()}),ct.alignElements()),Q(this,"afterSetChartSize",{skipAxes:it})},ht.prototype.resetMargins=function(){Q(this,"resetMargins");var it=this,ot=it.options.chart;["margin","spacing"].forEach(function(ct){var ft=ot[ct],vt=Z(ft)?ft:[ft,ft,ft,ft];["Top","Right","Bottom","Left"].forEach(function(xt,St){it[ct][St]=at(ot[ct+xt],vt[St])})}),E.forEach(function(ct,ft){it[ct]=at(it.margin[ft],it.spacing[ft])}),it.axisOffset=[0,0,0,0],it.clipOffset=[0,0,0,0]},ht.prototype.drawChartBox=function(){var it=this.options.chart,ot=this.renderer,ct=this.chartWidth,ft=this.chartHeight,vt=this.styledMode,xt=this.plotBGImage,St=it.backgroundColor,Lt=it.plotBackgroundColor,Kt=it.plotBackgroundImage,Tt=this.plotLeft,At=this.plotTop,Wt=this.plotWidth,Bt=this.plotHeight,te=this.plotBox,It=this.clipRect,Ie=this.clipBox,me=this.chartBackground,ke=this.plotBackground,Mr=this.plotBorder,Be,Cn="animate";if(me||(this.chartBackground=me=ot.rect().addClass("highcharts-background").add(),Cn="attr"),vt)var er=Be=me.strokeWidth();else er=it.borderWidth||0,Be=er+(it.shadow?8:0),St={fill:St||"none"},(er||me["stroke-width"])&&(St.stroke=it.borderColor,St["stroke-width"]=er),me.attr(St).shadow(it.shadow);me[Cn]({x:Be/2,y:Be/2,width:ct-Be-er%2,height:ft-Be-er%2,r:it.borderRadius}),Cn="animate",ke||(Cn="attr",this.plotBackground=ke=ot.rect().addClass("highcharts-plot-background").add()),ke[Cn](te),vt||(ke.attr({fill:Lt||"none"}).shadow(it.plotShadow),Kt&&(xt?(Kt!==xt.attr("href")&&xt.attr("href",Kt),xt.animate(te)):this.plotBGImage=ot.image(Kt,Tt,At,Wt,Bt).add())),It?It.animate({width:Ie.width,height:Ie.height}):this.clipRect=ot.clipRect(Ie),Cn="animate",Mr||(Cn="attr",this.plotBorder=Mr=ot.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),vt||Mr.attr({stroke:it.plotBorderColor,"stroke-width":it.plotBorderWidth||0,fill:"none"}),Mr[Cn](Mr.crisp({x:Tt,y:At,width:Wt,height:Bt},-Mr.strokeWidth())),this.isDirtyBox=!1,Q(this,"afterDrawChartBox")},ht.prototype.propFromSeries=function(){var it=this,ot=it.options.chart,ct=it.options.series,ft,vt,xt;["inverted","angular","polar"].forEach(function(St){for(vt=p[ot.type||ot.defaultSeriesType],xt=ot[St]||vt&&vt.prototype[St],ft=ct&&ct.length;!xt&&ft--;)(vt=p[ct[ft].type])&&vt.prototype[St]&&(xt=!0);it[St]=xt})},ht.prototype.linkSeries=function(){var it=this,ot=it.series;ot.forEach(function(ct){ct.linkedSeries.length=0}),ot.forEach(function(ct){var ft=ct.options.linkedTo;J(ft)&&(ft=ft===":previous"?it.series[ct.index-1]:it.get(ft))&&ft.linkedParent!==ct&&(ft.linkedSeries.push(ct),ct.linkedParent=ft,ft.enabledDataSorting&&ct.setDataSortingOptions(),ct.visible=at(ct.options.visible,ft.options.visible,ct.visible))}),Q(this,"afterLinkSeries")},ht.prototype.renderSeries=function(){this.series.forEach(function(it){it.translate(),it.render()})},ht.prototype.renderLabels=function(){var it=this,ot=it.options.labels;ot.items&&ot.items.forEach(function(ct){var ft=W(ot.style,ct.style),vt=st(ft.left)+it.plotLeft,xt=st(ft.top)+it.plotTop+12;delete ft.left,delete ft.top,it.renderer.text(ct.html,vt,xt).attr({zIndex:2}).css(ft).add()})},ht.prototype.render=function(){var it=this.axes,ot=this.colorAxis,ct=this.renderer,ft=this.options,vt=function(Tt){Tt.forEach(function(At){At.visible&&At.render()})},xt=0;this.setTitle(),this.legend=new f(this,ft.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),ft=this.plotWidth,it.some(function(Tt){if(Tt.horiz&&Tt.visible&&Tt.options.labels.enabled&&Tt.series.length)return xt=21,!0});var St=this.plotHeight=Math.max(this.plotHeight-xt,0);it.forEach(function(Tt){Tt.setScale()}),this.getAxisMargins();var Lt=1.1<ft/this.plotWidth,Kt=1.05<St/this.plotHeight;(Lt||Kt)&&(it.forEach(function(Tt){(Tt.horiz&&Lt||!Tt.horiz&&Kt)&&Tt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?vt(it):ot&&ot.length&&vt(ot),this.seriesGroup||(this.seriesGroup=ct.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ht.prototype.addCredits=function(it){var ot=this,ct=et(!0,this.options.credits,it);ct.enabled&&!this.credits&&(this.credits=this.renderer.text(ct.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ct.href&&(m.location.href=ct.href)}).attr({align:ct.position.align,zIndex:8}),ot.styledMode||this.credits.css(ct.style),this.credits.add().align(ct.position),this.credits.update=function(ft){ot.credits=ot.credits.destroy(),ot.addCredits(ft)})},ht.prototype.destroy=function(){var it=this,ot=it.axes,ct=it.series,ft=it.container,vt=ft&&ft.parentNode,xt;for(Q(it,"destroy"),it.renderer.forExport?O(I,it):I[it.index]=void 0,h.chartCount--,it.renderTo.removeAttribute("data-highcharts-chart"),wt(it),xt=ot.length;xt--;)ot[xt]=ot[xt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),xt=ct.length;xt--;)ct[xt]=ct[xt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(St){var Lt=it[St];Lt&&Lt.destroy&&(it[St]=Lt.destroy())}),ft&&(ft.innerHTML=S.emptyHTML,wt(ft),vt&&X(ft)),nt(it,function(St,Lt){delete it[Lt]})},ht.prototype.firstRender=function(){var it=this,ot=it.options;(!it.isReadyToRender||it.isReadyToRender())&&(it.getContainer(),it.resetMargins(),it.setChartSize(),it.propFromSeries(),it.getAxes(),(Y(ot.series)?ot.series:[]).forEach(function(ct){it.initSeries(ct)}),it.linkSeries(),it.setSeriesData(),Q(it,"beforeRender"),g&&(v.isRequired()?it.pointer=new v(it,ot):it.pointer=new g(it,ot)),it.render(),it.pointer.getChartPosition(),!it.renderer.imgCount&&!it.hasLoaded&&it.onload(),it.temporaryDisplay(!0))},ht.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(it){it&&typeof this.index<"u"&&it.apply(this,[this])},this),Q(this,"load"),Q(this,"render"),K(this.index)&&this.setReflow(this.options.chart.reflow),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0},ht.prototype.warnIfA11yModuleNotLoaded=function(){var it=this.options,ot=this.title;it&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(ot&&ot.element.textContent||"").replace(/</g,"&lt;")}),it.accessibility&&it.accessibility.enabled===!1||j('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))},ht.prototype.addSeries=function(it,ot,ct){var ft=this,vt;return it&&(ot=at(ot,!0),Q(ft,"addSeries",{options:it},function(){vt=ft.initSeries(it),ft.isDirtyLegend=!0,ft.linkSeries(),vt.enabledDataSorting&&vt.setData(it.data,!1),Q(ft,"afterAddSeries",{series:vt}),ot&&ft.redraw(ct)})),vt},ht.prototype.addAxis=function(it,ot,ct,ft){return this.createAxis(ot?"xAxis":"yAxis",{axis:it,redraw:ct,animation:ft})},ht.prototype.addColorAxis=function(it,ot,ct){return this.createAxis("colorAxis",{axis:it,redraw:ot,animation:ct})},ht.prototype.createAxis=function(it,ot){return it=new o(this,et(ot.axis,{index:this[it].length,isX:it==="xAxis"})),at(ot.redraw,!0)&&this.redraw(ot.animation),it},ht.prototype.showLoading=function(it){var ot=this,ct=ot.options,ft=ct.loading,vt=function(){xt&&z(xt,{left:ot.plotLeft+"px",top:ot.plotTop+"px",width:ot.plotWidth+"px",height:ot.plotHeight+"px"})},xt=ot.loadingDiv,St=ot.loadingSpan;xt||(ot.loadingDiv=xt=L("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ot.container)),St||(ot.loadingSpan=St=L("span",{className:"highcharts-loading-inner"},null,xt),y(ot,"redraw",vt)),xt.className="highcharts-loading",S.setElementHTML(St,at(it,ct.lang.loading,"")),ot.styledMode||(z(xt,W(ft.style,{zIndex:10})),z(St,ft.labelStyle),ot.loadingShown||(z(xt,{opacity:0,display:""}),C(xt,{opacity:ft.style.opacity||.5},{duration:ft.showDuration||0}))),ot.loadingShown=!0,vt()},ht.prototype.hideLoading=function(){var it=this.options,ot=this.loadingDiv;ot&&(ot.className="highcharts-loading highcharts-loading-hidden",this.styledMode||C(ot,{opacity:0},{duration:it.loading.hideDuration||100,complete:function(){z(ot,{display:"none"})}})),this.loadingShown=!1},ht.prototype.update=function(it,ot,ct,ft){var vt=this,xt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},St=it.isResponsiveOptions,Lt=[],Kt,Tt;Q(vt,"update",{options:it}),St||vt.setResponsive(!1,!0),it=_(it,vt.options),vt.userOptions=et(vt.userOptions,it);var At=it.chart;if(At){if(et(!0,vt.options.chart,At),"className"in At&&vt.setClassName(At.className),"reflow"in At&&vt.setReflow(At.reflow),"inverted"in At||"polar"in At||"type"in At){vt.propFromSeries();var Wt=!0}"alignTicks"in At&&(Wt=!0),"events"in At&&M(this,At),nt(At,function(Bt,te){vt.propsRequireUpdateSeries.indexOf("chart."+te)!==-1&&(Kt=!0),vt.propsRequireDirtyBox.indexOf(te)!==-1&&(vt.isDirtyBox=!0),vt.propsRequireReflow.indexOf(te)!==-1&&(St?vt.isDirtyBox=!0:Tt=!0)}),!vt.styledMode&&At.style&&vt.renderer.setStyle(vt.options.chart.style||{})}!vt.styledMode&&it.colors&&(this.options.colors=it.colors),it.time&&(this.time===H&&(this.time=new P(it.time)),et(!0,vt.options.time,it.time)),nt(it,function(Bt,te){vt[te]&&typeof vt[te].update=="function"?vt[te].update(Bt,!1):typeof vt[xt[te]]=="function"?vt[xt[te]](Bt):te!=="colors"&&vt.collectionsWithUpdate.indexOf(te)===-1&&et(!0,vt.options[te],it[te]),te!=="chart"&&vt.propsRequireUpdateSeries.indexOf(te)!==-1&&(Kt=!0)}),this.collectionsWithUpdate.forEach(function(Bt){if(it[Bt]){var te=[];vt[Bt].forEach(function(It,Ie){It.options.isInternal||te.push(at(It.options.index,Ie))}),yt(it[Bt]).forEach(function(It,Ie){var me=K(It.id),ke;me&&(ke=vt.get(It.id)),!ke&&vt[Bt]&&(ke=vt[Bt][te?te[Ie]:Ie])&&me&&K(ke.options.id)&&(ke=void 0),ke&&ke.coll===Bt&&(ke.update(It,!1),ct&&(ke.touched=!0)),!ke&&ct&&vt.collectionsWithInit[Bt]&&(vt.collectionsWithInit[Bt][0].apply(vt,[It].concat(vt.collectionsWithInit[Bt][1]||[]).concat([!1])).touched=!0)}),ct&&vt[Bt].forEach(function(It){It.touched||It.options.isInternal?delete It.touched:Lt.push(It)})}}),Lt.forEach(function(Bt){Bt.chart&&Bt.remove&&Bt.remove(!1)}),Wt&&vt.axes.forEach(function(Bt){Bt.update({},!1)}),Kt&&vt.getSeriesOrderByLinks().forEach(function(Bt){Bt.chart&&Bt.update({},!1)},this),Wt=At&&At.width,At=At&&(J(At.height)?mt(At.height,Wt||vt.chartWidth):At.height),Tt||G(Wt)&&Wt!==vt.chartWidth||G(At)&&At!==vt.chartHeight?vt.setSize(Wt,At,ft):at(ot,!0)&&vt.redraw(ft),Q(vt,"afterUpdate",{options:it,redraw:ot,animation:ft})},ht.prototype.setSubtitle=function(it,ot){this.applyDescription("subtitle",it),this.layOutTitles(ot)},ht.prototype.setCaption=function(it,ot){this.applyDescription("caption",it),this.layOutTitles(ot)},ht.prototype.showResetZoom=function(){function it(){ot.zoomOut()}var ot=this,ct=$.lang,ft=ot.options.chart.zooming.resetButton,vt=ft.theme,xt=ft.relativeTo==="chart"||ft.relativeTo==="spacingBox"?null:"scrollablePlotBox";Q(this,"beforeShowResetZoom",null,function(){ot.resetZoomButton=ot.renderer.button(ct.resetZoom,null,null,it,vt).attr({align:ft.position.align,title:ct.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ft.position,!1,xt)}),Q(this,"afterShowResetZoom")},ht.prototype.zoomOut=function(){Q(this,"selection",{resetSelection:!0},this.zoom)},ht.prototype.zoom=function(it){var ot=this,ct=ot.pointer,ft=!1,vt;!it||it.resetSelection?(ot.axes.forEach(function(St){vt=St.zoom()}),ct.initiated=!1):it.xAxis.concat(it.yAxis).forEach(function(St){var Lt=St.axis;(ct[Lt.isXAxis?"zoomX":"zoomY"]&&K(ct.mouseDownX)&&K(ct.mouseDownY)&&ot.isInsidePlot(ct.mouseDownX-ot.plotLeft,ct.mouseDownY-ot.plotTop,{axis:Lt})||!K(ot.inverted?ct.mouseDownX:ct.mouseDownY))&&(vt=Lt.zoom(St.min,St.max),Lt.displayBtn&&(ft=!0))});var xt=ot.resetZoomButton;ft&&!xt?ot.showResetZoom():!ft&&Z(xt)&&(ot.resetZoomButton=xt.destroy()),vt&&ot.redraw(at(ot.options.chart.animation,it&&it.animation,100>ot.pointCount))},ht.prototype.pan=function(it,ot){var ct=this,ft=ct.hoverPoints;ot=typeof ot=="object"?ot:{enabled:ot,type:"x"};var vt=ct.options.chart;vt&&vt.panning&&(vt.panning=ot);var xt=ot.type,St;Q(this,"pan",{originalEvent:it},function(){ft&&ft.forEach(function(Tt){Tt.setState()});var Lt=ct.xAxis;xt==="xy"?Lt=Lt.concat(ct.yAxis):xt==="y"&&(Lt=ct.yAxis);var Kt={};Lt.forEach(function(Tt){if(Tt.options.panningEnabled&&!Tt.options.isInternal){var At=Tt.horiz,Wt=it[At?"chartX":"chartY"];At=At?"mouseDownX":"mouseDownY";var Bt=ct[At],te=Tt.minPointOffset||0,It=Tt.reversed&&!ct.inverted||!Tt.reversed&&ct.inverted?-1:1,Ie=Tt.getExtremes(),me=Tt.toValue(Bt-Wt,!0)+te*It,ke=Tt.toValue(Bt+Tt.len-Wt,!0)-(te*It||Tt.isXAxis&&Tt.pointRangePadding||0),Mr=ke<me;It=Tt.hasVerticalPanning(),Bt=Mr?ke:me,me=Mr?me:ke;var Be=Tt.panningState;!It||Tt.isXAxis||Be&&!Be.isDirty||Tt.series.forEach(function(Cn){var er=Cn.getProcessedData(!0);er=Cn.getExtremes(er.yData,!0),Be||(Be={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),G(er.dataMin)&&G(er.dataMax)&&(Be.startMin=Math.min(at(Cn.options.threshold,1/0),er.dataMin,Be.startMin),Be.startMax=Math.max(at(Cn.options.threshold,-1/0),er.dataMax,Be.startMax))}),It=Math.min(at(Be&&Be.startMin,Ie.dataMin),te?Ie.min:Tt.toValue(Tt.toPixels(Ie.min)-Tt.minPixelPadding)),ke=Math.max(at(Be&&Be.startMax,Ie.dataMax),te?Ie.max:Tt.toValue(Tt.toPixels(Ie.max)+Tt.minPixelPadding)),Tt.panningState=Be,Tt.isOrdinal||(te=It-Bt,0<te&&(me+=te,Bt=It),te=me-ke,0<te&&(me=ke,Bt-=te),Tt.series.length&&Bt!==Ie.min&&me!==Ie.max&&Bt>=It&&me<=ke&&(Tt.setExtremes(Bt,me,!1,!1,{trigger:"pan"}),!ct.resetZoomButton&&Bt!==It&&me!==ke&&xt.match("y")&&(ct.showResetZoom(),Tt.displayBtn=!1),St=!0),Kt[At]=Wt)}}),nt(Kt,function(Tt,At){ct[At]=Tt}),St&&ct.redraw(!1),z(ct.container,{cursor:"move"})})},ht}(),W(i.prototype,{callbacks:[],collectionsWithInit:{xAxis:[i.prototype.addAxis,[!0]],yAxis:[i.prototype.addAxis,[!1]],series:[i.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),i}),n(r,"Core/Legend/LegendSymbol.js",[r["Core/Utilities.js"]],function(i){var o=i.extend,a=i.merge,u=i.pick,c;return function(h){h.drawLineMarker=function(f){var v=this.legendItem=this.legendItem||{},g=this.options,b=f.symbolWidth,w=f.symbolHeight,T=w/2,P=this.chart.renderer,k=v.group;f=f.baseline-Math.round(.3*f.fontMetrics.b);var S={},C=g.marker,D=0;this.chart.styledMode||(S={"stroke-width":Math.min(g.lineWidth||0,24)},g.dashStyle?S.dashstyle=g.dashStyle:g.linecap!=="square"&&(S["stroke-linecap"]="round")),v.line=P.path().addClass("highcharts-graph").attr(S).add(k),S["stroke-linecap"]&&(D=Math.min(v.line.strokeWidth(),b)/2),v.line.attr({d:[["M",D,f],["L",b-D,f]]}),C&&C.enabled!==!1&&b&&(g=Math.min(u(C.radius,T),T),this.symbol.indexOf("url")===0&&(C=a(C,{width:w,height:w}),g=0),v.symbol=v=P.symbol(this.symbol,b/2-g,f-g,2*g,2*g,o({context:"legend"},C)).addClass("highcharts-point").add(k),v.isMarker=!0)},h.drawRectangle=function(f,v){v=v.legendItem||{};var g=f.symbolHeight,b=f.options.squareSymbol;v.symbol=this.chart.renderer.rect(b?(f.symbolWidth-g)/2:0,f.baseline-g+1,b?g:f.symbolWidth,g,u(f.options.symbolRadius,g/2)).addClass("highcharts-point").attr({zIndex:3}).add(v.group)}}(c||(c={})),c}),n(r,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){var i=this.series.chart.numberFormatter;return typeof this.y!="number"?"":i(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),n(r,"Core/Series/Series.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Point.js"],r["Core/Series/SeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g,b){var w=i.animObject,T=i.setAnimation,P=o.defaultOptions,k=a.registerEventOptions,S=u.hasTouch,C=u.svg,D=u.win,U=v.seriesTypes,$=b.arrayMax,H=b.arrayMin,F=b.clamp,M=b.cleanRecursively,I=b.correctFloat,A=b.defined,E=b.erase,x=b.error,m=b.extend,p=b.find,y=b.fireEvent,R=b.getNestedProperty,_=b.isArray,L=b.isNumber,z=b.isString,K=b.merge,X=b.objectEach,O=b.pick,j=b.removeEvent,W=b.splat,q=b.syncTimeout;return i=function(){function Q(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return Q.prototype.init=function(B,Y){y(this,"init",{options:Y});var G=this,Z=B.series;this.eventsToUnbind=[],G.chart=B,G.options=G.setOptions(Y),Y=G.options,G.linkedSeries=[],G.bindAxes(),m(G,{name:Y.name,state:"",visible:Y.visible!==!1,selected:Y.selected===!0}),k(this,Y);var J=Y.events;(J&&J.click||Y.point&&Y.point.events&&Y.point.events.click||Y.allowPointSelect)&&(B.runTrackerClick=!0),G.getColor(),G.getSymbol(),G.parallelArrays.forEach(function(nt){G[nt+"Data"]||(G[nt+"Data"]=[])}),G.isCartesian&&(B.hasCartesianSeries=!0);var et;Z.length&&(et=Z[Z.length-1]),G._i=O(et&&et._i,-1)+1,G.opacity=G.options.opacity,B.orderSeries(this.insert(Z)),Y.dataSorting&&Y.dataSorting.enabled?G.setDataSortingOptions():G.points||G.data||G.setData(Y.data,!1),y(this,"afterInit")},Q.prototype.is=function(B){return U[B]&&this instanceof U[B]},Q.prototype.insert=function(B){var Y=this.options.index,G;if(L(Y)){for(G=B.length;G--;)if(Y>=O(B[G].options.index,B[G]._i)){B.splice(G+1,0,this);break}G===-1&&B.unshift(this),G+=1}else B.push(this);return O(G,B.length-1)},Q.prototype.bindAxes=function(){var B=this,Y=B.options,G=B.chart,Z;y(this,"bindAxes",null,function(){(B.axisTypes||[]).forEach(function(J){var et=0;G[J].forEach(function(nt){Z=nt.options,(Y[J]===et&&!Z.isInternal||typeof Y[J]<"u"&&Y[J]===Z.id||typeof Y[J]>"u"&&Z.index===0)&&(B.insert(nt.series),B[J]=nt,nt.isDirty=!0),Z.isInternal||et++}),B[J]||B.optionalAxis===J||x(18,!0,G)})}),y(this,"afterBindAxes")},Q.prototype.updateParallelArrays=function(B,Y){var G=B.series,Z=arguments,J=L(Y)?function(et){var nt=et==="y"&&G.toYData?G.toYData(B):B[et];G[et+"Data"][Y]=nt}:function(et){Array.prototype[Y].apply(G[et+"Data"],Array.prototype.slice.call(Z,2))};G.parallelArrays.forEach(J)},Q.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},Q.prototype.autoIncrement=function(B){var Y=this.options,G=Y.pointIntervalUnit,Z=Y.relativeXValue,J=this.chart.time,et=this.xIncrement,nt;return et=O(et,Y.pointStart,0),this.pointInterval=nt=O(this.pointInterval,Y.pointInterval,1),Z&&L(B)&&(nt*=B),G&&(Y=new J.Date(et),G==="day"?J.set("Date",Y,J.get("Date",Y)+nt):G==="month"?J.set("Month",Y,J.get("Month",Y)+nt):G==="year"&&J.set("FullYear",Y,J.get("FullYear",Y)+nt),nt=Y.getTime()-et),Z&&L(B)?et+nt:(this.xIncrement=et+nt,et)},Q.prototype.setDataSortingOptions=function(){var B=this.options;m(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),A(B.pointRange)||(B.pointRange=1)},Q.prototype.setOptions=function(B){var Y=this.chart,G=Y.options,Z=G.plotOptions,J=Y.userOptions||{};B=K(B),Y=Y.styledMode;var et={plotOptions:Z,userOptions:B};y(this,"setOptions",et);var nt=et.plotOptions[this.type],at=J.plotOptions||{};return this.userOptions=et.userOptions,J=K(nt,Z.series,J.plotOptions&&J.plotOptions[this.type],B),this.tooltipOptions=K(P.tooltip,P.plotOptions.series&&P.plotOptions.series.tooltip,P.plotOptions[this.type].tooltip,G.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,B.tooltip),this.stickyTracking=O(B.stickyTracking,at[this.type]&&at[this.type].stickyTracking,at.series&&at.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:J.stickyTracking),nt.marker===null&&delete J.marker,this.zoneAxis=J.zoneAxis,Z=this.zones=(J.zones||[]).slice(),!J.negativeColor&&!J.negativeFillColor||J.zones||(G={value:J[this.zoneAxis+"Threshold"]||J.threshold||0,className:"highcharts-negative"},Y||(G.color=J.negativeColor,G.fillColor=J.negativeFillColor),Z.push(G)),Z.length&&A(Z[Z.length-1].value)&&Z.push(Y?{}:{color:this.color,fillColor:this.fillColor}),y(this,"afterSetOptions",{options:J}),J},Q.prototype.getName=function(){return O(this.options.name,"Series "+(this.index+1))},Q.prototype.getCyclic=function(B,Y,G){var Z=this.chart,J=this.userOptions,et=B+"Index",nt=B+"Counter",at=G?G.length:O(Z.options.chart[B+"Count"],Z[B+"Count"]);if(!Y){var st=O(J[et],J["_"+et]);A(st)||(Z.series.length||(Z[nt]=0),J["_"+et]=st=Z[nt]%at,Z[nt]+=1),G&&(Y=G[st])}typeof st<"u"&&(this[et]=st),this[B]=Y},Q.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||P.plotOptions[this.type].color,this.chart.options.colors)},Q.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},Q.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},Q.prototype.findPointIndex=function(B,Y){var G=B.id,Z=B.x,J=this.points,et=this.options.dataSorting,nt,at;if(G)et=this.chart.get(G),et instanceof h&&(nt=et);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(nt=function(mt){return!mt.touched&&mt.index===B.index},et&&et.matchByName?nt=function(mt){return!mt.touched&&mt.name===B.name}:this.options.relativeXValue&&(nt=function(mt){return!mt.touched&&mt.options.x===B.x}),nt=p(J,nt),!nt))return;if(nt){var st=nt&&nt.index;typeof st<"u"&&(at=!0)}return typeof st>"u"&&L(Z)&&(st=this.xData.indexOf(Z,Y)),st!==-1&&typeof st<"u"&&this.cropped&&(st=st>=this.cropStart?st-this.cropStart:st),!at&&L(st)&&J[st]&&J[st].touched&&(st=void 0),st},Q.prototype.updateData=function(B,Y){var G=this.options,Z=G.dataSorting,J=this.points,et=[],nt=this.requireSorting,at=B.length===J.length,st,mt,wt,yt=!0;if(this.xIncrement=null,B.forEach(function(gt,bt){var ht=A(gt)&&this.pointClass.prototype.optionsToObject.call({series:this},gt)||{},it=ht.x;ht.id||L(it)?(ht=this.findPointIndex(ht,wt),ht===-1||typeof ht>"u"?et.push(gt):J[ht]&&gt!==G.data[ht]?(J[ht].update(gt,!1,null,!1),J[ht].touched=!0,nt&&(wt=ht+1)):J[ht]&&(J[ht].touched=!0),(!at||bt!==ht||Z&&Z.enabled||this.hasDerivedData)&&(st=!0)):et.push(gt)},this),st)for(B=J.length;B--;)(mt=J[B])&&!mt.touched&&mt.remove&&mt.remove(!1,Y);else!at||Z&&Z.enabled?yt=!1:(B.forEach(function(gt,bt){gt!==J[bt].y&&J[bt].update&&J[bt].update(gt,!1,null,!1)}),et.length=0);return J.forEach(function(gt){gt&&(gt.touched=!1)}),yt?(et.forEach(function(gt){this.addPoint(gt,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=$(this.xData),this.autoIncrement()),!0):!1},Q.prototype.setData=function(B,Y,G,Z){Y===void 0&&(Y=!0);var J=this,et=J.points,nt=et&&et.length||0,at=J.options,st=J.chart,mt=at.dataSorting,wt=J.xAxis,yt=at.turboThreshold,gt=this.xData,bt=this.yData,ht=J.pointArrayMap;ht=ht&&ht.length;var it=at.keys,ot,ct=0,ft=1,vt=null;if(!st.options.chart.allowMutatingData){at.data&&delete J.options.data,J.userOptions.data&&delete J.userOptions.data;var xt=K(!0,B)}if(B=xt||B||[],xt=B.length,mt&&mt.enabled&&(B=this.sortData(B)),st.options.chart.allowMutatingData&&Z!==!1&&xt&&nt&&!J.cropped&&!J.hasGroupedData&&J.visible&&!J.boosted&&(ot=this.updateData(B,G)),!ot){if(J.xIncrement=null,J.colorCounter=0,this.parallelArrays.forEach(function(St){J[St+"Data"].length=0}),yt&&xt>yt)if(vt=J.getFirstValidPoint(B),L(vt))for(G=0;G<xt;G++)gt[G]=this.autoIncrement(),bt[G]=B[G];else if(_(vt))if(ht)if(vt.length===ht)for(G=0;G<xt;G++)gt[G]=this.autoIncrement(),bt[G]=B[G];else for(G=0;G<xt;G++)Z=B[G],gt[G]=Z[0],bt[G]=Z.slice(1,ht+1);else if(it&&(ct=it.indexOf("x"),ft=it.indexOf("y"),ct=0<=ct?ct:0,ft=0<=ft?ft:1),vt.length===1&&(ft=0),ct===ft)for(G=0;G<xt;G++)gt[G]=this.autoIncrement(),bt[G]=B[G][ft];else for(G=0;G<xt;G++)Z=B[G],gt[G]=Z[ct],bt[G]=Z[ft];else x(12,!1,st);else for(G=0;G<xt;G++)typeof B[G]<"u"&&(Z={series:J},J.pointClass.prototype.applyOptions.apply(Z,[B[G]]),J.updateParallelArrays(Z,G));for(bt&&z(bt[0])&&x(14,!0,st),J.data=[],J.options.data=J.userOptions.data=B,G=nt;G--;)et[G]&&et[G].destroy&&et[G].destroy();wt&&(wt.minRange=wt.userMinRange),J.isDirty=st.isDirtyBox=!0,J.isDirtyData=!!et,G=!1}at.legendType==="point"&&(this.processData(),this.generatePoints()),Y&&st.redraw(G)},Q.prototype.sortData=function(B){var Y=this,G=Y.options.dataSorting.sortKey||"y",Z=function(J,et){return A(et)&&J.pointClass.prototype.optionsToObject.call({series:J},et)||{}};return B.forEach(function(J,et){B[et]=Z(Y,J),B[et].index=et},this),B.concat().sort(function(J,et){return J=R(G,J),et=R(G,et),et<J?-1:et>J?1:0}).forEach(function(J,et){J.x=et},this),Y.linkedSeries&&Y.linkedSeries.forEach(function(J){var et=J.options,nt=et.data;et.dataSorting&&et.dataSorting.enabled||!nt||(nt.forEach(function(at,st){nt[st]=Z(J,at),B[st]&&(nt[st].x=B[st].x,nt[st].index=st)}),J.setData(nt,!1))}),B},Q.prototype.getProcessedData=function(B){var Y=this.xAxis,G=this.options,Z=G.cropThreshold,J=B||this.getExtremesFromAll||G.getExtremesFromAll,et=this.isCartesian;B=Y&&Y.val2lin,G=!(!Y||!Y.logarithmic);var nt=0,at=this.xData,st=this.yData,mt=this.requireSorting,wt=!1,yt=at.length;if(Y){wt=Y.getExtremes();var gt=wt.min,bt=wt.max;wt=!(!Y.categories||Y.names.length)}if(et&&this.sorted&&!J&&(!Z||yt>Z||this.forceCrop)){if(at[yt-1]<gt||at[0]>bt)at=[],st=[];else if(this.yData&&(at[0]<gt||at[yt-1]>bt)){var ht=this.cropData(this.xData,this.yData,gt,bt);at=ht.xData,st=ht.yData,nt=ht.start,ht=!0}}for(Z=at.length||1;--Z;)if(Y=G?B(at[Z])-B(at[Z-1]):at[Z]-at[Z-1],0<Y&&(typeof it>"u"||Y<it))var it=Y;else 0>Y&&mt&&!wt&&(x(15,!1,this.chart),mt=!1);return{xData:at,yData:st,cropped:ht,cropStart:nt,closestPointRange:it}},Q.prototype.processData=function(B){var Y=this.xAxis;if(this.isCartesian&&!this.isDirty&&!Y.isDirty&&!this.yAxis.isDirty&&!B)return!1;B=this.getProcessedData(),this.cropped=B.cropped,this.cropStart=B.cropStart,this.processedXData=B.xData,this.processedYData=B.yData,this.closestPointRange=this.basePointRange=B.closestPointRange,y(this,"afterProcessData")},Q.prototype.cropData=function(B,Y,G,Z,J){var et=B.length,nt,at=0,st=et;for(J=O(J,this.cropShoulder),nt=0;nt<et;nt++)if(B[nt]>=G){at=Math.max(0,nt-J);break}for(G=nt;G<et;G++)if(B[G]>Z){st=G+J;break}return{xData:B.slice(at,st),yData:Y.slice(at,st),start:at,end:st}},Q.prototype.generatePoints=function(){var B=this.options,Y=this.processedData||B.data,G=this.processedXData,Z=this.processedYData,J=this.pointClass,et=G.length,nt=this.cropStart||0,at=this.hasGroupedData,st=B.keys,mt=[];B=B.dataGrouping&&B.dataGrouping.groupAll?nt:0;var wt,yt,gt=this.data;if(!gt&&!at){var bt=[];bt.length=Y.length,gt=this.data=bt}for(st&&at&&(this.options.keys=!1),yt=0;yt<et;yt++){if(bt=nt+yt,at){var ht=new J().init(this,[G[yt]].concat(W(Z[yt])));ht.dataGroup=this.groupMap[B+yt],ht.dataGroup.options&&(ht.options=ht.dataGroup.options,m(ht,ht.dataGroup.options),delete ht.dataLabels)}else(ht=gt[bt])||typeof Y[bt]>"u"||(gt[bt]=ht=new J().init(this,Y[bt],G[yt]));ht&&(ht.index=at?B+yt:bt,mt[yt]=ht)}if(this.options.keys=st,gt&&(et!==(wt=gt.length)||at))for(yt=0;yt<wt;yt++)yt!==nt||at||(yt+=et),gt[yt]&&(gt[yt].destroyElements(),gt[yt].plotX=void 0);this.data=gt,this.points=mt,y(this,"afterGeneratePoints")},Q.prototype.getXExtremes=function(B){return{min:H(B),max:$(B)}},Q.prototype.getExtremes=function(B,Y){var G=this.xAxis,Z=this.yAxis,J=this.processedXData||this.xData,et=[],nt=this.requireSorting?this.cropShoulder:0;Z=Z?Z.positiveValuesOnly:!1;var at,st=0,mt=0,wt=0;B=B||this.stackedYData||this.processedYData||[];var yt=B.length;if(G){var gt=G.getExtremes();st=gt.min,mt=gt.max}for(at=0;at<yt;at++){var bt=J[at];gt=B[at];var ht=(L(gt)||_(gt))&&(gt.length||0<gt||!Z);if(bt=Y||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!G||(J[at+nt]||bt)>=st&&(J[at-nt]||bt)<=mt,ht&&bt)if(ht=gt.length)for(;ht--;)L(gt[ht])&&(et[wt++]=gt[ht]);else et[wt++]=gt}return B={activeYData:et,dataMin:H(et),dataMax:$(et)},y(this,"afterGetExtremes",{dataExtremes:B}),B},Q.prototype.applyExtremes=function(){var B=this.getExtremes();return this.dataMin=B.dataMin,this.dataMax=B.dataMax,B},Q.prototype.getFirstValidPoint=function(B){for(var Y=B.length,G=0,Z=null;Z===null&&G<Y;)Z=B[G],G++;return Z},Q.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var B=this.options,Y=B.stacking,G=this.xAxis,Z=G.categories,J=this.enabledDataSorting,et=this.yAxis,nt=this.points,at=nt.length,st=this.pointPlacementToXValue(),mt=!!st,wt=B.threshold,yt=B.startFromThreshold?wt:0,gt=this.zoneAxis||"y",bt,ht,it=Number.MAX_VALUE;for(bt=0;bt<at;bt++){var ot=nt[bt],ct=ot.x,ft=void 0,vt=void 0,xt=ot.y,St=ot.low,Lt=Y&&et.stacking&&et.stacking.stacks[(this.negStacks&&xt<(yt?0:wt)?"-":"")+this.stackKey];if((et.positiveValuesOnly&&!et.validatePositiveValue(xt)||G.positiveValuesOnly&&!G.validatePositiveValue(ct))&&(ot.isNull=!0),ot.plotX=ht=I(F(G.translate(ct,0,0,0,1,st,this.type==="flags"),-1e5,1e5)),Y&&this.visible&&Lt&&Lt[ct]){var Kt=this.getStackIndicator(Kt,ct,this.index);!ot.isNull&&Kt.key&&(ft=Lt[ct],vt=ft.points[Kt.key]),ft&&_(vt)&&(St=vt[0],xt=vt[1],St===yt&&Kt.key===Lt[ct].base&&(St=O(L(wt)?wt:et.min)),et.positiveValuesOnly&&A(St)&&0>=St&&(St=void 0),ot.total=ot.stackTotal=O(ft.total),ot.percentage=A(ot.y)&&ft.total?ot.y/ft.total*100:void 0,ot.stackY=xt,this.irregularWidths||ft.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))}if(ot.yBottom=A(St)?F(et.translate(St,0,1,0,1),-1e5,1e5):void 0,this.dataModify&&(xt=this.dataModify.modifyValue(xt,bt)),ot.plotY=void 0,L(xt)&&(ft=et.translate(xt,!1,!0,!1,!0),typeof ft<"u"&&(ot.plotY=F(ft,-1e5,1e5))),ot.isInside=this.isPointInside(ot),ot.clientX=mt?I(G.translate(ct,0,0,0,1,st)):ht,ot.negative=ot[gt]<(B[gt+"Threshold"]||wt||0),ot.category=O(Z&&Z[ot.x],ot.x),!ot.isNull&&ot.visible!==!1){typeof Tt<"u"&&(it=Math.min(it,Math.abs(ht-Tt)));var Tt=ht}ot.zone=this.zones.length?ot.getZone():void 0,!ot.graphic&&this.group&&J&&(ot.isNew=!0)}this.closestPointRangePx=it,y(this,"afterTranslate")},Q.prototype.getValidPoints=function(B,Y,G){var Z=this.chart;return(B||this.points||[]).filter(function(J){return Y&&!Z.isInsidePlot(J.plotX,J.plotY,{inverted:Z.inverted})?!1:J.visible!==!1&&(G||!J.isNull)})},Q.prototype.getClipBox=function(){var B=this.chart,Y=this.xAxis,G=this.yAxis,Z=K(B.clipBox);return Y&&Y.len!==B.plotSizeX&&(Z.width=Y.len),G&&G.len!==B.plotSizeY&&(Z.height=G.len),Z},Q.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},Q.prototype.setClip=function(){var B=this.chart,Y=this.group,G=this.markerGroup,Z=B.sharedClips;B=B.renderer;var J=this.getClipBox(),et=this.getSharedClipKey(),nt=Z[et];nt?nt.animate(J):Z[et]=nt=B.clipRect(J),Y&&Y.clip(this.options.clip===!1?void 0:nt),G&&G.clip()},Q.prototype.animate=function(B){var Y=this.chart,G=this.group,Z=this.markerGroup,J=Y.inverted,et=w(this.options.animation),nt=[this.getSharedClipKey(),et.duration,et.easing,et.defer].join(),at=Y.sharedClips[nt],st=Y.sharedClips[nt+"m"];if(B&&G)et=this.getClipBox(),at?at.attr("height",et.height):(et.width=0,J&&(et.x=Y.plotHeight),at=Y.renderer.clipRect(et),Y.sharedClips[nt]=at,st=Y.renderer.clipRect({x:-99,y:-99,width:J?Y.plotWidth+199:99,height:J?99:Y.plotHeight+199}),Y.sharedClips[nt+"m"]=st),G.clip(at),Z&&Z.clip(st);else if(at&&!at.hasClass("highcharts-animating")){Y=this.getClipBox();var mt=et.step;Z&&Z.element.childNodes.length&&(et.step=function(wt,yt){mt&&mt.apply(yt,arguments),yt.prop==="width"&&st&&st.element&&st.attr(J?"height":"width",wt+99)}),at.addClass("highcharts-animating").animate(Y,et)}},Q.prototype.afterAnimate=function(){var B=this;this.setClip(),X(this.chart.sharedClips,function(Y,G,Z){Y&&!B.chart.container.querySelector('[clip-path="url(#'.concat(Y.id,')"]'))&&(Y.destroy(),delete Z[G])}),this.finishedAnimating=!0,y(this,"afterAnimate")},Q.prototype.drawPoints=function(B){B===void 0&&(B=this.points);var Y=this.chart,G=Y.styledMode,Z=this.colorAxis,J=this.options.marker,et=this[this.specialGroup||"markerGroup"],nt=this.xAxis,at=O(J.enabled,!nt||nt.isRadial?!0:null,this.closestPointRangePx>=J.enabledThreshold*J.radius),st,mt;if(J.enabled!==!1||this._hasPointMarkers)for(st=0;st<B.length;st++){var wt=B[st],yt=(mt=wt.graphic)?"animate":"attr",gt=wt.marker||{},bt=!!wt.marker;if((at&&typeof gt.enabled>"u"||gt.enabled)&&!wt.isNull&&wt.visible!==!1){var ht=O(gt.symbol,this.symbol,"rect"),it=this.markerAttribs(wt,wt.selected&&"select");this.enabledDataSorting&&(wt.startXPos=nt.reversed?-(it.width||0):nt.width);var ot=wt.isInside!==!1;!mt&&ot&&(0<(it.width||0)||wt.hasImage)&&(wt.graphic=mt=Y.renderer.symbol(ht,it.x,it.y,it.width,it.height,bt?gt:J).add(et),this.enabledDataSorting&&Y.hasRendered&&(mt.attr({x:wt.startXPos}),yt="animate")),mt&&yt==="animate"&&mt[ot?"show":"hide"](ot).animate(it),mt&&(gt=this.pointAttribs(wt,G||!wt.selected?void 0:"select"),G?Z&&mt.css({fill:gt.fill}):mt[yt](gt)),mt&&mt.addClass(wt.getClassName(),!0)}else mt&&(wt.graphic=mt.destroy())}},Q.prototype.markerAttribs=function(B,Y){var G=this.options,Z=G.marker,J=B.marker||{},et=J.symbol||Z.symbol,nt={},at=O(J.radius,Z&&Z.radius);return Y&&(Z=Z.states[Y],Y=J.states&&J.states[Y],at=O(Y&&Y.radius,Z&&Z.radius,at&&at+(Z&&Z.radiusPlus||0))),B.hasImage=et&&et.indexOf("url")===0,B.hasImage&&(at=0),B=B.pos(),L(at)&&B&&(nt.x=B[0]-at,nt.y=B[1]-at,G.crisp&&(nt.x=Math.floor(nt.x))),at&&(nt.width=nt.height=2*at),nt},Q.prototype.pointAttribs=function(B,Y){var G=this.options.marker,Z=B&&B.options,J=Z&&Z.marker||{},et=Z&&Z.color,nt=B&&B.color,at=B&&B.zone&&B.zone.color,st=this.color;return B=O(J.lineWidth,G.lineWidth),Z=1,st=et||at||nt||st,et=J.fillColor||G.fillColor||st,nt=J.lineColor||G.lineColor||st,Y=Y||"normal",G=G.states[Y]||{},Y=J.states&&J.states[Y]||{},B=O(Y.lineWidth,G.lineWidth,B+O(Y.lineWidthPlus,G.lineWidthPlus,0)),et=Y.fillColor||G.fillColor||et,nt=Y.lineColor||G.lineColor||nt,Z=O(Y.opacity,G.opacity,Z),{stroke:nt,"stroke-width":B,fill:et,opacity:Z}},Q.prototype.destroy=function(B){var Y=this,G=Y.chart,Z=/AppleWebKit\/533/.test(D.navigator.userAgent),J=Y.data||[],et,nt,at,st;for(y(Y,"destroy",{keepEventsForUpdate:B}),this.removeEvents(B),(Y.axisTypes||[]).forEach(function(mt){(st=Y[mt])&&st.series&&(E(st.series,Y),st.isDirty=st.forceRedraw=!0)}),Y.legendItem&&Y.chart.legend.destroyItem(Y),nt=J.length;nt--;)(at=J[nt])&&at.destroy&&at.destroy();Y.clips&&Y.clips.forEach(function(mt){return mt.destroy()}),b.clearTimeout(Y.animationTimeout),X(Y,function(mt,wt){mt instanceof g&&!mt.survive&&(et=Z&&wt==="group"?"hide":"destroy",mt[et]())}),G.hoverSeries===Y&&(G.hoverSeries=void 0),E(G.series,Y),G.orderSeries(),X(Y,function(mt,wt){B&&wt==="hcEvents"||delete Y[wt]})},Q.prototype.applyZones=function(){var B=this,Y=this.chart,G=Y.renderer,Z=this.zones,J=this.clips||[],et=this.graph,nt=this.area,at=Math.max(Y.plotWidth,Y.plotHeight),st=this[(this.zoneAxis||"y")+"Axis"],mt=Y.inverted,wt,yt,gt,bt,ht,it,ot,ct,ft=!1;if(Z.length&&(et||nt)&&st&&typeof st.min<"u"){var vt=st.reversed,xt=st.horiz;et&&!this.showLine&&et.hide(),nt&&nt.hide();var St=st.getExtremes();Z.forEach(function(Lt,Kt){wt=vt?xt?Y.plotWidth:0:xt?0:st.toPixels(St.min)||0,wt=F(O(yt,wt),0,at),yt=F(Math.round(st.toPixels(O(Lt.value,St.max),!0)||0),0,at),ft&&(wt=yt=st.toPixels(St.max)),bt=Math.abs(wt-yt),ht=Math.min(wt,yt),it=Math.max(wt,yt),st.isXAxis?(gt={x:mt?it:ht,y:0,width:bt,height:at},xt||(gt.x=Y.plotHeight-gt.x)):(gt={x:0,y:mt?it:ht,width:at,height:bt},xt&&(gt.y=Y.plotWidth-gt.y)),mt&&G.isVML&&(gt=st.isXAxis?{x:0,y:vt?ht:it,height:gt.width,width:Y.chartWidth}:{x:gt.y-Y.plotLeft-Y.spacingBox.x,y:0,width:gt.height,height:Y.chartHeight}),J[Kt]?J[Kt].animate(gt):J[Kt]=G.clipRect(gt),ot=B["zone-area-"+Kt],ct=B["zone-graph-"+Kt],et&&ct&&ct.clip(J[Kt]),nt&&ot&&ot.clip(J[Kt]),ft=Lt.value>St.max,B.resetZones&&yt===0&&(yt=void 0)}),this.clips=J}else B.visible&&(et&&et.show(),nt&&nt.show())},Q.prototype.plotGroup=function(B,Y,G,Z,J){var et=this[B],nt=!et;return G={visibility:G,zIndex:Z||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(G.opacity=this.opacity),nt&&(this[B]=et=this.chart.renderer.g().add(J)),et.addClass("highcharts-"+Y+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(A(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(et.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),et.attr(G)[nt?"attr":"animate"](this.getPlotBox(Y)),et},Q.prototype.getPlotBox=function(B){var Y=this.xAxis,G=this.yAxis,Z=this.chart;return B=Z.inverted&&!Z.polar&&Y&&this.invertible!==!1&&B==="series",Z.inverted&&(Y=G,G=this.xAxis),{translateX:Y?Y.left:Z.plotLeft,translateY:G?G.top:Z.plotTop,rotation:B?90:0,rotationOriginX:B?(Y.len-G.len)/2:0,rotationOriginY:B?(Y.len+G.len)/2:0,scaleX:B?-1:1,scaleY:1}},Q.prototype.removeEvents=function(B){B||j(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(Y){Y()}),this.eventsToUnbind.length=0)},Q.prototype.render=function(){var B=this,Y=B.chart,G=B.options,Z=w(G.animation),J=B.visible?"inherit":"hidden",et=G.zIndex,nt=B.hasRendered,at=Y.seriesGroup;Y=!B.finishedAnimating&&Y.renderer.isSVG?Z.duration:0,y(this,"render"),B.plotGroup("group","series",J,et,at),B.markerGroup=B.plotGroup("markerGroup","markers",J,et,at),G.clip!==!1&&B.setClip(),B.animate&&Y&&B.animate(!0),B.drawGraph&&(B.drawGraph(),B.applyZones()),B.visible&&B.drawPoints(),B.drawDataLabels&&B.drawDataLabels(),B.redrawPoints&&B.redrawPoints(),B.drawTracker&&B.options.enableMouseTracking!==!1&&B.drawTracker(),B.animate&&Y&&B.animate(),nt||(Y&&Z.defer&&(Y+=Z.defer),B.animationTimeout=q(function(){B.afterAnimate()},Y||0)),B.isDirty=!1,B.hasRendered=!0,y(B,"afterRender")},Q.prototype.redraw=function(){var B=this.isDirty||this.isDirtyData;this.translate(),this.render(),B&&delete this.kdTree},Q.prototype.searchPoint=function(B,Y){var G=this.xAxis,Z=this.yAxis,J=this.chart.inverted;return this.searchKDTree({clientX:J?G.len-B.chartY+G.pos:B.chartX-G.pos,plotY:J?Z.len-B.chartX+Z.pos:B.chartY-Z.pos},Y,B)},Q.prototype.buildKDTree=function(B){function Y(J,et,nt){var at=J&&J.length;if(at){var st=G.kdAxisArray[et%nt];return J.sort(function(mt,wt){return mt[st]-wt[st]}),at=Math.floor(at/2),{point:J[at],left:Y(J.slice(0,at),et+1,nt),right:Y(J.slice(at+1),et+1,nt)}}}this.buildingKdTree=!0;var G=this,Z=-1<G.options.findNearestPointBy.indexOf("y")?2:1;delete G.kdTree,q(function(){G.kdTree=Y(G.getValidPoints(null,!G.directTouch),Z,Z),G.buildingKdTree=!1},G.options.kdNow||B&&B.type==="touchstart"?0:1)},Q.prototype.searchKDTree=function(B,Y,G){function Z(st,mt,wt,yt){var gt=mt.point,bt=J.kdAxisArray[wt%yt],ht=gt,it=A(st[et])&&A(gt[et])?Math.pow(st[et]-gt[et],2):null,ot=A(st[nt])&&A(gt[nt])?Math.pow(st[nt]-gt[nt],2):null;return ot=(it||0)+(ot||0),gt.dist=A(ot)?Math.sqrt(ot):Number.MAX_VALUE,gt.distX=A(it)?Math.sqrt(it):Number.MAX_VALUE,bt=st[bt]-gt[bt],ot=0>bt?"left":"right",it=0>bt?"right":"left",mt[ot]&&(ot=Z(st,mt[ot],wt+1,yt),ht=ot[at]<ht[at]?ot:gt),mt[it]&&Math.sqrt(bt*bt)<ht[at]&&(st=Z(st,mt[it],wt+1,yt),ht=st[at]<ht[at]?st:ht),ht}var J=this,et=this.kdAxisArray[0],nt=this.kdAxisArray[1],at=Y?"distX":"dist";if(Y=-1<J.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(G),this.kdTree)return Z(B,this.kdTree,Y,Y)},Q.prototype.pointPlacementToXValue=function(){var B=this.options,Y=B.pointRange,G=this.xAxis;return B=B.pointPlacement,B==="between"&&(B=G.reversed?-.5:.5),L(B)?B*(Y||G.pointRange):0},Q.prototype.isPointInside=function(B){var Y=this.chart,G=this.xAxis,Z=this.yAxis;return typeof B.plotY<"u"&&typeof B.plotX<"u"&&0<=B.plotY&&B.plotY<=(Z?Z.len:Y.plotHeight)&&0<=B.plotX&&B.plotX<=(G?G.len:Y.plotWidth)},Q.prototype.drawTracker=function(){var B=this,Y=B.options,G=Y.trackByArea,Z=[].concat(G?B.areaPath:B.graphPath),J=B.chart,et=J.pointer,nt=J.renderer,at=J.options.tooltip.snap,st=B.tracker,mt=function(yt){J.hoverSeries!==B&&B.onMouseOver()},wt="rgba(192,192,192,"+(C?1e-4:.002)+")";st?st.attr({d:Z}):B.graph&&(B.tracker=nt.path(Z).attr({visibility:B.visible?"inherit":"hidden",zIndex:2}).addClass(G?"highcharts-tracker-area":"highcharts-tracker-line").add(B.group),J.styledMode||B.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:wt,fill:G?wt:"none","stroke-width":B.graph.strokeWidth()+(G?0:2*at)}),[B.tracker,B.markerGroup,B.dataLabelsGroup].forEach(function(yt){yt&&(yt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(gt){et.onTrackerMouseOut(gt)}),Y.cursor&&!J.styledMode&&yt.css({cursor:Y.cursor}),S)&&yt.on("touchstart",mt)})),y(this,"afterDrawTracker")},Q.prototype.addPoint=function(B,Y,G,Z,J){var et=this.options,nt=this.data,at=this.chart,st=this.xAxis;st=st&&st.hasNames&&st.names;var mt=et.data,wt=this.xData,yt;Y=O(Y,!0);var gt={series:this};this.pointClass.prototype.applyOptions.apply(gt,[B]);var bt=gt.x,ht=wt.length;if(this.requireSorting&&bt<wt[ht-1])for(yt=!0;ht&&wt[ht-1]>bt;)ht--;this.updateParallelArrays(gt,"splice",ht,0,0),this.updateParallelArrays(gt,ht),st&&gt.name&&(st[bt]=gt.name),mt.splice(ht,0,B),(yt||this.processedData)&&(this.data.splice(ht,0,null),this.processData()),et.legendType==="point"&&this.generatePoints(),G&&(nt[0]&&nt[0].remove?nt[0].remove(!1):(nt.shift(),this.updateParallelArrays(gt,"shift"),mt.shift())),J!==!1&&y(this,"addPoint",{point:gt}),this.isDirtyData=this.isDirty=!0,Y&&at.redraw(Z)},Q.prototype.removePoint=function(B,Y,G){var Z=this,J=Z.data,et=J[B],nt=Z.points,at=Z.chart,st=function(){nt&&nt.length===J.length&&nt.splice(B,1),J.splice(B,1),Z.options.data.splice(B,1),Z.updateParallelArrays(et||{series:Z},"splice",B,1),et&&et.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,Y&&at.redraw()};T(G,at),Y=O(Y,!0),et?et.firePointEvent("remove",null,st):st()},Q.prototype.remove=function(B,Y,G,Z){function J(){et.destroy(Z),nt.isDirtyLegend=nt.isDirtyBox=!0,nt.linkSeries(),O(B,!0)&&nt.redraw(Y)}var et=this,nt=et.chart;G!==!1?y(et,"remove",null,J):J()},Q.prototype.update=function(B,Y){B=M(B,this.userOptions),y(this,"update",{options:B});var G=this,Z=G.chart,J=G.userOptions,et=G.initialType||G.type,nt=Z.options.plotOptions,at=U[et].prototype,st=G.finishedAnimating&&{animation:!1},mt={},wt=["eventOptions","navigatorSeries","baseSeries"],yt=B.type||J.type||Z.options.chart.type,gt=!(this.hasDerivedData||yt&&yt!==this.type||typeof B.pointStart<"u"||typeof B.pointInterval<"u"||typeof B.relativeXValue<"u"||B.joinBy||B.mapData||G.hasOptionChanged("dataGrouping")||G.hasOptionChanged("pointStart")||G.hasOptionChanged("pointInterval")||G.hasOptionChanged("pointIntervalUnit")||G.hasOptionChanged("keys"));if(yt=yt||et,gt&&(wt.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),B.visible!==!1&&wt.push("area","graph"),G.parallelArrays.forEach(function(ht){wt.push(ht+"Data")}),B.data&&(B.dataSorting&&m(G.options.dataSorting,B.dataSorting),this.setData(B.data,!1))),B=K(J,st,{index:typeof J.index>"u"?G.index:J.index,pointStart:O(nt&&nt.series&&nt.series.pointStart,J.pointStart,G.xData[0])},!gt&&{data:G.options.data},B),gt&&B.data&&(B.data=G.options.data),wt=["group","markerGroup","dataLabelsGroup","transformGroup","shadowGroup"].concat(wt),wt.forEach(function(ht){wt[ht]=G[ht],delete G[ht]}),nt=!1,U[yt]){if(nt=yt!==G.type,G.remove(!1,!1,!1,!0),nt)if(Object.setPrototypeOf)Object.setPrototypeOf(G,U[yt].prototype);else{st=Object.hasOwnProperty.call(G,"hcEvents")&&G.hcEvents;for(bt in at)G[bt]=void 0;m(G,U[yt].prototype),st?G.hcEvents=st:delete G.hcEvents}}else x(17,!0,Z,{missingModuleFor:yt});if(wt.forEach(function(ht){G[ht]=wt[ht]}),G.init(Z,B),gt&&this.points){if(B=G.options,B.visible===!1)mt.graphic=1,mt.dataLabel=1;else if(!G._hasPointLabels){at=B.marker;var bt=B.dataLabels;J=J.marker||{},!at||at.enabled!==!1&&J.symbol===at.symbol&&J.height===at.height&&J.width===at.width||(mt.graphic=1),bt&&bt.enabled===!1&&(mt.dataLabel=1)}for(J=0,at=this.points;J<at.length;J++)(bt=at[J])&&bt.series&&(bt.resolveColor(),Object.keys(mt).length&&bt.destroyElements(mt),B.showInLegend===!1&&bt.legendItem&&Z.legend.destroyItem(bt))}G.initialType=et,Z.linkSeries(),nt&&G.linkedSeries.length&&(G.isDirtyData=!0),y(this,"afterUpdate"),O(Y,!0)&&Z.redraw(gt?void 0:!1)},Q.prototype.setName=function(B){this.name=this.options.name=this.userOptions.name=B,this.chart.isDirtyLegend=!0},Q.prototype.hasOptionChanged=function(B){var Y=this.options[B],G=this.chart.options.plotOptions,Z=this.userOptions[B];return Z?Y!==Z:Y!==O(G&&G[this.type]&&G[this.type][B],G&&G.series&&G.series[B],Y)},Q.prototype.onMouseOver=function(){var B=this.chart,Y=B.hoverSeries;B.pointer.setHoverChartIndex(),Y&&Y!==this&&Y.onMouseOut(),this.options.events.mouseOver&&y(this,"mouseOver"),this.setState("hover"),B.hoverSeries=this},Q.prototype.onMouseOut=function(){var B=this.options,Y=this.chart,G=Y.tooltip,Z=Y.hoverPoint;Y.hoverSeries=null,Z&&Z.onMouseOut(),this&&B.events.mouseOut&&y(this,"mouseOut"),!G||this.stickyTracking||G.shared&&!this.noSharedTooltip||G.hide(),Y.series.forEach(function(J){J.setState("",!0)})},Q.prototype.setState=function(B,Y){var G=this,Z=G.options,J=G.graph,et=Z.inactiveOtherPoints,nt=Z.states,at=O(nt[B||"normal"]&&nt[B||"normal"].animation,G.chart.options.chart.animation),st=Z.lineWidth,mt=0,wt=Z.opacity;if(B=B||"",G.state!==B&&([G.group,G.markerGroup,G.dataLabelsGroup].forEach(function(yt){yt&&(G.state&&yt.removeClass("highcharts-series-"+G.state),B&&yt.addClass("highcharts-series-"+B))}),G.state=B,!G.chart.styledMode)){if(nt[B]&&nt[B].enabled===!1)return;if(B&&(st=nt[B].lineWidth||st+(nt[B].lineWidthPlus||0),wt=O(nt[B].opacity,wt)),J&&!J.dashstyle&&L(st))for(Z={"stroke-width":st},J.animate(Z,at);G["zone-graph-"+mt];)G["zone-graph-"+mt].animate(Z,at),mt+=1;et||[G.group,G.markerGroup,G.dataLabelsGroup,G.labelBySeries].forEach(function(yt){yt&&yt.animate({opacity:wt},at)})}Y&&et&&G.points&&G.setAllPointsToState(B||void 0)},Q.prototype.setAllPointsToState=function(B){this.points.forEach(function(Y){Y.setState&&Y.setState(B)})},Q.prototype.setVisible=function(B,Y){var G=this,Z=G.chart,J=Z.options.chart.ignoreHiddenSeries,et=G.visible,nt=(G.visible=B=G.options.visible=G.userOptions.visible=typeof B>"u"?!et:B)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){G[at]&&G[at][nt]()}),(Z.hoverSeries===G||(Z.hoverPoint&&Z.hoverPoint.series)===G)&&G.onMouseOut(),G.legendItem&&Z.legend.colorizeItem(G,B),G.isDirty=!0,G.options.stacking&&Z.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),G.linkedSeries.forEach(function(at){at.setVisible(B,!1)}),J&&(Z.isDirtyBox=!0),y(G,nt),Y!==!1&&Z.redraw()},Q.prototype.show=function(){this.setVisible(!0)},Q.prototype.hide=function(){this.setVisible(!1)},Q.prototype.select=function(B){this.selected=B=this.options.selected=typeof B>"u"?!this.selected:B,this.checkbox&&(this.checkbox.checked=B),y(this,B?"select":"unselect")},Q.prototype.shouldShowTooltip=function(B,Y,G){return G===void 0&&(G={}),G.series=this,G.visiblePlotOnly=!0,this.chart.isInsidePlot(B,Y,G)},Q.defaultOptions=f,Q.types=v.seriesTypes,Q.registerType=v.registerSeriesType,Q}(),m(i.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:c.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:h,requireSorting:!0,sorted:!0}),v.series=i,i}),n(r,"Extensions/ScrollablePlotArea.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/Series/Series.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){var f=i.stop,v=h.addEvent,g=h.createElement,b=h.defined,w=h.merge,T=h.pick;v(a,"afterSetChartSize",function(P){var k=this.options.chart.scrollablePlotArea,S=k&&k.minWidth;if(k=k&&k.minHeight,!this.renderer.forExport){if(S){if(this.scrollablePixelsX=S=Math.max(0,S-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.width=this.plotWidth+=S,this.inverted?this.clipBox.height+=S:this.clipBox.width+=S;var C={1:{name:"right",value:S}}}}else k&&(this.scrollablePixelsY=S=Math.max(0,k-this.chartHeight),b(S)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.height=this.plotHeight+=S,this.inverted?this.clipBox.width+=S:this.clipBox.height+=S,C={2:{name:"bottom",value:S}}));C&&!P.skipAxes&&this.axes.forEach(function(D){C[D.side]?D.getPlotLinePath=function(){var U=C[D.side].name,$=this[U];this[U]=$-C[D.side].value;var H=o.prototype.getPlotLinePath.apply(this,arguments);return this[U]=$,H}:(D.setAxisSize(),D.setAxisTranslation())})}}),v(a,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),a.prototype.setUpScrolling=function(){var P=this,k={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(k.overflowX="auto"),this.scrollablePixelsY&&(k.overflowY="auto"),this.scrollingParent=g("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=g("div",{className:"highcharts-scrolling"},k,this.scrollingParent);var S;v(this.scrollingContainer,"scroll",function(){P.pointer&&(delete P.pointer.chartPosition,P.hoverPoint&&(S=P.hoverPoint),P.pointer.runPointActions(void 0,S,!0))}),this.innerContainer=g("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},a.prototype.moveFixedElements=function(){var P=this.container,k=this.fixedRenderer,S=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),C;this.scrollablePixelsX&&!this.inverted?C=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?C=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(C=".highcharts-yaxis"),C&&S.push(""+C+":not(.highcharts-radial-axis)",""+C+"-labels:not(.highcharts-radial-axis-labels)"),S.forEach(function(D){[].forEach.call(P.querySelectorAll(D),function(U){(U.namespaceURI===k.SVG_NS?k.box:k.box.parentNode).appendChild(U),U.style.pointerEvents="auto"})})},a.prototype.applyFixed=function(){var P=!this.fixedDiv,k=this.options.chart,S=k.scrollablePlotArea,C=c.getRendererType();P?(this.fixedDiv=g("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(k.style&&k.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=k=new C(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=k.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":T(S.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),v(this,"afterShowResetZoom",this.moveFixedElements),v(this,"afterApplyDrilldown",this.moveFixedElements),v(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||P)&&(this.scrollableDirty=!1,this.moveFixedElements()),k=this.chartWidth+(this.scrollablePixelsX||0),C=this.chartHeight+(this.scrollablePixelsY||0),f(this.container),this.container.style.width=k+"px",this.container.style.height=C+"px",this.renderer.boxWrapper.attr({width:k,height:C,viewBox:[0,0,k,C].join(" ")}),this.chartBackground.attr({width:k,height:C}),this.scrollingContainer.style.height=this.chartHeight+"px",P&&(S.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*S.scrollPositionX),S.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*S.scrollPositionY)),C=this.axisOffset,P=this.plotTop-C[0]-1,S=this.plotLeft-C[3]-1,k=this.plotTop+this.plotHeight+C[2]+1,C=this.plotLeft+this.plotWidth+C[1]+1;var D=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),U=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);P=this.scrollablePixelsX?[["M",0,P],["L",this.plotLeft-1,P],["L",this.plotLeft-1,k],["L",0,k],["Z"],["M",D,P],["L",this.chartWidth,P],["L",this.chartWidth,k],["L",D,k],["Z"]]:this.scrollablePixelsY?[["M",S,0],["L",S,this.plotTop-1],["L",C,this.plotTop-1],["L",C,0],["Z"],["M",S,U],["L",S,this.chartHeight],["L",C,this.chartHeight],["L",C,U],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:P})},v(o,"afterInit",function(){this.chart.scrollableDirty=!0}),v(u,"show",function(){this.chart.scrollableDirty=!0})}),n(r,"Core/Axis/Stacking/StackItem.js",[r["Core/FormatUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.format,c=o.series,h=a.destroyObjectProperties,f=a.pick,v=a.isNumber;return i=function(){function g(b,w,T,P,k){var S=b.chart.inverted,C=b.reversed;this.axis=b,b=this.isNegative=!!T!=!!C,this.options=w=w||{},this.x=P,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=k,this.rightCliff=this.leftCliff=0,this.alignOptions={align:w.align||(S?b?"left":"right":"center"),verticalAlign:w.verticalAlign||(S?"middle":b?"bottom":"top"),y:w.y,x:w.x},this.textAlign=w.textAlign||(S?b?"right":"left":"center")}return g.prototype.destroy=function(){h(this,this.axis)},g.prototype.render=function(b){var w=this.axis.chart,T=this.options,P=T.format;P=P?u(P,this,w):T.formatter.call(this),this.label?this.label.attr({text:P,visibility:"hidden"}):(this.label=w.renderer.label(P,null,void 0,T.shape,void 0,void 0,T.useHTML,!1,"stack-labels"),P={r:T.borderRadius||0,text:P,padding:f(T.padding,5),visibility:"hidden"},w.styledMode||(P.fill=T.backgroundColor,P.stroke=T.borderColor,P["stroke-width"]=T.borderWidth,this.label.css(T.style||{})),this.label.attr(P),this.label.added||this.label.add(b)),this.label.labelrank=w.plotSizeY},g.prototype.setOffset=function(b,w,T,P,k,S){var C=this.alignOptions,D=this.axis,U=this.label,$=this.options,H=this.textAlign,F=D.chart;b=this.getStackBox({xOffset:b,width:w,boxBottom:T,boxTop:P,defaultX:k,xAxis:S}),k=C.verticalAlign,U&&b&&(w=U.getBBox(),T=U.padding,P=f($.overflow,"justify")==="justify",C.x=$.x||0,C.y=$.y||0,k=this.adjustStackPosition({labelBox:w,verticalAlign:k,textAlign:H}),H=k.x,k=k.y,b.x-=H,b.y-=k,U.align(C,!1,b),(H=F.isInsidePlot(U.alignAttr.x+C.x+H,U.alignAttr.y+C.y+k))||(P=!1),P&&c.prototype.justifyDataLabel.call(D,U,C,U.alignAttr,w,b),U.attr({x:U.alignAttr.x,y:U.alignAttr.y,rotation:$.rotation,rotationOriginX:w.width/2,rotationOriginY:w.height/2}),f(!P&&$.crop,!0)&&(H=v(U.x)&&v(U.y)&&F.isInsidePlot(U.x-T+U.width,U.y)&&F.isInsidePlot(U.x+T,U.y)),U[H?"show":"hide"]())},g.prototype.adjustStackPosition=function(b){var w=b.labelBox,T={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:w.width/2+w.width/2*T[b.textAlign],y:w.height/2*T[b.verticalAlign]}},g.prototype.getStackBox=function(b){var w=this.axis,T=w.chart,P=b.boxTop,k=b.defaultX,S=b.xOffset,C=b.width,D=b.boxBottom;return P=w.stacking.usePercentage?100:f(P,this.total,0),P=w.toPixels(P),b=f(k,(b.xAxis||T.xAxis[0]).toPixels(this.x))+S,w=w.toPixels(D||0),w=Math.abs(P-w),D=this.isNegative,T.inverted?{x:(D?P:P-w)-T.plotLeft,y:b-T.plotTop,width:w,height:C}:{x:b-T.plotLeft,y:(D?P-w:P)-T.plotTop,width:C,height:w}},g}(),i}),n(r,"Core/Axis/Stacking/StackingAxis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){function h(){var m=this,p=m.inverted;m.yAxis.forEach(function(y){y.stacking&&y.stacking.stacks&&y.hasVisibleSeries&&(y.stacking.oldStacks=y.stacking.stacks)}),m.series.forEach(function(y){var R=y.xAxis&&y.xAxis.options||{};!y.options.stacking||y.visible!==!0&&m.options.chart.ignoreHiddenSeries!==!1||(y.stackKey=[y.type,A(y.options.stack,""),p?R.top:R.left,p?R.height:R.width].join())})}function f(){var m=this.stacking;if(m){var p=m.stacks;I(p,function(y,R){$(y),p[R]=null}),m&&m.stackTotalGroup&&m.stackTotalGroup.destroy()}}function v(){this.coll!=="yAxis"||this.stacking||(this.stacking=new E(this))}function g(m,p,y,R){return!U(m)||m.x!==p||R&&m.stackKey!==R?m={x:p,index:0,key:R,stackKey:R}:m.index++,m.key=[y,p,m.index].join(),m}function b(){var m=this,p=m.stackKey,y=m.yAxis.stacking.stacks,R=m.processedXData,_=m[m.options.stacking+"Stacker"],L;_&&[p,"-"+p].forEach(function(z){for(var K=R.length,X,O;K--;)X=R[K],L=m.getStackIndicator(L,X,m.index,z),(O=(X=y[z]&&y[z][X])&&X.points[L.key])&&_.call(m,O,X,K)})}function w(m,p,y){p=p.total?100/p.total:0,m[0]=D(m[0]*p),m[1]=D(m[1]*p),this.stackedYData[y]=m[1]}function T(){var m=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?S.setStackedPoints.call(this,"group"):m&&I(m.stacks,function(p,y){y.slice(-5)==="group"&&(I(p,function(R){return R.destroy()}),delete m.stacks[y])})}function P(m){var p=this.chart,y=m||this.options.stacking;if(y&&(this.visible===!0||p.options.chart.ignoreHiddenSeries===!1)){var R=this.processedXData,_=this.processedYData,L=[],z=_.length,K=this.options,X=K.threshold,O=A(K.startFromThreshold&&X,0);K=K.stack,m=m?""+this.type+",".concat(y):this.stackKey;var j="-"+m,W=this.negStacks;p=y==="group"?p.yAxis[0]:this.yAxis;var q=p.stacking.stacks,Q=p.stacking.oldStacks,B,Y;for(p.stacking.stacksTouched+=1,Y=0;Y<z;Y++){var G=R[Y],Z=_[Y],J=this.getStackIndicator(J,G,this.index),et=J.key,nt=(B=W&&Z<(O?0:X))?j:m;q[nt]||(q[nt]={}),q[nt][G]||(Q[nt]&&Q[nt][G]?(q[nt][G]=Q[nt][G],q[nt][G].total=null):q[nt][G]=new u(p,p.options.stackLabels,!!B,G,K)),nt=q[nt][G],Z!==null?(nt.points[et]=nt.points[this.index]=[A(nt.cumulative,O)],U(nt.cumulative)||(nt.base=et),nt.touched=p.stacking.stacksTouched,0<J.index&&this.singleStacks===!1&&(nt.points[et][0]=nt.points[this.index+","+G+",0"][0])):nt.points[et]=nt.points[this.index]=null,y==="percent"?(B=B?m:j,W&&q[B]&&q[B][G]?(B=q[B][G],nt.total=B.total=Math.max(B.total,nt.total)+Math.abs(Z)||0):nt.total=D(nt.total+(Math.abs(Z)||0))):y==="group"?(F(Z)&&(Z=Z[0]),Z!==null&&(nt.total=(nt.total||0)+1)):nt.total=D(nt.total+(Z||0)),nt.cumulative=y==="group"?(nt.total||1)-1:A(nt.cumulative,O)+(Z||0),Z!==null&&(nt.points[et].push(nt.cumulative),L[Y]=nt.cumulative,nt.hasValidPoints=!0)}y==="percent"&&(p.stacking.usePercentage=!0),y!=="group"&&(this.stackedYData=L),p.stacking.oldStacks={}}}var k=i.getDeferredAnimation,S=a.series.prototype,C=c.addEvent,D=c.correctFloat,U=c.defined,$=c.destroyObjectProperties,H=c.fireEvent,F=c.isArray,M=c.isNumber,I=c.objectEach,A=c.pick,E=function(){function m(p){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=p}return m.prototype.buildStacks=function(){var p=this.axis,y=p.series,R=p.options.reversedStacks,_=y.length,L;for(this.usePercentage=!1,L=_;L--;){var z=y[R?L:_-L-1];z.setStackedPoints(),z.setGroupedPoints()}for(L=0;L<_;L++)y[L].modifyStacks();H(p,"afterBuildStacks")},m.prototype.cleanStacks=function(){if(this.oldStacks)var p=this.stacks=this.oldStacks;I(p,function(y){I(y,function(R){R.cumulative=R.total})})},m.prototype.resetStacks=function(){var p=this;I(this.stacks,function(y){I(y,function(R,_){M(R.touched)&&R.touched<p.stacksTouched?(R.destroy(),delete y[_]):(R.total=null,R.cumulative=null)})})},m.prototype.renderStackTotals=function(){var p=this.axis,y=p.chart,R=y.renderer,_=this.stacks;p=k(y,p.options.stackLabels&&p.options.stackLabels.animation||!1);var L=this.stackTotalGroup=this.stackTotalGroup||R.g("stack-labels").attr({zIndex:6,opacity:0}).add();L.translate(y.plotLeft,y.plotTop),I(_,function(z){I(z,function(K){K.render(L)})}),L.animate({opacity:1},p)},m}(),x;return function(m){var p=[];m.compose=function(y,R,_){p.indexOf(y)===-1&&(p.push(y),C(y,"init",v),C(y,"destroy",f)),p.indexOf(R)===-1&&(p.push(R),R.prototype.getStacks=h),p.indexOf(_)===-1&&(p.push(_),y=_.prototype,y.getStackIndicator=g,y.modifyStacks=b,y.percentStacker=w,y.setGroupedPoints=T,y.setStackedPoints=P)}}(x||(x={})),x}),n(r,"Series/Line/LineSeries.js",[r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var f=function(v,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var T in w)w.hasOwnProperty(T)&&(b[T]=w[T])},f(v,g)};return function(v,g){function b(){this.constructor=v}f(v,g),v.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),c=a.defined,h=a.merge;return a=function(f){function v(){var g=f!==null&&f.apply(this,arguments)||this;return g.data=void 0,g.options=void 0,g.points=void 0,g}return u(v,f),v.prototype.drawGraph=function(){var g=this,b=this.options,w=(this.gappedPath||this.getGraphPath).call(this),T=this.chart.styledMode,P=[["graph","highcharts-graph"]];T||P[0].push(b.lineColor||this.color||"#cccccc",b.dashStyle),P=g.getZonesGraphs(P),P.forEach(function(k,S){var C=k[0],D=g[C],U=D?"animate":"attr";D?(D.endX=g.preventGraphAnimation?null:w.xMap,D.animate({d:w})):w.length&&(g[C]=D=g.chart.renderer.path(w).addClass(k[1]).attr({zIndex:1}).add(g.group)),D&&!T&&(C={stroke:k[2],"stroke-width":b.lineWidth||0,fill:g.fillGraph&&g.color||"none"},k[3]?C.dashstyle=k[3]:b.linecap!=="square"&&(C["stroke-linecap"]=C["stroke-linejoin"]="round"),D[U](C).shadow(2>S&&b.shadow)),D&&(D.startX=w.xMap,D.isArea=w.isArea)})},v.prototype.getGraphPath=function(g,b,w){var T=this,P=T.options,k=[],S=[],C,D=P.step;g=g||T.points;var U=g.reversed;return U&&g.reverse(),(D={right:1,center:2}[D]||D&&3)&&U&&(D=4-D),g=this.getValidPoints(g,!1,!(P.connectNulls&&!b&&!w)),g.forEach(function($,H){var F=$.plotX,M=$.plotY,I=g[H-1];($.leftCliff||I&&I.rightCliff)&&!w&&(C=!0),$.isNull&&!c(b)&&0<H?C=!P.connectNulls:$.isNull&&!b?C=!0:(H===0||C?H=[["M",$.plotX,$.plotY]]:T.getPointSpline?H=[T.getPointSpline(g,$,H)]:D?(H=D===1?[["L",I.plotX,M]]:D===2?[["L",(I.plotX+F)/2,I.plotY],["L",(I.plotX+F)/2,M]]:[["L",F,I.plotY]],H.push(["L",F,M])):H=[["L",F,M]],S.push($.x),D&&(S.push($.x),D===2&&S.push($.x)),k.push.apply(k,H),C=!1)}),k.xMap=S,T.graphPath=k},v.prototype.getZonesGraphs=function(g){return this.zones.forEach(function(b,w){w=["zone-graph-"+w,"highcharts-graph highcharts-zone-graph-"+w+" "+(b.className||"")],this.chart.styledMode||w.push(b.color||this.color,b.dashStyle||this.options.dashStyle),g.push(w)},this),g},v.defaultOptions=h(i.defaultOptions,{}),v}(i),o.registerSeriesType("line",a),a}),n(r,"Series/Area/AreaSeries.js",[r["Core/Color/Color.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var w=function(T,P){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,S){k.__proto__=S}||function(k,S){for(var C in S)S.hasOwnProperty(C)&&(k[C]=S[C])},w(T,P)};return function(T,P){function k(){this.constructor=T}w(T,P),T.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}}(),h=i.parse,f=a.seriesTypes.line;i=u.extend;var v=u.merge,g=u.objectEach,b=u.pick;return u=function(w){function T(){var P=w!==null&&w.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return c(T,w),T.prototype.drawGraph=function(){this.areaPath=[],w.prototype.drawGraph.apply(this);var P=this,k=this.areaPath,S=this.options,C=[["area","highcharts-area",this.color,S.fillColor]];this.zones.forEach(function(D,U){C.push(["zone-area-"+U,"highcharts-area highcharts-zone-area-"+U+" "+D.className,D.color||P.color,D.fillColor||S.fillColor])}),C.forEach(function(D){var U=D[0],$={},H=P[U],F=H?"animate":"attr";H?(H.endX=P.preventGraphAnimation?null:k.xMap,H.animate({d:k})):($.zIndex=0,H=P[U]=P.chart.renderer.path(k).addClass(D[1]).add(P.group),H.isArea=!0),P.chart.styledMode||($.fill=b(D[3],h(D[2]).setOpacity(b(S.fillOpacity,.75)).get())),H[F]($),H.startX=k.xMap,H.shiftUnit=S.step?2:1})},T.prototype.getGraphPath=function(P){var k=f.prototype.getGraphPath,S=this.options,C=S.stacking,D=this.yAxis,U=[],$=[],H=this.index,F=D.stacking.stacks[this.stackKey],M=S.threshold,I=Math.round(D.getThreshold(S.threshold));S=b(S.connectNulls,C==="percent");var A=function(R,_,L){var z=P[R];R=C&&F[z.x].points[H];var K=z[L+"Null"]||0;if(L=z[L+"Cliff"]||0,z=!0,L||K){var X=(K?R[0]:R[1])+L,O=R[0]+L;z=!!K}else!C&&P[_]&&P[_].isNull&&(X=O=M);typeof X<"u"&&($.push({plotX:p,plotY:X===null?I:D.getThreshold(X),isNull:z,isCliff:!0}),U.push({plotX:p,plotY:O===null?I:D.getThreshold(O),doCurve:!1}))};P=P||this.points,C&&(P=this.getStackPoints(P));for(var E=0,x=P.length;E<x;++E){C||(P[E].leftCliff=P[E].rightCliff=P[E].leftNull=P[E].rightNull=void 0);var m=P[E].isNull,p=b(P[E].rectPlotX,P[E].plotX),y=C?b(P[E].yBottom,I):I;(!m||S)&&(S||A(E,E-1,"left"),m&&!C&&S||($.push(P[E]),U.push({x:E,plotX:p,plotY:y})),S||A(E,E+1,"right"))}return A=k.call(this,$,!0,!0),U.reversed=!0,m=k.call(this,U,!0,!0),(y=m[0])&&y[0]==="M"&&(m[0]=["L",y[1],y[2]]),m=A.concat(m),m.length&&m.push(["Z"]),k=k.call(this,$,!1,S),m.xMap=A.xMap,this.areaPath=m,k},T.prototype.getStackPoints=function(P){var k=this,S=[],C=[],D=this.xAxis,U=this.yAxis,$=U.stacking.stacks[this.stackKey],H={},F=U.series,M=F.length,I=U.options.reversedStacks?1:-1,A=F.indexOf(k);if(P=P||this.points,this.options.stacking){for(var E=0;E<P.length;E++)P[E].leftNull=P[E].rightNull=void 0,H[P[E].x]=P[E];g($,function(m,p){m.total!==null&&C.push(p)}),C.sort(function(m,p){return m-p});var x=F.map(function(m){return m.visible});C.forEach(function(m,p){var y=0,R,_;if(H[m]&&!H[m].isNull)S.push(H[m]),[-1,1].forEach(function(z){var K=z===1?"rightNull":"leftNull",X=$[C[p+z]],O=0;if(X)for(var j=A;0<=j&&j<M;){var W=F[j].index;R=X.points[W],R||(W===k.index?H[m][K]=!0:x[j]&&(_=$[m].points[W])&&(O-=_[1]-_[0])),j+=I}H[m][z===1?"rightCliff":"leftCliff"]=O});else{for(var L=A;0<=L&&L<M;){if(R=$[m].points[F[L].index]){y=R[1];break}L+=I}y=b(y,0),y=U.translate(y,0,1,0,1),S.push({isNull:!0,plotX:D.translate(m,0,0,0,1),x:m,plotY:y,yBottom:y})}})}return S},T.defaultOptions=v(f.defaultOptions,{threshold:0}),T}(f),i(u.prototype,{singleStacks:!1,drawLegendSymbol:o.drawRectangle}),a.registerSeriesType("area",u),u}),n(r,"Series/Spline/SplineSeries.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o){var a=this&&this.__extends||function(){var f=function(v,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var T in w)w.hasOwnProperty(T)&&(b[T]=w[T])},f(v,g)};return function(v,g){function b(){this.constructor=v}f(v,g),v.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),u=i.seriesTypes.line,c=o.merge,h=o.pick;return o=function(f){function v(){var g=f!==null&&f.apply(this,arguments)||this;return g.data=void 0,g.options=void 0,g.points=void 0,g}return a(v,f),v.prototype.getPointSpline=function(g,b,w){var T=b.plotX||0,P=b.plotY||0,k=g[w-1];if(w=g[w+1],k&&!k.isNull&&k.doCurve!==!1&&!b.isCliff&&w&&!w.isNull&&w.doCurve!==!1&&!b.isCliff){g=k.plotY||0;var S=w.plotX||0;w=w.plotY||0;var C=0,D=(1.5*T+(k.plotX||0))/2.5,U=(1.5*P+g)/2.5;S=(1.5*T+S)/2.5;var $=(1.5*P+w)/2.5;S!==D&&(C=($-U)*(S-T)/(S-D)+P-$),U+=C,$+=C,U>g&&U>P?(U=Math.max(g,P),$=2*P-U):U<g&&U<P&&(U=Math.min(g,P),$=2*P-U),$>w&&$>P?($=Math.max(w,P),U=2*P-$):$<w&&$<P&&($=Math.min(w,P),U=2*P-$),b.rightContX=S,b.rightContY=$}return b=["C",h(k.rightContX,k.plotX,0),h(k.rightContY,k.plotY,0),h(D,T,0),h(U,P,0),T,P],k.rightContX=k.rightContY=void 0,b},v.defaultOptions=c(u.defaultOptions),v}(u),i.registerSeriesType("spline",o),o}),n(r,"Series/AreaSpline/AreaSplineSeries.js",[r["Series/Spline/SplineSeries.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var b=function(w,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var S in k)k.hasOwnProperty(S)&&(P[S]=k[S])},b(w,T)};return function(w,T){function P(){this.constructor=w}b(w,T),w.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}(),h=a.seriesTypes,f=h.area;h=h.area.prototype;var v=u.extend,g=u.merge;return u=function(b){function w(){var T=b!==null&&b.apply(this,arguments)||this;return T.data=void 0,T.points=void 0,T.options=void 0,T}return c(w,b),w.defaultOptions=g(i.defaultOptions,f.defaultOptions),w}(i),v(u.prototype,{getGraphPath:h.getGraphPath,getStackPoints:h.getStackPoints,drawGraph:h.drawGraph,drawLegendSymbol:o.drawRectangle}),a.registerSeriesType("areaspline",u),u}),n(r,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),n(r,"Series/Column/ColumnSeries.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Series/Column/ColumnSeriesDefaults.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v){var g=this&&this.__extends||function(){var M=function(I,A){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var m in x)x.hasOwnProperty(m)&&(E[m]=x[m])},M(I,A)};return function(I,A){function E(){this.constructor=I}M(I,A),I.prototype=A===null?Object.create(A):(E.prototype=A.prototype,new E)}}(),b=i.animObject,w=o.parse,T=u.hasTouch;i=u.noop;var P=v.clamp,k=v.defined,S=v.extend,C=v.fireEvent,D=v.isArray,U=v.isNumber,$=v.merge,H=v.pick,F=v.objectEach;return v=function(M){function I(){var A=M!==null&&M.apply(this,arguments)||this;return A.borderWidth=void 0,A.data=void 0,A.group=void 0,A.options=void 0,A.points=void 0,A}return g(I,M),I.prototype.animate=function(A){var E=this,x=this.yAxis,m=E.options,p=this.chart.inverted,y={},R=p?"translateX":"translateY";if(A)y.scaleY=.001,A=P(x.toPixels(m.threshold),x.pos,x.pos+x.len),p?y.translateX=A-x.len:y.translateY=A,E.clipBox&&E.setClip(),E.group.attr(y);else{var _=Number(E.group.attr(R));E.group.animate({scaleY:1},S(b(E.options.animation),{step:function(L,z){E.group&&(y[R]=_+z.pos*(x.pos-_),E.group.attr(y))}}))}},I.prototype.init=function(A,E){M.prototype.init.apply(this,arguments);var x=this;A=x.chart,A.hasRendered&&A.series.forEach(function(m){m.type===x.type&&(m.isDirty=!0)})},I.prototype.getColumnMetrics=function(){var A=this,E=A.options,x=A.xAxis,m=A.yAxis,p=x.options.reversedStacks;p=x.reversed&&!p||!x.reversed&&p;var y={},R,_=0;E.grouping===!1?_=1:A.chart.series.forEach(function(X){var O=X.yAxis,j=X.options;if(X.type===A.type&&(X.visible||!A.chart.options.chart.ignoreHiddenSeries)&&m.len===O.len&&m.pos===O.pos){if(j.stacking&&j.stacking!=="group"){R=X.stackKey,typeof y[R]>"u"&&(y[R]=_++);var W=y[R]}else j.grouping!==!1&&(W=_++);X.columnIndex=W}});var L=Math.min(Math.abs(x.transA)*(x.ordinal&&x.ordinal.slope||E.pointRange||x.closestPointRange||x.tickInterval||1),x.len),z=L*E.groupPadding,K=(L-2*z)/(_||1);return E=Math.min(E.maxPointWidth||x.len,H(E.pointWidth,K*(1-2*E.pointPadding))),A.columnMetrics={width:E,offset:(K-E)/2+(z+((A.columnIndex||0)+(p?1:0))*K-L/2)*(p?-1:1),paddedWidth:K,columnCount:_},A.columnMetrics},I.prototype.crispCol=function(A,E,x,m){var p=this.chart,y=this.borderWidth,R=-(y%2?.5:0);return y=y%2?.5:1,p.inverted&&p.renderer.isVML&&(y+=1),this.options.crisp&&(x=Math.round(A+x)+R,A=Math.round(A)+R,x-=A),m=Math.round(E+m)+y,R=.5>=Math.abs(E)&&.5<m,E=Math.round(E)+y,m-=E,R&&m&&(--E,m+=1),{x:A,y:E,width:x,height:m}},I.prototype.adjustForMissingColumns=function(A,E,x,m){var p=this,y=this.options.stacking;if(!x.isNull&&1<m.columnCount){var R=this.yAxis.options.reversedStacks,_=0,L=R?0:-m.columnCount;F(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(z){if(typeof x.x=="number"){var K=z[x.x.toString()];K&&(z=K.points[p.index],y?(z&&(_=L),K.hasValidPoints&&(R?L++:L--)):D(z)&&(z=Object.keys(K.points).filter(function(X){return!X.match(",")&&K.points[X]&&1<K.points[X].length}).map(parseFloat).sort(function(X,O){return O-X}),_=z.indexOf(p.index),L=z.length))}}),A=(x.plotX||0)+((L-1)*m.paddedWidth+E)/2-E-_*m.paddedWidth}return A},I.prototype.translate=function(){var A=this,E=A.chart,x=A.options,m=A.dense=2>A.closestPointRange*A.xAxis.transA;m=A.borderWidth=H(x.borderWidth,m?0:1);var p=A.xAxis,y=A.yAxis,R=x.threshold,_=A.translatedThreshold=y.getThreshold(R),L=H(x.minPointLength,5),z=A.getColumnMetrics(),K=z.width,X=A.pointXOffset=z.offset,O=A.dataMin,j=A.dataMax,W=A.barW=Math.max(K,1+2*m);E.inverted&&(_-=.5),x.pointPadding&&(W=Math.ceil(W)),h.prototype.translate.apply(A),A.points.forEach(function(q){var Q=H(q.yBottom,_),B=999+Math.abs(Q),Y=q.plotX||0;B=P(q.plotY,-B,y.len+B);var G=Math.min(B,Q),Z=Math.max(B,Q)-G,J=K,et=Y+X,nt=W;L&&Math.abs(Z)<L&&(Z=L,Y=!y.reversed&&!q.negative||y.reversed&&q.negative,U(R)&&U(j)&&q.y===R&&j<=R&&(y.min||0)<R&&(O!==j||(y.max||0)<=R)&&(Y=!Y),G=Math.abs(G-_)>L?Q-L:_-(Y?L:0)),k(q.options.pointWidth)&&(J=nt=Math.ceil(q.options.pointWidth),et-=Math.round((J-K)/2)),x.centerInCategory&&(et=A.adjustForMissingColumns(et,J,q,z)),q.barX=et,q.pointWidth=J,q.tooltipPos=E.inverted?[P(y.len+y.pos-E.plotLeft-B,y.pos-E.plotLeft,y.len+y.pos-E.plotLeft),p.len+p.pos-E.plotTop-et-nt/2,Z]:[p.left-E.plotLeft+et+nt/2,P(B+y.pos-E.plotTop,y.pos-E.plotTop,y.len+y.pos-E.plotTop),Z],q.shapeType=A.pointClass.prototype.shapeType||"rect",q.shapeArgs=A.crispCol.apply(A,q.isNull?[et,_,nt,0]:[et,G,nt,Z])})},I.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},I.prototype.pointAttribs=function(A,E){var x=this.options,m=this.pointAttrToOptions||{},p=m.stroke||"borderColor",y=m["stroke-width"]||"borderWidth",R=A&&A.color||this.color,_=A&&A[p]||x[p]||R;m=A&&A.options.dashStyle||x.dashStyle;var L=A&&A[y]||x[y]||this[y]||0,z=H(A&&A.opacity,x.opacity,1);if(A&&this.zones.length){var K=A.getZone();R=A.options.color||K&&(K.color||A.nonZonedColor)||this.color,K&&(_=K.borderColor||_,m=K.dashStyle||m,L=K.borderWidth||L)}return E&&A&&(A=$(x.states[E],A.options.states&&A.options.states[E]||{}),E=A.brightness,R=A.color||typeof E<"u"&&w(R).brighten(A.brightness).get()||R,_=A[p]||_,L=A[y]||L,m=A.dashStyle||m,z=H(A.opacity,z)),p={fill:R,stroke:_,"stroke-width":L,opacity:z},m&&(p.dashstyle=m),p},I.prototype.drawPoints=function(A){A===void 0&&(A=this.points);var E=this,x=this.chart,m=E.options,p=x.renderer,y=m.animationLimit||250,R;A.forEach(function(_){var L=_.graphic,z=!!L,K=L&&x.pointCount<y?"animate":"attr";U(_.plotY)&&_.y!==null?(R=_.shapeArgs,L&&_.hasNewShapeType()&&(L=L.destroy()),E.enabledDataSorting&&(_.startXPos=E.xAxis.reversed?-(R&&R.width||0):E.xAxis.width),L||(_.graphic=L=p[_.shapeType](R).add(_.group||E.group))&&E.enabledDataSorting&&x.hasRendered&&x.pointCount<y&&(L.attr({x:_.startXPos}),z=!0,K="animate"),L&&z&&L[K]($(R)),m.borderRadius&&L[K]({r:m.borderRadius}),x.styledMode||L[K](E.pointAttribs(_,_.selected&&"select")).shadow(_.allowShadow!==!1&&m.shadow,null,m.stacking&&!m.borderRadius),L&&(L.addClass(_.getClassName(),!0),L.attr({visibility:_.visible?"inherit":"hidden"}))):L&&(_.graphic=L.destroy())})},I.prototype.drawTracker=function(A){A===void 0&&(A=this.points);var E=this,x=E.chart,m=x.pointer,p=function(R){var _=m.getPointFromEvent(R);typeof _<"u"&&(m.isDirectTouch=!0,_.onMouseOver(R))},y;A.forEach(function(R){y=D(R.dataLabels)?R.dataLabels:R.dataLabel?[R.dataLabel]:[],R.graphic&&(R.graphic.element.point=R),y.forEach(function(_){_.div?_.div.point=R:_.element.point=R})}),E._hasTracking||(E.trackerGroups.forEach(function(R){E[R]&&(E[R].addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(_){m.onTrackerMouseOut(_)}),T&&E[R].on("touchstart",p),!x.styledMode&&E.options.cursor&&E[R].css({cursor:E.options.cursor}))}),E._hasTracking=!0),C(this,"afterDrawTracker")},I.prototype.remove=function(){var A=this,E=A.chart;E.hasRendered&&E.series.forEach(function(x){x.type===A.type&&(x.isDirty=!0)}),h.prototype.remove.apply(A,arguments)},I.defaultOptions=$(h.defaultOptions,a),I}(h),S(v.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:c.drawRectangle,getSymbol:i,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),f.registerSeriesType("column",v),v}),n(r,"Core/Series/DataLabel.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.getDeferredAnimation,c=o.format,h=a.defined,f=a.extend,v=a.fireEvent,g=a.isArray,b=a.isString,w=a.merge,T=a.objectEach,P=a.pick,k=a.splat,S;return function(C){function D(A,E,x,m,p){var y=this,R=this.chart,_=this.isCartesian&&R.inverted,L=this.enabledDataSorting,z=A.plotX,K=A.plotY,X=x.rotation,O=x.align,j=h(z)&&h(K)&&R.isInsidePlot(z,Math.round(K),{inverted:_,paneCoordinates:!0,series:y});K=function(B){L&&y.xAxis&&!W&&y.setDataLabelStartPos(A,E,p,j,B)};var W=P(x.overflow,L?"none":"justify")==="justify";if(z=this.visible&&A.visible!==!1&&h(z)&&(A.series.forceDL||L&&!W||j||P(x.inside,!!this.options.stacking)&&m&&R.isInsidePlot(z,_?m.x+1:m.y+m.height-1,{inverted:_,paneCoordinates:!0,series:y})),_=A.pos(),z&&_){X&&E.attr({align:O}),O=E.getBBox(!0);var q=[0,0],Q=R.renderer.fontMetrics(R.styledMode?void 0:x.style.fontSize,E).b;m=f({x:_[0],y:Math.round(_[1]),width:0,height:0},m),f(x,{width:O.width,height:O.height}),X?(W=!1,q=R.renderer.rotCorr(Q,X),Q={x:m.x+(x.x||0)+m.width/2+q.x,y:m.y+(x.y||0)+{top:0,middle:.5,bottom:1}[x.verticalAlign]*m.height},q=[O.x-Number(E.attr("x")),O.y-Number(E.attr("y"))],K(Q),E[p?"attr":"animate"](Q)):(K(m),E.align(x,void 0,m),Q=E.alignAttr),W&&0<=m.height?this.justifyDataLabel(E,x,Q,O,m,p):P(x.crop,!0)&&(m=Q.x,K=Q.y,m+=q[0],K+=q[1],z=R.isInsidePlot(m,K,{paneCoordinates:!0,series:y})&&R.isInsidePlot(m+O.width,K+O.height,{paneCoordinates:!0,series:y})),x.shape&&!X&&E[p?"attr":"animate"]({anchorX:_[0],anchorY:_[1]})}p&&L&&(E.placed=!1),z||L&&!W?E.show():(E.hide(),E.placed=!1)}function U(A,E){var x=E.filter;return x?(E=x.operator,A=A[x.property],x=x.value,E===">"&&A>x||E==="<"&&A<x||E===">="&&A>=x||E==="<="&&A<=x||E==="=="&&A==x||E==="==="&&A===x):!0}function $(A){A===void 0&&(A=this.points);var E=this,x=E.chart,m=E.options,p=E.hasRendered||0,y=x.renderer,R=x.options.chart,_=R.backgroundColor;R=R.plotBackgroundColor;var L=y.getContrast(b(R)&&R||b(_)&&_||"#000000"),z=m.dataLabels,K;if(_=z.animation,_=z.defer?u(x,_,E):{defer:0,duration:0},z=F(F(x.options.plotOptions&&x.options.plotOptions.series&&x.options.plotOptions.series.dataLabels,x.options.plotOptions&&x.options.plotOptions[E.type]&&x.options.plotOptions[E.type].dataLabels),z),v(this,"drawDataLabels"),g(z)||z.enabled||E._hasPointLabels){var X=E.plotGroup("dataLabelsGroup","data-labels",p?"inherit":"hidden",z.zIndex||6);X.attr({opacity:+p}),!p&&(p=E.dataLabelsGroup)&&(E.visible&&X.show(),p[m.animation?"animate":"attr"]({opacity:1},_)),A.forEach(function(O){K=k(F(z,O.dlOptions||O.options&&O.options.dataLabels)),K.forEach(function(j,W){var q=j.enabled&&(!O.isNull||O.dataLabelOnNull)&&U(O,j),Q=O.connectors?O.connectors[W]:O.connector,B=O.dataLabels?O.dataLabels[W]:O.dataLabel,Y=!B,G=P(j.distance,O.labelDistance);if(q){var Z=O.getLabelConfig(),J=P(j[O.formatPrefix+"Format"],j.format);Z=h(J)?c(J,Z,x):(j[O.formatPrefix+"Formatter"]||j.formatter).call(Z,j),J=j.style;var et=j.rotation;x.styledMode||(J.color=P(j.color,J.color,E.color,"#000000"),J.color==="contrast"?(O.contrastColor=y.getContrast(O.color||E.color),J.color=!h(G)&&j.inside||0>G||m.stacking?O.contrastColor:L):delete O.contrastColor,m.cursor&&(J.cursor=m.cursor));var nt={r:j.borderRadius||0,rotation:et,padding:j.padding,zIndex:1};if(!x.styledMode){G=j.backgroundColor;var at=j.borderColor;nt.fill=G==="auto"?O.color:G,nt.stroke=at==="auto"?O.color:at,nt["stroke-width"]=j.borderWidth}T(nt,function(st,mt){typeof st>"u"&&delete nt[mt]})}!B||q&&h(Z)&&!!B.div==!!j.useHTML&&(B.rotation&&j.rotation||B.rotation===j.rotation)||(Y=!0,O.dataLabel=B=O.dataLabel&&O.dataLabel.destroy(),O.dataLabels&&(O.dataLabels.length===1?delete O.dataLabels:delete O.dataLabels[W]),W||delete O.dataLabel,Q&&(O.connector=O.connector.destroy(),O.connectors&&(O.connectors.length===1?delete O.connectors:delete O.connectors[W]))),q&&h(Z)?(B?nt.text=Z:(O.dataLabels=O.dataLabels||[],B=O.dataLabels[W]=et?y.text(Z,0,0,j.useHTML).addClass("highcharts-data-label"):y.label(Z,0,0,j.shape,null,null,j.useHTML,null,"data-label"),W||(O.dataLabel=B),B.addClass(" highcharts-data-label-color-"+O.colorIndex+" "+(j.className||"")+(j.useHTML?" highcharts-tracker":""))),B.options=j,B.attr(nt),x.styledMode||B.css(J).shadow(j.shadow),(W=j[O.formatPrefix+"TextPath"]||j.textPath)&&!j.useHTML&&(B.setTextPath(O.getDataLabelPath&&O.getDataLabelPath(B)||O.graphic,W),O.dataLabelPath&&!W.enabled&&(O.dataLabelPath=O.dataLabelPath.destroy())),B.added||B.add(X),E.alignDataLabel(O,B,j,null,Y)):B&&B.hide()})})}v(this,"afterDrawDataLabels")}function H(A,E,x,m,p,y){var R=this.chart,_=E.align,L=E.verticalAlign,z=A.box?0:A.padding||0,K=E.x;K=K===void 0?0:K;var X=E.y;X=X===void 0?0:X;var O=(x.x||0)+z;if(0>O){_==="right"&&0<=K?(E.align="left",E.inside=!0):K-=O;var j=!0}return O=(x.x||0)+m.width-z,O>R.plotWidth&&(_==="left"&&0>=K?(E.align="right",E.inside=!0):K+=R.plotWidth-O,j=!0),O=x.y+z,0>O&&(L==="bottom"&&0<=X?(E.verticalAlign="top",E.inside=!0):X-=O,j=!0),O=(x.y||0)+m.height-z,O>R.plotHeight&&(L==="top"&&0>=X?(E.verticalAlign="bottom",E.inside=!0):X+=R.plotHeight-O,j=!0),j&&(E.x=K,E.y=X,A.placed=!y,A.align(E,void 0,p)),j}function F(A,E){var x=[],m;if(g(A)&&!g(E))x=A.map(function(p){return w(p,E)});else if(g(E)&&!g(A))x=E.map(function(p){return w(A,p)});else if(g(A)||g(E))for(m=Math.max(A.length,E.length);m--;)x[m]=w(A[m],E[m]);else x=w(A,E);return x}function M(A,E,x,m,p){var y=this.chart,R=y.inverted,_=this.xAxis,L=_.reversed,z=R?E.height/2:E.width/2;A=(A=A.pointWidth)?A/2:0,E.startXPos=R?p.x:L?-z-A:_.width-z+A,E.startYPos=R?L?this.yAxis.height-z+A:-z-A:p.y,m?E.visibility==="hidden"&&(E.show(),E.attr({opacity:0}).animate({opacity:1})):E.attr({opacity:1}).animate({opacity:0},void 0,E.hide),y.hasRendered&&(x&&E.attr({x:E.startXPos,y:E.startYPos}),E.placed=!0)}var I=[];C.compose=function(A){if(I.indexOf(A)===-1){var E=A.prototype;I.push(A),E.alignDataLabel=D,E.drawDataLabels=$,E.justifyDataLabel=H,E.setDataLabelStartPos=M}}}(S||(S={})),S}),n(r,"Series/Column/ColumnDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=o.series,c=a.merge,h=a.pick,f;return function(v){function g(w,T,P,k,S){var C=this.chart.inverted,D=w.series,U=(D.xAxis?D.xAxis.len:this.chart.plotSizeX)||0;D=(D.yAxis?D.yAxis.len:this.chart.plotSizeY)||0;var $=w.dlBox||w.shapeArgs,H=h(w.below,w.plotY>h(this.translatedThreshold,D)),F=h(P.inside,!!this.options.stacking);$&&(k=c($),0>k.y&&(k.height+=k.y,k.y=0),$=k.y+k.height-D,0<$&&$<k.height&&(k.height-=$),C&&(k={x:D-k.y-k.height,y:U-k.x-k.width,width:k.height,height:k.width}),F||(C?(k.x+=H?0:k.width,k.width=0):(k.y+=H?k.height:0,k.height=0))),P.align=h(P.align,!C||F?"center":H?"right":"left"),P.verticalAlign=h(P.verticalAlign,C||F?"middle":H?"top":"bottom"),u.prototype.alignDataLabel.call(this,w,T,P,k,S),P.inside&&w.contrastColor&&T.css({color:w.contrastColor})}var b=[];v.compose=function(w){i.compose(u),b.indexOf(w)===-1&&(b.push(w),w.prototype.alignDataLabel=g)}}(f||(f={})),f}),n(r,"Series/Bar/BarSeries.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var f=function(v,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var T in w)w.hasOwnProperty(T)&&(b[T]=w[T])},f(v,g)};return function(v,g){function b(){this.constructor=v}f(v,g),v.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),c=a.extend,h=a.merge;return a=function(f){function v(){var g=f!==null&&f.apply(this,arguments)||this;return g.data=void 0,g.options=void 0,g.points=void 0,g}return u(v,f),v.defaultOptions=h(i.defaultOptions,{}),v}(i),c(a.prototype,{inverted:!0}),o.registerSeriesType("bar",a),a}),n(r,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),n(r,"Series/Scatter/ScatterSeries.js",[r["Series/Scatter/ScatterSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var b=function(w,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var S in k)k.hasOwnProperty(S)&&(P[S]=k[S])},b(w,T)};return function(w,T){function P(){this.constructor=w}b(w,T),w.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}(),c=o.seriesTypes,h=c.column,f=c.line;c=a.addEvent;var v=a.extend,g=a.merge;return a=function(b){function w(){var T=b!==null&&b.apply(this,arguments)||this;return T.data=void 0,T.options=void 0,T.points=void 0,T}return u(w,b),w.prototype.applyJitter=function(){var T=this,P=this.options.jitter,k=this.points.length;P&&this.points.forEach(function(S,C){["x","y"].forEach(function(D,U){var $="plot"+D.toUpperCase();if(P[D]&&!S.isNull){var H=T[D+"Axis"],F=P[D]*H.transA;if(H&&!H.isLog){var M=Math.max(0,S[$]-F);H=Math.min(H.len,S[$]+F),U=1e4*Math.sin(C+U*k),S[$]=M+(H-M)*(U-Math.floor(U)),D==="x"&&(S.clientX=S.plotX)}}})})},w.prototype.drawGraph=function(){this.options.lineWidth?b.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},w.defaultOptions=g(f.defaultOptions,i),w}(f),v(a.prototype,{drawTracker:h.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),c(a,"afterTranslate",function(){this.applyJitter()}),o.registerSeriesType("scatter",a),a}),n(r,"Series/CenteredUtilities.js",[r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.deg2rad,c=a.fireEvent,h=a.isNumber,f=a.pick,v=a.relativeLength,g;return function(b){b.getCenter=function(){var w=this.options,T=this.chart,P=2*(w.slicedOffset||0),k=T.plotWidth-2*P,S=T.plotHeight-2*P,C=w.center,D=Math.min(k,S),U=w.thickness,$=w.size,H=w.innerSize||0;for(typeof $=="string"&&($=parseFloat($)),typeof H=="string"&&(H=parseFloat(H)),w=[f(C[0],"50%"),f(C[1],"50%"),f($&&0>$?void 0:w.size,"100%"),f(H&&0>H?void 0:w.innerSize||0,"0%")],!T.angular||this instanceof o||(w[3]=0),C=0;4>C;++C)$=w[C],T=2>C||C===2&&/%$/.test($),w[C]=v($,[k,S,D,w[2]][C])+(T?P:0);return w[3]>w[2]&&(w[3]=w[2]),h(U)&&2*U<w[2]&&0<U&&(w[3]=w[2]-2*U),c(this,"afterGetCenter",{positions:w}),w},b.getStartAndEndRadians=function(w,T){return w=h(w)?w:0,T=h(T)&&T>w&&360>T-w?T:w+360,{start:u*(w+-90),end:u*(T+-90)}}}(g||(g={})),g}),n(r,"Series/Pie/PiePoint.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var w=function(T,P){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,S){k.__proto__=S}||function(k,S){for(var C in S)S.hasOwnProperty(C)&&(k[C]=S[C])},w(T,P)};return function(T,P){function k(){this.constructor=T}w(T,P),T.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}}(),c=i.setAnimation,h=a.addEvent,f=a.defined;i=a.extend;var v=a.isNumber,g=a.pick,b=a.relativeLength;return o=function(w){function T(){var P=w!==null&&w.apply(this,arguments)||this;return P.labelDistance=void 0,P.options=void 0,P.series=void 0,P}return u(T,w),T.prototype.getConnectorPath=function(){var P=this.labelPosition,k=this.series.options.dataLabels,S=this.connectorShapes,C=k.connectorShape;return S[C]&&(C=S[C]),C.call(this,{x:P.final.x,y:P.final.y,alignment:P.alignment},P.connectorPosition,k)},T.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},T.prototype.haloPath=function(P){var k=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(k.x,k.y,k.r+P,k.r+P,{innerR:k.r-1,start:k.start,end:k.end})},T.prototype.init=function(){var P=this;w.prototype.init.apply(this,arguments),this.name=g(this.name,"Slice");var k=function(S){P.slice(S.type==="select")};return h(this,"select",k),h(this,"unselect",k),this},T.prototype.isValid=function(){return v(this.y)&&0<=this.y},T.prototype.setVisible=function(P,k){var S=this,C=this.series,D=C.chart,U=C.options.ignoreHiddenPoint;k=g(k,U),P!==this.visible&&(this.visible=this.options.visible=P=typeof P>"u"?!this.visible:P,C.options.data[C.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function($){S[$]&&S[$][P?"show":"hide"](P)}),this.legendItem&&D.legend.colorizeItem(this,P),P||this.state!=="hover"||this.setState(""),U&&(C.isDirty=!0),k&&D.redraw())},T.prototype.slice=function(P,k,S){var C=this.series;c(S,C.chart),g(k,!0),this.sliced=this.options.sliced=f(P)?P:!this.sliced,C.options.data[C.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},T}(o),i(o.prototype,{connectorShapes:{fixedOffset:function(w,T,P){var k=T.breakAt;return T=T.touchingSliceAt,[["M",w.x,w.y],P.softConnector?["C",w.x+(w.alignment==="left"?-5:5),w.y,2*k.x-T.x,2*k.y-T.y,k.x,k.y]:["L",k.x,k.y],["L",T.x,T.y]]},straight:function(w,T){return T=T.touchingSliceAt,[["M",w.x,w.y],["L",T.x,T.y]]},crookedLine:function(w,T,P){T=T.touchingSliceAt;var k=this.series,S=k.center[0],C=k.chart.plotWidth,D=k.chart.plotLeft;k=w.alignment;var U=this.shapeArgs.r;return P=b(P.crookDistance,1),C=k==="left"?S+U+(C+D-S-U)*(1-P):D+(S-U)*P,P=["L",C,w.y],S=!0,(k==="left"?C>w.x||C<T.x:C<w.x||C>T.x)&&(S=!1),w=[["M",w.x,w.y]],S&&w.push(P),w.push(["L",T.x,T.y]),w}}}),o}),n(r,"Series/Pie/PieSeriesDefaults.js",[],function(){return{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),n(r,"Series/Pie/PieSeries.js",[r["Series/CenteredUtilities.js"],r["Series/Column/ColumnSeries.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Series/Pie/PiePoint.js"],r["Series/Pie/PieSeriesDefaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g,b){var w=this&&this.__extends||function(){var $=function(H,F){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,I){M.__proto__=I}||function(M,I){for(var A in I)I.hasOwnProperty(A)&&(M[A]=I[A])},$(H,F)};return function(H,F){function M(){this.constructor=H}$(H,F),H.prototype=F===null?Object.create(F):(M.prototype=F.prototype,new M)}}(),T=i.getStartAndEndRadians;a=a.noop;var P=b.clamp,k=b.extend,S=b.fireEvent,C=b.merge,D=b.pick,U=b.relativeLength;return b=function($){function H(){var F=$!==null&&$.apply(this,arguments)||this;return F.center=void 0,F.data=void 0,F.maxLabelDistance=void 0,F.options=void 0,F.points=void 0,F}return w(H,$),H.prototype.animate=function(F){var M=this,I=M.points,A=M.startAngleRad;F||I.forEach(function(E){var x=E.graphic,m=E.shapeArgs;x&&m&&(x.attr({r:D(E.startR,M.center&&M.center[3]/2),start:A,end:A}),x.animate({r:m.r,start:m.start,end:m.end},M.options.animation))})},H.prototype.drawEmpty=function(){var F=this.startAngleRad,M=this.endAngleRad,I=this.options;if(this.total===0&&this.center){var A=this.center[0],E=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(A,E,this.center[1]/2,0,F,M).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:g.arc(A,E,this.center[2]/2,0,{start:F,end:M,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":I.borderWidth,fill:I.fillColor||"none",stroke:I.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},H.prototype.drawPoints=function(){var F=this.chart.renderer;this.points.forEach(function(M){M.graphic&&M.hasNewShapeType()&&(M.graphic=M.graphic.destroy()),M.graphic||(M.graphic=F[M.shapeType](M.shapeArgs).add(M.series.group),M.delayedRendering=!0)})},H.prototype.generatePoints=function(){$.prototype.generatePoints.call(this),this.updateTotals()},H.prototype.getX=function(F,M,I){var A=this.center,E=this.radii?this.radii[I.index]||0:A[2]/2;return F=Math.asin(P((F-A[1])/(E+I.labelDistance),-1,1)),A[0]+(M?-1:1)*Math.cos(F)*(E+I.labelDistance)+(0<I.labelDistance?(M?-1:1)*this.options.dataLabels.padding:0)},H.prototype.hasData=function(){return!!this.processedXData.length},H.prototype.redrawPoints=function(){var F=this,M=F.chart,I=M.renderer,A=F.options.shadow,E,x,m,p;this.drawEmpty(),!A||F.shadowGroup||M.styledMode||(F.shadowGroup=I.g("shadow").attr({zIndex:-1}).add(F.group)),F.points.forEach(function(y){var R={};if(x=y.graphic,!y.isNull&&x){var _=void 0;p=y.shapeArgs,E=y.getTranslate(),M.styledMode||(_=y.shadowGroup,A&&!_&&(_=y.shadowGroup=I.g("shadow").add(F.shadowGroup)),_&&_.attr(E),m=F.pointAttribs(y,y.selected&&"select")),y.delayedRendering?(x.setRadialReference(F.center).attr(p).attr(E),M.styledMode||x.attr(m).attr({"stroke-linejoin":"round"}).shadow(A,_),y.delayedRendering=!1):(x.setRadialReference(F.center),M.styledMode||C(!0,R,m),C(!0,R,p,E),x.animate(R)),x.attr({visibility:y.visible?"inherit":"hidden"}),x.addClass(y.getClassName(),!0)}else x&&(y.graphic=x.destroy())})},H.prototype.sortByAngle=function(F,M){F.sort(function(I,A){return typeof I.angle<"u"&&(A.angle-I.angle)*M})},H.prototype.translate=function(F){S(this,"translate"),this.generatePoints();var M=this.options,I=M.slicedOffset,A=I+(M.borderWidth||0),E=T(M.startAngle,M.endAngle),x=this.startAngleRad=E.start;E=(this.endAngleRad=E.end)-x;var m=this.points,p=M.dataLabels.distance;M=M.ignoreHiddenPoint;var y=m.length,R,_=0;for(F||(this.center=F=this.getCenter()),R=0;R<y;R++){var L=m[R],z=x+_*E;!L.isValid()||M&&!L.visible||(_+=L.percentage/100);var K=x+_*E,X={x:F[0],y:F[1],r:F[2]/2,innerR:F[3]/2,start:Math.round(1e3*z)/1e3,end:Math.round(1e3*K)/1e3};L.shapeType="arc",L.shapeArgs=X,L.labelDistance=D(L.options.dataLabels&&L.options.dataLabels.distance,p),L.labelDistance=U(L.labelDistance,X.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,L.labelDistance),K=(K+z)/2,K>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),L.slicedTranslation={translateX:Math.round(Math.cos(K)*I),translateY:Math.round(Math.sin(K)*I)},X=Math.cos(K)*F[2]/2;var O=Math.sin(K)*F[2]/2;L.tooltipPos=[F[0]+.7*X,F[1]+.7*O],L.half=K<-Math.PI/2||K>Math.PI/2?1:0,L.angle=K,z=Math.min(A,L.labelDistance/5),L.labelPosition={natural:{x:F[0]+X+Math.cos(K)*L.labelDistance,y:F[1]+O+Math.sin(K)*L.labelDistance},final:{},alignment:0>L.labelDistance?"center":L.half?"right":"left",connectorPosition:{breakAt:{x:F[0]+X+Math.cos(K)*z,y:F[1]+O+Math.sin(K)*z},touchingSliceAt:{x:F[0]+X,y:F[1]+O}}}}S(this,"afterTranslate")},H.prototype.updateTotals=function(){var F=this.points,M=F.length,I=this.options.ignoreHiddenPoint,A,E=0;for(A=0;A<M;A++){var x=F[A];!x.isValid()||I&&!x.visible||(E+=x.y)}for(this.total=E,A=0;A<M;A++)x=F[A],x.percentage=0<E&&(x.visible||!I)?x.y/E*100:0,x.total=E},H.defaultOptions=C(f.defaultOptions,h),H}(f),k(b.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:u.drawRectangle,drawTracker:o.prototype.drawTracker,getCenter:i.getCenter,getSymbol:a,isCartesian:!1,noSharedTooltip:!0,pointAttribs:o.prototype.pointAttribs,pointClass:c,requireSorting:!1,searchPoint:a,trackerGroups:["group","dataLabelsGroup"]}),v.registerSeriesType("pie",b),b}),n(r,"Series/Pie/PieDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=o.noop,f=a.distribute,v=u.series,g=c.arrayMax,b=c.clamp,w=c.defined,T=c.merge,P=c.pick,k=c.relativeLength,S;return function(C){function D(){var M=this,I=M.data,A=M.chart,E=M.options.dataLabels||{},x=E.connectorPadding,m=A.plotWidth,p=A.plotHeight,y=A.plotLeft,R=Math.round(A.chartWidth/3),_=M.center,L=_[2]/2,z=_[1],K=[[],[]],X=[0,0,0,0],O=M.dataLabelPositioners,j,W,q,Q,B,Y,G,Z,J,et,nt,at;M.visible&&(E.enabled||M._hasPointLabels)&&(I.forEach(function(st){st.dataLabel&&st.visible&&st.dataLabel.shortened&&(st.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),st.dataLabel.shortened=!1)}),v.prototype.drawDataLabels.apply(M),I.forEach(function(st){st.dataLabel&&(st.visible?(K[st.half].push(st),st.dataLabel._pos=null,!w(E.style.width)&&!w(st.options.dataLabels&&st.options.dataLabels.style&&st.options.dataLabels.style.width)&&st.dataLabel.getBBox().width>R&&(st.dataLabel.css({width:Math.round(.7*R)+"px"}),st.dataLabel.shortened=!0)):(st.dataLabel=st.dataLabel.destroy(),st.dataLabels&&st.dataLabels.length===1&&delete st.dataLabels))}),K.forEach(function(st,mt){var wt=st.length,yt=[],gt;if(wt){if(M.sortByAngle(st,mt-.5),0<M.maxLabelDistance){var bt=Math.max(0,z-L-M.maxLabelDistance),ht=Math.min(z+L+M.maxLabelDistance,A.plotHeight);st.forEach(function(it){0<it.labelDistance&&it.dataLabel&&(it.top=Math.max(0,z-L-it.labelDistance),it.bottom=Math.min(z+L+it.labelDistance,A.plotHeight),gt=it.dataLabel.getBBox().height||21,it.distributeBox={target:it.labelPosition.natural.y-it.top+gt/2,size:gt,rank:it.y},yt.push(it.distributeBox))}),bt=ht+gt-bt,f(yt,bt,bt/5)}for(nt=0;nt<wt;nt++){if(j=st[nt],Y=j.labelPosition,Q=j.dataLabel,et=j.visible===!1?"hidden":"inherit",J=bt=Y.natural.y,yt&&w(j.distributeBox)&&(typeof j.distributeBox.pos>"u"?et="hidden":(G=j.distributeBox.size,J=O.radialDistributionY(j))),delete j.positionIndex,E.justify)Z=O.justify(j,L,_);else switch(E.alignTo){case"connectors":Z=O.alignToConnectors(st,mt,m,y);break;case"plotEdges":Z=O.alignToPlotEdges(Q,mt,m,y);break;default:Z=O.radialDistributionX(M,j,J,bt)}Q._attr={visibility:et,align:Y.alignment},at=j.options.dataLabels||{},Q._pos={x:Z+P(at.x,E.x)+({left:x,right:-x}[Y.alignment]||0),y:J+P(at.y,E.y)-10},Y.final.x=Z,Y.final.y=J,P(E.crop,!0)&&(B=Q.getBBox().width,bt=null,Z-B<x&&mt===1?(bt=Math.round(B-Z+x),X[3]=Math.max(bt,X[3])):Z+B>m-x&&mt===0&&(bt=Math.round(Z+B-m+x),X[1]=Math.max(bt,X[1])),0>J-G/2?X[0]=Math.max(Math.round(-J+G/2),X[0]):J+G/2>p&&(X[2]=Math.max(Math.round(J+G/2-p),X[2])),Q.sideOverflow=bt)}}}),g(X)===0||this.verifyDataLabelOverflow(X))&&(this.placeDataLabels(),this.points.forEach(function(st){if(at=T(E,st.options.dataLabels),W=P(at.connectorWidth,1)){var mt;q=st.connector,(Q=st.dataLabel)&&Q._pos&&st.visible&&0<st.labelDistance?(et=Q._attr.visibility,(mt=!q)&&(st.connector=q=A.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+st.colorIndex+(st.className?" "+st.className:"")).add(M.dataLabelsGroup),A.styledMode||q.attr({"stroke-width":W,stroke:at.connectorColor||st.color||"#666666"})),q[mt?"attr":"animate"]({d:st.getConnectorPath()}),q.attr("visibility",et)):q&&(st.connector=q.destroy())}}))}function U(){this.points.forEach(function(M){var I=M.dataLabel,A;I&&M.visible&&((A=I._pos)?(I.sideOverflow&&(I._attr.width=Math.max(I.getBBox().width-I.sideOverflow,0),I.css({width:I._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),I.shortened=!0),I.attr(I._attr),I[I.moved?"animate":"attr"](A),I.moved=!0):I&&I.attr({y:-9999})),delete M.distributeBox},this)}function $(M){var I=this.center,A=this.options,E=A.center,x=A.minSize||80,m=A.size!==null;if(!m){if(E[0]!==null)var p=Math.max(I[2]-Math.max(M[1],M[3]),x);else p=Math.max(I[2]-M[1]-M[3],x),I[0]+=(M[3]-M[1])/2;E[1]!==null?p=b(p,x,I[2]-Math.max(M[0],M[2])):(p=b(p,x,I[2]-M[0]-M[2]),I[1]+=(M[0]-M[2])/2),p<I[2]?(I[2]=p,I[3]=Math.min(A.thickness?Math.max(0,p-2*A.thickness):Math.max(0,k(A.innerSize||0,p)),p),this.translate(I),this.drawDataLabels&&this.drawDataLabels()):m=!0}return m}var H=[],F={radialDistributionY:function(M){return M.top+M.distributeBox.pos},radialDistributionX:function(M,I,A,E){return M.getX(A<I.top+2||A>I.bottom-2?E:A,I.half,I)},justify:function(M,I,A){return A[0]+(M.half?-1:1)*(I+M.labelDistance)},alignToPlotEdges:function(M,I,A,E){return M=M.getBBox().width,I?M+E:A-M-E},alignToConnectors:function(M,I,A,E){var x=0,m;return M.forEach(function(p){m=p.dataLabel.getBBox().width,m>x&&(x=m)}),I?x+E:A-x-E}};C.compose=function(M){i.compose(v),H.indexOf(M)===-1&&(H.push(M),M=M.prototype,M.dataLabelPositioners=F,M.alignDataLabel=h,M.drawDataLabels=D,M.placeDataLabels=U,M.verifyDataLabelOverflow=$)}}(S||(S={})),S}),n(r,"Extensions/OverlappingDataLabels.js",[r["Core/Chart/Chart.js"],r["Core/Utilities.js"]],function(i,o){function a(b,w){var T=!1;if(b){var P=b.newOpacity;b.oldOpacity!==P&&(b.alignAttr&&b.placed?(b[P?"removeClass":"addClass"]("highcharts-data-label-hidden"),T=!0,b.alignAttr.opacity=P,b[b.isOld?"animate":"attr"](b.alignAttr,null,function(){w.styledMode||b.css({pointerEvents:P?"auto":"none"})}),c(w,"afterHideOverlappingLabel")):b.attr({opacity:P})),b.isOld=!0}return T}var u=o.addEvent,c=o.fireEvent,h=o.isArray,f=o.isNumber,v=o.objectEach,g=o.pick;u(i,"render",function(){var b=this,w=[];(this.labelCollectors||[]).forEach(function(T){w=w.concat(T())}),(this.yAxis||[]).forEach(function(T){T.stacking&&T.options.stackLabels&&!T.options.stackLabels.allowOverlap&&v(T.stacking.stacks,function(P){v(P,function(k){k.label&&w.push(k.label)})})}),(this.series||[]).forEach(function(T){var P=T.options.dataLabels;T.visible&&(P.enabled!==!1||T._hasPointLabels)&&(P=function(k){return k.forEach(function(S){S.visible&&(h(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[]).forEach(function(C){var D=C.options;C.labelrank=g(D.labelrank,S.labelrank,S.shapeArgs&&S.shapeArgs.height),D.allowOverlap?(C.oldOpacity=C.opacity,C.newOpacity=1,a(C,b)):w.push(C)})})},P(T.nodes||[]),P(T.points))}),this.hideOverlappingLabels(w)}),i.prototype.hideOverlappingLabels=function(b){var w=this,T=b.length,P=w.renderer,k,S,C,D=!1,U=function(F){var M,I=F.box?0:F.padding||0,A=M=0,E;if(F&&(!F.alignAttr||F.placed)){var x=F.alignAttr||{x:F.attr("x"),y:F.attr("y")},m=F.parentGroup;F.width||(M=F.getBBox(),F.width=M.width,F.height=M.height,M=P.fontMetrics(null,F.element).h);var p=F.width-2*I;return(E={left:"0",center:"0.5",right:"1"}[F.alignValue])?A=+E*p:f(F.x)&&Math.round(F.x)!==F.translateX&&(A=F.x-F.translateX),{x:x.x+(m.translateX||0)+I-(A||0),y:x.y+(m.translateY||0)+I-M,width:F.width-2*I,height:F.height-2*I}}};for(S=0;S<T;S++)(k=b[S])&&(k.oldOpacity=k.opacity,k.newOpacity=1,k.absoluteBox=U(k));for(b.sort(function(F,M){return(M.labelrank||0)-(F.labelrank||0)}),S=0;S<T;S++){var $=(U=b[S])&&U.absoluteBox;for(k=S+1;k<T;++k){var H=(C=b[k])&&C.absoluteBox;!$||!H||U===C||U.newOpacity===0||C.newOpacity===0||U.visibility==="hidden"||C.visibility==="hidden"||H.x>=$.x+$.width||H.x+H.width<=$.x||H.y>=$.y+$.height||H.y+H.height<=$.y||((U.labelrank<C.labelrank?U:C).newOpacity=0)}}b.forEach(function(F){a(F,w)&&(D=!0)}),D&&c(w,"afterHideAllOverlappingLabels")}}),n(r,"Core/Responsive.js",[r["Core/Utilities.js"]],function(i){var o=i.extend,a=i.find,u=i.isArray,c=i.isObject,h=i.merge,f=i.objectEach,v=i.pick,g=i.splat,b=i.uniqueKey,w;return function(T){var P=[];T.compose=function(S){return P.indexOf(S)===-1&&(P.push(S),o(S.prototype,k.prototype)),S};var k=function(){function S(){}return S.prototype.currentOptions=function(C){function D(H,F,M,I){var A;f(H,function(E,x){if(!I&&-1<U.collectionsWithUpdate.indexOf(x)&&F[x])for(E=g(E),M[x]=[],A=0;A<Math.max(E.length,F[x].length);A++)F[x][A]&&(E[A]===void 0?M[x][A]=F[x][A]:(M[x][A]={},D(E[A],F[x][A],M[x][A],I+1)));else c(E)?(M[x]=u(E)?[]:{},D(E,F[x]||{},M[x],I+1)):M[x]=typeof F[x]>"u"?null:F[x]})}var U=this,$={};return D(C,this.options,$,0),$},S.prototype.matchResponsiveRule=function(C,D){var U=C.condition;(U.callback||function(){return this.chartWidth<=v(U.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=v(U.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=v(U.minWidth,0)&&this.chartHeight>=v(U.minHeight,0)}).call(this)&&D.push(C._id)},S.prototype.setResponsive=function(C,D){var U=this,$=this.options.responsive,H=this.currentResponsive,F=[];!D&&$&&$.rules&&$.rules.forEach(function(M){typeof M._id>"u"&&(M._id=b()),U.matchResponsiveRule(M,F)},this),D=h.apply(void 0,F.map(function(M){return a(($||{}).rules||[],function(I){return I._id===M})}).map(function(M){return M&&M.chartOptions})),D.isResponsiveOptions=!0,F=F.toString()||void 0,F!==(H&&H.ruleIds)&&(H&&this.update(H.undoOptions,C,!0),F?(H=this.currentOptions(D),H.isResponsiveOptions=!0,this.currentResponsive={ruleIds:F,mergedOptions:D,undoOptions:H},this.update(D,C,!0)):this.currentResponsive=void 0)},S}()}(w||(w={})),w}),n(r,"masters/highcharts.src.js",[r["Core/Globals.js"],r["Core/Utilities.js"],r["Core/Defaults.js"],r["Core/Animation/Fx.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/FormatUtilities.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Renderer/HTML/HTMLElement.js"],r["Core/Renderer/HTML/HTMLRenderer.js"],r["Core/Axis/Axis.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Axis/LogarithmicAxis.js"],r["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],r["Core/Axis/Tick.js"],r["Core/Tooltip.js"],r["Core/Series/Point.js"],r["Core/Pointer.js"],r["Core/MSPointer.js"],r["Core/Legend/Legend.js"],r["Core/Chart/Chart.js"],r["Core/Axis/Stacking/StackingAxis.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Series/Column/ColumnSeries.js"],r["Series/Column/ColumnDataLabel.js"],r["Series/Pie/PieSeries.js"],r["Series/Pie/PieDataLabel.js"],r["Core/Series/DataLabel.js"],r["Core/Responsive.js"],r["Core/Color/Color.js"],r["Core/Time.js"]],function(i,o,a,u,c,h,f,v,g,b,w,T,P,k,S,C,D,U,$,H,F,M,I,A,E,x,m,p,y,R,_,L,z,K,X){return i.animate=c.animate,i.animObject=c.animObject,i.getDeferredAnimation=c.getDeferredAnimation,i.setAnimation=c.setAnimation,i.stop=c.stop,i.timers=u.timers,i.AST=h,i.Axis=P,i.Chart=I,i.chart=I.chart,i.Fx=u,i.Legend=M,i.PlotLineOrBand=C,i.Point=$,i.Pointer=F.isRequired()?F:H,i.Series=x,i.StackItem=E,i.SVGElement=g,i.SVGRenderer=b,i.Tick=D,i.Time=X,i.Tooltip=U,i.Color=K,i.color=K.parse,T.compose(b),w.compose(g),i.defaultOptions=a.defaultOptions,i.getOptions=a.getOptions,i.time=a.defaultTime,i.setOptions=a.setOptions,i.dateFormat=f.dateFormat,i.format=f.format,i.numberFormat=f.numberFormat,i.addEvent=o.addEvent,i.arrayMax=o.arrayMax,i.arrayMin=o.arrayMin,i.attr=o.attr,i.clearTimeout=o.clearTimeout,i.correctFloat=o.correctFloat,i.createElement=o.createElement,i.css=o.css,i.defined=o.defined,i.destroyObjectProperties=o.destroyObjectProperties,i.discardElement=o.discardElement,i.distribute=v.distribute,i.erase=o.erase,i.error=o.error,i.extend=o.extend,i.extendClass=o.extendClass,i.find=o.find,i.fireEvent=o.fireEvent,i.getMagnitude=o.getMagnitude,i.getStyle=o.getStyle,i.inArray=o.inArray,i.isArray=o.isArray,i.isClass=o.isClass,i.isDOMElement=o.isDOMElement,i.isFunction=o.isFunction,i.isNumber=o.isNumber,i.isObject=o.isObject,i.isString=o.isString,i.keys=o.keys,i.merge=o.merge,i.normalizeTickInterval=o.normalizeTickInterval,i.objectEach=o.objectEach,i.offset=o.offset,i.pad=o.pad,i.pick=o.pick,i.pInt=o.pInt,i.relativeLength=o.relativeLength,i.removeEvent=o.removeEvent,i.seriesType=m.seriesType,i.splat=o.splat,i.stableSort=o.stableSort,i.syncTimeout=o.syncTimeout,i.timeUnits=o.timeUnits,i.uniqueKey=o.uniqueKey,i.useSerialIds=o.useSerialIds,i.wrap=o.wrap,y.compose(p),L.compose(x),k.compose(P),S.compose(P),_.compose(R),C.compose(P),z.compose(I),A.compose(P,I,x),i}),n(r,"Core/Axis/BrokenAxis.js",[r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(i,o){var a=o.addEvent,u=o.find,c=o.fireEvent,h=o.isArray,f=o.isNumber,v=o.pick,g;return function(b){function w(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function T(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function P(){var F=this.brokenAxis;if(F&&F.hasBreaks){for(var M=this.tickPositions,I=this.tickPositions.info,A=[],E=0;E<M.length;E++)F.isInAnyBreak(M[E])||A.push(M[E]);this.tickPositions=A,this.tickPositions.info=I}}function k(){this.brokenAxis||(this.brokenAxis=new H(this))}function S(){var F=this.options.connectNulls,M=this.points,I=this.xAxis,A=this.yAxis;if(this.isDirty)for(var E=M.length;E--;){var x=M[E],m=!(x.y===null&&F===!1)&&(I&&I.brokenAxis&&I.brokenAxis.isInAnyBreak(x.x,!0)||A&&A.brokenAxis&&A.brokenAxis.isInAnyBreak(x.y,!0));x.visible=m?!1:x.options.visible!==!1}}function C(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function D(F,M){var I=this,A=I.points,E,x,m,p;if(F&&F.brokenAxis&&F.brokenAxis.hasBreaks){var y=F.brokenAxis;M.forEach(function(R){E=y&&y.breakArray||[],x=F.isXAxis?F.min:v(I.options.threshold,F.min),A.forEach(function(_){p=v(_["stack"+R.toUpperCase()],_[R]),E.forEach(function(L){f(x)&&f(p)&&(m=!1,x<L.from&&p>L.to||x>L.from&&p<L.from?m="pointBreak":(x<L.from&&p>L.from&&p<L.to||x>L.from&&p>L.to&&p<L.from)&&(m="pointInBreak"),m&&c(F,m,{point:_,brk:L}))})})})}}function U(){var F=this.currentDataGrouping,M=F&&F.gapSize;F=this.points.slice();var I=this.yAxis,A=this.options.gapSize,E=F.length-1,x;if(A&&0<E)for(this.options.gapUnit!=="value"&&(A*=this.basePointRange),M&&M>A&&M>=this.basePointRange&&(A=M),x=void 0;E--;)x&&x.visible!==!1||(x=F[E+1]),M=F[E],x.visible!==!1&&M.visible!==!1&&(x.x-M.x>A&&(x=(M.x+x.x)/2,F.splice(E+1,0,{isNull:!0,x}),I.stacking&&this.options.stacking&&(x=I.stacking.stacks[this.stackKey][x]=new i(I,I.options.stackLabels,!1,x,this.stack),x.total=0)),x=M);return this.getGraphPath(F)}var $=[];b.compose=function(F,M){if($.indexOf(F)===-1&&($.push(F),F.keepProps.push("brokenAxis"),a(F,"init",k),a(F,"afterInit",w),a(F,"afterSetTickPositions",P),a(F,"afterSetOptions",T)),$.indexOf(M)===-1){$.push(M);var I=M.prototype;I.drawBreaks=D,I.gappedPath=U,a(M,"afterGeneratePoints",S),a(M,"afterRender",C)}return F};var H=function(){function F(M){this.hasBreaks=!1,this.axis=M}return F.isInBreak=function(M,I){var A=M.repeat||1/0,E=M.from,x=M.to-M.from;return I=I>=E?(I-E)%A:A-(E-I)%A,M.inclusive?I<=x:I<x&&I!==0},F.lin2Val=function(M){var I=this.brokenAxis;if(I=I&&I.breakArray,!I||!f(M))return M;var A;for(A=0;A<I.length;A++){var E=I[A];if(E.from>=M)break;(E.to<M||F.isInBreak(E,M))&&(M+=E.len)}return M},F.val2Lin=function(M){var I=this.brokenAxis;if(I=I&&I.breakArray,!I||!f(M))return M;var A=M,E;for(E=0;E<I.length;E++){var x=I[E];if(x.to<=M)A-=x.len;else{if(x.from>=M)break;if(F.isInBreak(x,M)){A-=M-x.from;break}}}return A},F.prototype.findBreakAt=function(M,I){return u(I,function(A){return A.from<M&&M<A.to})},F.prototype.isInAnyBreak=function(M,I){var A=this.axis,E=A.options.breaks||[],x=E.length,m;if(x&&f(M)){for(;x--;)if(F.isInBreak(E[x],M)){var p=!0;m||(m=v(E[x].showPoints,!A.isXAxis))}var y=p&&I?p&&!m:p}return y},F.prototype.setBreaks=function(M,I){var A=this,E=A.axis,x=h(M)&&!!M.length;E.isDirty=A.hasBreaks!==x,A.hasBreaks=x,E.options.breaks=E.userOptions.breaks=M,E.forceRedraw=!0,E.series.forEach(function(m){m.isDirty=!0}),x||E.val2lin!==F.val2Lin||(delete E.val2lin,delete E.lin2val),x&&(E.userOptions.ordinal=!1,E.lin2val=F.lin2Val,E.val2lin=F.val2Lin,E.setExtremes=function(m,p,y,R,_){if(A.hasBreaks){for(var L=this.options.breaks||[],z;z=A.findBreakAt(m,L);)m=z.to;for(;z=A.findBreakAt(p,L);)p=z.from;p<m&&(p=m)}E.constructor.prototype.setExtremes.call(this,m,p,y,R,_)},E.setAxisTranslation=function(){if(E.constructor.prototype.setAxisTranslation.call(this),A.unitLength=void 0,A.hasBreaks){var m=E.options.breaks||[],p=[],y=[],R=v(E.pointRangePadding,0),_=0,L,z=E.userMin||E.min,K=E.userMax||E.max,X;m.forEach(function(W){L=W.repeat||1/0,f(z)&&f(K)&&(F.isInBreak(W,z)&&(z+=W.to%L-z%L),F.isInBreak(W,K)&&(K-=K%L-W.from%L))}),m.forEach(function(W){if(j=W.from,L=W.repeat||1/0,f(z)&&f(K)){for(;j-L>z;)j-=L;for(;j<z;)j+=L;for(X=j;X<K;X+=L)p.push({value:X,move:"in"}),p.push({value:X+W.to-W.from,move:"out",size:W.breakSize})}}),p.sort(function(W,q){return W.value===q.value?(W.move==="in"?0:1)-(q.move==="in"?0:1):W.value-q.value});var O=0,j=z;p.forEach(function(W){O+=W.move==="in"?1:-1,O===1&&W.move==="in"&&(j=W.value),O===0&&f(j)&&(y.push({from:j,to:W.value,len:W.value-j-(W.size||0)}),_+=W.value-j-(W.size||0))}),A.breakArray=y,f(z)&&f(K)&&f(E.min)&&(A.unitLength=K-z-_+R,c(E,"afterBreaks"),E.staticScale?E.transA=E.staticScale:A.unitLength&&(E.transA*=(K-E.min+R)/A.unitLength),R&&(E.minPixelPadding=E.transA*(E.minPointOffset||0)),E.min=z,E.max=K)}}),v(I,!0)&&E.chart.redraw()},F}();b.Additions=H}(g||(g={})),g}),n(r,"masters/modules/broken-axis.src.js",[r["Core/Globals.js"],r["Core/Axis/BrokenAxis.js"]],function(i,o){o.compose(i.Axis,i.Series)}),n(r,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),n(r,"Extensions/DataGrouping/ApproximationDefaults.js",[r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Core/Utilities.js"]],function(i,o){function a(b){var w=b.length;return b=u(b),g(b)&&w&&(b=f(b/w)),b}function u(b){var w=b.length;if(!w&&b.hasNulls)var T=null;else if(w)for(T=0;w--;)T+=b[w];return T}var c=o.arrayMax,h=o.arrayMin,f=o.correctFloat,v=o.extend,g=o.isNumber;return o={average:a,averages:function(){var b=[];return[].forEach.call(arguments,function(w){b.push(a(w))}),typeof b[0]>"u"?void 0:b},close:function(b){return b.length?b[b.length-1]:b.hasNulls?null:void 0},high:function(b){return b.length?c(b):b.hasNulls?null:void 0},hlc:function(b,w,T){if(b=i.high(b),w=i.low(w),T=i.close(T),g(b)||g(w)||g(T))return[b,w,T]},low:function(b){return b.length?h(b):b.hasNulls?null:void 0},ohlc:function(b,w,T,P){if(b=i.open(b),w=i.high(w),T=i.low(T),P=i.close(P),g(b)||g(w)||g(T)||g(P))return[b,w,T,P]},open:function(b){return b.length?b[0]:b.hasNulls?null:void 0},range:function(b,w){if(b=i.low(b),w=i.high(w),g(b)||g(w))return[b,w];if(b===null&&w===null)return null},sum:u},v(i,o),o}),n(r,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),n(r,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Core/Utilities.js"]],function(i,o){function a(P){var k=this,S=k.series;S.forEach(function(C){C.groupPixelWidth=void 0}),S.forEach(function(C){C.groupPixelWidth=k.getGroupPixelWidth&&k.getGroupPixelWidth(),C.groupPixelWidth&&(C.hasProcessed=!0),C.applyGrouping(!!P.hasExtremesChanged)})}function u(){for(var P=this.series,k=P.length,S=0,C=!1,D,U;k--;)(U=P[k].options.dataGrouping)&&(S=Math.max(S,b(U.groupPixelWidth,i.common.groupPixelWidth)),D=(P[k].processedXData||P[k].data).length,(P[k].groupPixelWidth||D>this.chart.plotSizeX/S||D&&U.forced)&&(C=!0));return C?S:0}function c(){this.series.forEach(function(P){P.hasProcessed=!1})}function h(P,k){var S;if(k=b(k,!0),P||(P={forced:!1,units:null}),this instanceof T)for(S=this.series.length;S--;)this.series[S].update({dataGrouping:P},!1);else this.chart.options.series.forEach(function(C){C.dataGrouping=typeof P=="boolean"?P:g(P,C.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),k&&this.chart.redraw()}var f=o.addEvent,v=o.extend,g=o.merge,b=o.pick,w=[],T;return{compose:function(P){T=P,w.indexOf(P)===-1&&(w.push(P),f(P,"afterSetScale",c),f(P,"postProcessData",a),v(P.prototype,{applyGrouping:a,getGroupPixelWidth:u,setDataGrouping:h}))}}}),n(r,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Defaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){function f(I){var A=this.chart,E=this.options.dataGrouping,x=this.allowDG!==!1&&E&&H(E.enabled,A.options.isStock),m=this.visible||!A.options.chart.ignoreHiddenSeries,p=this.currentDataGrouping,y=!1;if(x&&!this.requireSorting&&(this.requireSorting=y=!0),I=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!I)||!x,y&&(this.requireSorting=!1),!I){this.destroyGroupedData();var R=E.groupAll?this.xData:this.processedXData,_=E.groupAll?this.yData:this.processedYData;x=A.plotSizeX,I=this.xAxis;var L=I.options.ordinal,z=this.groupPixelWidth;if(y=void 0,z&&R&&R.length&&x){this.isDirty=y=!0,this.points=null;var K=I.getExtremes(),X=K.min;K=K.max,L=L&&I.ordinal&&I.ordinal.getGroupIntervalFactor(X,K,this)||1,x=I.getTimeTicks(a.Additions.prototype.normalizeTimeTickInterval(z*(K-X)/x*L,E.units||o.units),Math.min(X,R[0]),Math.max(K,R[R.length-1]),I.options.startOfWeek,R,this.closestPointRange),z=P.groupData.apply(this,[R,_,x,E.approximation]),R=z.groupedXData,_=z.groupedYData,L=0,E&&E.smoothed&&R.length&&(E.firstAnchor="firstPoint",E.anchor="middle",E.lastAnchor="lastPoint",C(32,!1,A,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),A=R;var O=this.options.dataGrouping;if(X=this.currentDataGrouping&&this.currentDataGrouping.gapSize,O&&this.xData&&X&&this.groupMap){var j=A.length-1,W=O.anchor,q=H(O.firstAnchor,W);if(O=H(O.lastAnchor,W),W&&W!=="start"){var Q=X*{middle:.5,end:1}[W];for(W=A.length-1;W--&&0<W;)A[W]+=Q}if(q&&q!=="start"&&this.xData[0]>=A[0]){W=this.groupMap[0].start,Q=this.groupMap[0].length;var B=void 0;U(W)&&U(Q)&&(B=W+(Q-1)),A[0]={middle:A[0]+.5*X,end:A[0]+X,firstPoint:this.xData[0],lastPoint:B&&this.xData[B]}[q]}O&&O!=="start"&&X&&A[j]>=K-X&&(K=this.groupMap[this.groupMap.length-1].start,A[j]={middle:A[j]+.5*X,end:A[j]+X,firstPoint:K&&this.xData[K],lastPoint:this.xData[this.xData.length-1]}[O])}for(K=1;K<x.length;K++)x.info.segmentStarts&&x.info.segmentStarts.indexOf(K)!==-1||(L=Math.max(x[K]-x[K-1],L));K=x.info,K.gapSize=L,this.closestPointRange=x.info.totalRange,this.groupMap=z.groupMap,m&&(m=R,S(m[0])&&U(I.min)&&U(I.dataMin)&&m[0]<I.min&&((!S(I.options.min)&&I.min<=I.dataMin||I.min===I.dataMin)&&(I.min=Math.min(m[0],I.min)),I.dataMin=Math.min(m[0],I.dataMin)),S(m[m.length-1])&&U(I.max)&&U(I.dataMax)&&m[m.length-1]>I.max&&((!S(I.options.max)&&U(I.dataMax)&&I.max>=I.dataMax||I.max===I.dataMax)&&(I.max=Math.max(m[m.length-1],I.max)),I.dataMax=Math.max(m[m.length-1],I.dataMax))),E.groupAll&&(this.allGroupedData=_,E=this.cropData(R,_,I.min,I.max,1),R=E.xData,_=E.yData,this.cropStart=E.start),this.processedXData=R,this.processedYData=_}else this.groupMap=null;this.hasGroupedData=y,this.currentDataGrouping=K,this.preventGraphAnimation=(p&&p.totalRange)!==(K&&K.totalRange)}}function v(){this.groupedData&&(this.groupedData.forEach(function(I,A){I&&(this.groupedData[A]=I.destroy?I.destroy():null)},this),this.groupedData.length=0)}function g(){F.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function b(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function w(I,A,E,x){var m=this,p=m.data,y=m.options&&m.options.data,R=[],_=[],L=[],z=I.length,K=!!A,X=[],O=m.pointArrayMap,j=O&&O.length,W=["x"].concat(O||["y"]),q=this.options.dataGrouping&&this.options.dataGrouping.groupAll,Q=0,B=0;if(x=typeof x=="function"?x:x&&i[x]?i[x]:i[m.getDGApproximation&&m.getDGApproximation()||"average"],j)for(var Y=O.length;Y--;)X.push([]);else X.push([]);Y=j||1;for(var G=0;G<=z;G++)if(!(I[G]<E[0])){for(;typeof E[Q+1]<"u"&&I[G]>=E[Q+1]||G===z;){var Z=E[Q];m.dataGroupInfo={start:q?B:m.cropStart+B,length:X[0].length};var J=x.apply(m,X);for(m.pointClass&&!S(m.dataGroupInfo.options)&&(m.dataGroupInfo.options=$(m.pointClass.prototype.optionsToObject.call({series:m},m.options.data[m.cropStart+B])),W.forEach(function(nt){delete m.dataGroupInfo.options[nt]})),typeof J<"u"&&(R.push(Z),_.push(J),L.push(m.dataGroupInfo)),B=G,Z=0;Z<Y;Z++)X[Z].length=0,X[Z].hasNulls=!1;if(Q+=1,G===z)break}if(G===z)break;if(O){Z=m.options.dataGrouping&&m.options.dataGrouping.groupAll?G:m.cropStart+G,J=p&&p[Z]||m.pointClass.prototype.applyOptions.apply({series:m},[y[Z]]);var et=void 0;for(Z=0;Z<j;Z++)et=J[O[Z]],U(et)?X[Z].push(et):et===null&&(X[Z].hasNulls=!0)}else Z=K?A[G]:null,U(Z)?X[0].push(Z):Z===null&&(X[0].hasNulls=!0)}return{groupedXData:R,groupedYData:_,groupMap:L}}function T(I){I=I.options;var A=this.type,E=this.chart.options.plotOptions,x=this.useCommonDataGrouping&&o.common,m=o.seriesSpecific,p=u.defaultOptions.plotOptions[A].dataGrouping;if(E&&(m[A]||x)){var y=this.chart.rangeSelector;p||(p=$(o.common,m[A])),I.dataGrouping=$(x,p,E.series&&E.series.dataGrouping,E[A].dataGrouping,this.userOptions.dataGrouping,!I.isInternal&&y&&U(y.selected)&&y.buttonOptions[y.selected].dataGrouping)}}var P=c.series.prototype,k=h.addEvent,S=h.defined,C=h.error,D=h.extend,U=h.isNumber,$=h.merge,H=h.pick,F=P.generatePoints,M=[];return{compose:function(I){var A=I.prototype.pointClass;M.indexOf(A)===-1&&(M.push(A),k(A,"update",function(){if(this.dataGroup)return C(24,!1,this.series.chart),!1})),M.indexOf(I)===-1&&(M.push(I),k(I,"afterSetOptions",T),k(I,"destroy",v),D(I.prototype,{applyGrouping:f,destroyGroupedData:v,generatePoints:g,getDGApproximation:b,groupData:w}))},groupData:w}}),n(r,"Extensions/DataGrouping/DataGrouping.js",[r["Extensions/DataGrouping/DataGroupingAxisComposition.js"],r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){function h(T){var P=this.chart,k=P.time,S=T.labelConfig,C=S.series,D=C.tooltipOptions,U=C.options.dataGrouping,$=C.xAxis,H=D.xDateFormat,F=D[T.isFooter?"footerFormat":"headerFormat"];if($&&$.options.type==="datetime"&&U&&b(S.key)){var M=C.currentDataGrouping;if(U=U.dateTimeLabelFormats||o.common.dateTimeLabelFormats,M)if(D=U[M.unitName],M.count===1)H=D[0];else{H=D[1];var I=D[2]}else!H&&U&&$.dateTime&&(H=$.dateTime.getXDateFormat(S.x,D.dateTimeLabelFormats));H=k.dateFormat(H,S.key),I&&(H+=k.dateFormat(I,S.key+M.totalRange-1)),C.chart.styledMode&&(F=this.styledModeFormat(F)),T.text=f(F,{point:g(S.point,{key:H}),series:C},P),T.preventDefault()}}var f=u.format,v=c.addEvent,g=c.extend,b=c.isNumber,w=[];return u={compose:function(T,P,k){i.compose(T),a.compose(P),w.indexOf(k)===-1&&(w.push(k),v(k,"headerFormatter",h))},groupData:a.groupData},u}),n(r,"masters/modules/datagrouping.src.js",[r["Core/Globals.js"],r["Extensions/DataGrouping/ApproximationDefaults.js"],r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Extensions/DataGrouping/DataGrouping.js"]],function(i,o,a,u){i.dataGrouping={approximationDefaults:o,approximations:a},u.compose(i.Axis,i.Series,i.Tooltip)}),n(r,"Series/DataModifyComposition.js",[r["Core/Axis/Axis.js"],r["Core/Series/Point.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=o.prototype.tooltipFormatter,h=u.addEvent,f=u.arrayMax,v=u.arrayMin,g=u.correctFloat,b=u.defined,w=u.isArray,T=u.isNumber,P=u.isString,k=u.pick,S;return function(C){function D(p,y,R){this.isXAxis||(this.series.forEach(function(_){p==="compare"&&typeof y!="boolean"?_.setCompare(y,!1):p!=="cumulative"||P(y)||_.setCumulative(y,!1)}),k(R,!0)&&this.chart.redraw())}function U(p){var y=this,R=y.series.chart.numberFormatter,_=function(L){p=p.replace("{point."+L+"}",(0<y[L]&&L==="change"?"+":"")+R(y[L],k(y.series.tooltipOptions.changeDecimals,2)))};return b(y.change)&&_("change"),b(y.cumulativeSum)&&_("cumulativeSum"),c.apply(this,[p])}function $(){var p=this.options.compare;if(p==="percent"||p==="value"||this.options.cumulative){var y=new m(this);p==="percent"||p==="value"?y.initCompare(p):y.initCumulative()}this.dataModify=y}function H(p){p=p.dataExtremes;var y=p.activeYData;if(this.dataModify&&p){var R=void 0;this.options.compare?R=[this.dataModify.modifyValue(p.dataMin),this.dataModify.modifyValue(p.dataMax)]:this.options.cumulative&&w(y)&&2<=y.length&&(R=m.getCumulativeExtremes(y)),R&&(p.dataMin=v(R),p.dataMax=f(R))}}function F(p,y){this.options.compare=this.userOptions.compare=p,this.update({},k(y,!0)),!this.dataModify||p!=="value"&&p!=="percent"?this.points.forEach(function(R){delete R.change}):this.dataModify.initCompare(p)}function M(){if(this.xAxis&&this.processedYData&&this.dataModify){var p=this.processedXData,y=this.processedYData,R=y.length,_=this.options.compareStart===!0?0:1,L=-1,z;for(this.pointArrayMap&&(L=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),z=0;z<R-_;z++){var K=y[z]&&-1<L?y[z][L]:y[z];if(T(K)&&K!==0&&p[z+_]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function I(p,y){this.setModifier("compare",p,y)}function A(p,y){p=k(p,!1),this.options.cumulative=this.userOptions.cumulative=p,this.update({},k(y,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(function(R){delete R.cumulativeSum})}function E(p,y){this.setModifier("cumulative",p,y)}var x=[];C.compose=function(p,y,R){if(x.indexOf(p)===-1){x.push(p);var _=p.prototype;_.setCompare=F,_.setCumulative=A,h(p,"afterInit",$),h(p,"afterGetExtremes",H),h(p,"afterProcessData",M)}return x.indexOf(y)===-1&&(x.push(y),y=y.prototype,y.setCompare=I,y.setModifier=D,y.setCumulative=E),x.indexOf(R)===-1&&(x.push(R),R.prototype.tooltipFormatter=U),p};var m=function(){function p(y){this.series=y}return p.prototype.modifyValue=function(){return 0},p.getCumulativeExtremes=function(y){var R=1/0,_=-1/0;return y.reduce(function(L,z){return z=L+z,R=Math.min(R,z,L),_=Math.max(_,z,L),z}),[R,_]},p.prototype.initCompare=function(y){this.modifyValue=function(R,_){R===null&&(R=0);var L=this.compareValue;return typeof R<"u"&&typeof L<"u"?(R=y==="value"?R-L:R/L*100-(this.series.options.compareBase===100?0:100),typeof _<"u"&&(_=this.series.points[_])&&(_.change=R),R):0}},p.prototype.initCumulative=function(){this.modifyValue=function(y,R){if(y===null&&(y=0),y!==void 0&&R!==void 0){var _=0<R?this.series.points[R-1]:null;return _&&_.cumulativeSum&&(y=g(_.cumulativeSum+y)),(R=this.series.points[R])&&(R.cumulativeSum=y),y}return 0}},p}();C.Additions=m}(S||(S={})),S}),n(r,"Core/Axis/NavigatorAxisComposition.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){function a(){this.navigatorAxis||(this.navigatorAxis=new T(this))}function u(P){var k=this.chart.options,S=k.navigator,C=this.navigatorAxis,D=k.chart.zooming.pinchType,U=k.rangeSelector;k=k.chart.zooming.type,this.isXAxis&&(S&&S.enabled||U&&U.enabled)&&(k==="y"?P.zoomed=!1:(!c&&k==="xy"||c&&D==="xy")&&this.options.range&&(S=C.previousZoom,v(P.newMin)?C.previousZoom=[this.min,this.max]:S&&(P.newMin=S[0],P.newMax=S[1],C.previousZoom=void 0))),typeof P.zoomed<"u"&&P.preventDefault()}var c=i.isTouchDevice,h=o.addEvent,f=o.correctFloat,v=o.defined,g=o.isNumber,b=o.pick,w=[],T=function(){function P(k){this.axis=k}return P.compose=function(k){w.indexOf(k)===-1&&(w.push(k),k.keepProps.push("navigatorAxis"),h(k,"init",a),h(k,"zoom",u))},P.prototype.destroy=function(){this.axis=void 0},P.prototype.toFixedRange=function(k,S,C,D){var U=this.axis,$=U.chart;k=b(C,U.translate(k,!0,!U.horiz)),S=b(D,U.translate(S,!0,!U.horiz)),$=$&&$.fixedRange,U=(U.pointRange||0)/2;var H=$&&(S-k)/$;return v(C)||(k=f(k+U)),v(D)||(S=f(S-U)),.7<H&&1.3>H&&(D?k=S-$:S=k+$),g(k)&&g(S)||(k=S=void 0),{min:k,max:S}},P}();return T}),n(r,"Stock/Navigator/NavigatorDefaults.js",[r["Core/Color/Color.js"],r["Core/Series/SeriesRegistry.js"]],function(i,o){return i=i.parse,o=o.seriesTypes,o={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:i("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:typeof o.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},o}),n(r,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(i,o,a,u,c){return c===void 0&&(c={}),i=c.width?c.width/2:a,o=Math.round(i/3)+.5,u=c.height||u,[["M",-i-1,.5],["L",i,.5],["L",i,u+.5],["L",-i-1,u+.5],["L",-i-1,.5],["M",-o,4],["L",-o,u-3],["M",o-1,4],["L",o-1,u-3]]}}}),n(r,"Stock/Navigator/NavigatorComposition.js",[r["Core/Defaults.js"],r["Core/Globals.js"],r["Core/Axis/NavigatorAxisComposition.js"],r["Stock/Navigator/NavigatorDefaults.js"],r["Stock/Navigator/NavigatorSymbols.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f){function v(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function g(){var x=this.legend,m=this.navigator;if(m){var p=x&&x.options,y=m.xAxis,R=m.yAxis,_=m.scrollbarHeight;this.inverted?(m.left=m.opposite?this.chartWidth-_-m.height:this.spacing[3]+_,m.top=this.plotTop+_):(m.left=I(y.left,this.plotLeft+_),m.top=m.navigatorOptions.top||this.chartHeight-m.height-_-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(p&&p.verticalAlign==="bottom"&&p.layout!=="proximate"&&p.enabled&&!p.floating?x.legendHeight+I(p.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),y&&R&&(this.inverted?y.options.left=R.options.left=m.left:y.options.top=R.options.top=m.top,y.setAxisSize(),R.setAxisSize())}}function b(x){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new E(this),I(x.redraw,!0)&&this.redraw(x.animation))}function w(){var x=this.options;(x.navigator.enabled||x.scrollbar.enabled)&&(this.scroller=this.navigator=new E(this))}function T(){var x=this.options,m=x.navigator,p=x.rangeSelector;if((m&&m.enabled||p&&p.enabled)&&(!U&&x.chart.zooming.type==="x"||U&&x.chart.zooming.pinchType==="x"))return!1}function P(x){var m=x.navigator;m&&x.xAxis[0]&&(x=x.xAxis[0].getExtremes(),m.render(x.min,x.max))}function k(x){var m=x.options.navigator||{},p=x.options.scrollbar||{};this.navigator||this.scroller||!m.enabled&&!p.enabled||(M(!0,this.options.navigator,m),M(!0,this.options.scrollbar,p),delete x.options.navigator,delete x.options.scrollbar)}function S(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}var C=i.defaultOptions,D=i.setOptions,U=o.isTouchDevice,$=h.getRendererType,H=f.addEvent,F=f.extend,M=f.merge,I=f.pick,A=[],E;return{compose:function(x,m,p,y){a.compose(x),E=p,A.indexOf(m)===-1&&(A.push(m),m.prototype.callbacks.push(P),H(m,"afterAddSeries",v),H(m,"afterSetChartSize",g),H(m,"afterUpdate",b),H(m,"beforeRender",w),H(m,"beforeShowResetZoom",T),H(m,"update",k)),A.indexOf(y)===-1&&(A.push(y),H(y,"afterUpdate",S)),A.indexOf($)===-1&&(A.push($),F($().prototype.symbols,c)),A.indexOf(D)===-1&&(A.push(D),F(C,{navigator:u}))}}}),n(r,"Core/Axis/ScrollbarAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.defined,u=i.pick;return function(){function c(){}return c.compose=function(h,f){if(c.composed.indexOf(h)===-1)c.composed.push(h);else return h;var v=function(g){var b=u(g.options&&g.options.min,g.min),w=u(g.options&&g.options.max,g.max);return{axisMin:b,axisMax:w,scrollMin:a(g.dataMin)?Math.min(b,g.min,g.dataMin,u(g.threshold,1/0)):b,scrollMax:a(g.dataMax)?Math.max(w,g.max,g.dataMax,u(g.threshold,-1/0)):w}};return o(h,"afterInit",function(){var g=this;g.options&&g.options.scrollbar&&g.options.scrollbar.enabled&&(g.options.scrollbar.vertical=!g.horiz,g.options.startOnTick=g.options.endOnTick=!1,g.scrollbar=new f(g.chart.renderer,g.options.scrollbar,g.chart),o(g.scrollbar,"changed",function(b){var w=v(g),T=w.axisMax,P=w.scrollMin,k=w.scrollMax-P;a(w.axisMin)&&a(T)&&(g.horiz&&!g.reversed||!g.horiz&&g.reversed?(w=P+k*this.to,P+=k*this.from):(w=P+k*(1-this.from),P+=k*(1-this.to)),this.shouldUpdateExtremes(b.DOMType)?g.setExtremes(P,w,!0,b.DOMType!=="mousemove"&&b.DOMType!=="touchmove",b):this.setRange(this.from,this.to))}))}),o(h,"afterRender",function(){var g=v(this),b=g.scrollMin,w=g.scrollMax;g=this.scrollbar;var T=this.axisTitleMargin+(this.titleOffset||0),P=this.chart.scrollbarsOffsets,k=this.options.margin||0;g&&(this.horiz?(this.opposite||(P[1]+=T),g.position(this.left,this.top+this.height+2+P[1]-(this.opposite?k:0),this.width,this.height),this.opposite||(P[1]+=k),T=1):(this.opposite&&(P[0]+=T),g.position(g.options.opposite?this.left+this.width+2+P[0]-(this.opposite?0:k):this.opposite?0:k,this.top,this.width,this.height),this.opposite&&(P[0]+=k),T=0),P[T]+=g.size+g.options.margin,isNaN(b)||isNaN(w)||!a(this.min)||!a(this.max)||this.min===this.max?g.setRange(0,1):(P=(this.min-b)/(w-b),b=(this.max-b)/(w-b),this.horiz&&!this.reversed||!this.horiz&&this.reversed?g.setRange(P,b):g.setRange(1-b,1-P)))}),o(h,"afterGetOffset",function(){var g=this.scrollbar&&!this.scrollbar.options.opposite;g=this.horiz?2:g?3:1;var b=this.scrollbar;b&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[g]+=b.size+b.options.margin)}),h},c.composed=[],c}()}),n(r,"Stock/Scrollbar/ScrollbarDefaults.js",[r["Core/Globals.js"]],function(i){return{height:i.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1}}),n(r,"Stock/Scrollbar/Scrollbar.js",[r["Core/Defaults.js"],r["Core/Globals.js"],r["Core/Axis/ScrollbarAxis.js"],r["Stock/Scrollbar/ScrollbarDefaults.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=i.defaultOptions,f=c.addEvent,v=c.correctFloat,g=c.defined,b=c.destroyObjectProperties,w=c.fireEvent,T=c.merge,P=c.pick,k=c.removeEvent;return i=function(){function S(C,D,U){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(C,D,U)}return S.compose=function(C){a.compose(C,S)},S.swapXY=function(C,D){return D&&C.forEach(function(U){for(var $=U.length,H,F=0;F<$;F+=2)H=U[F+1],typeof H=="number"&&(U[F+1]=U[F+2],U[F+2]=H)}),C},S.prototype.addEvents=function(){var C=this.options.inverted?[1,0]:[0,1],D=this.scrollbarButtons,U=this.scrollbarGroup.element,$=this.track.element,H=this.mouseDownHandler.bind(this),F=this.mouseMoveHandler.bind(this),M=this.mouseUpHandler.bind(this);C=[[D[C[0]].element,"click",this.buttonToMinClick.bind(this)],[D[C[1]].element,"click",this.buttonToMaxClick.bind(this)],[$,"click",this.trackClick.bind(this)],[U,"mousedown",H],[U.ownerDocument,"mousemove",F],[U.ownerDocument,"mouseup",M]],o.hasTouch&&C.push([U,"touchstart",H],[U.ownerDocument,"touchmove",F],[U.ownerDocument,"touchend",M]),C.forEach(function(I){f.apply(null,I)}),this._events=C},S.prototype.buttonToMaxClick=function(C){var D=(this.to-this.from)*P(this.options.step,.2);this.updatePosition(this.from+D,this.to+D),w(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:C})},S.prototype.buttonToMinClick=function(C){var D=v(this.to-this.from)*P(this.options.step,.2);this.updatePosition(v(this.from-D),v(this.to-D)),w(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:C})},S.prototype.cursorToScrollbarPosition=function(C){var D=this.options;return D=D.minWidth>this.calculatedWidth?D.minWidth:0,{chartX:(C.chartX-this.x-this.xOffset)/(this.barWidth-D),chartY:(C.chartY-this.y-this.yOffset)/(this.barWidth-D)}},S.prototype.destroy=function(){var C=this,D=C.chart.scroller;C.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(U){C[U]&&C[U].destroy&&(C[U]=C[U].destroy())}),D&&C===D.scrollbar&&(D.scrollbar=null,b(D.scrollbarButtons))},S.prototype.drawScrollbarButton=function(C){var D=this.renderer,U=this.scrollbarButtons,$=this.options,H=this.size,F=D.g().add(this.group);U.push(F),F=D.rect().addClass("highcharts-scrollbar-button").add(F),this.chart.styledMode||F.attr({stroke:$.buttonBorderColor,"stroke-width":$.buttonBorderWidth,fill:$.buttonBackgroundColor}),F.attr(F.crisp({x:-.5,y:-.5,width:H+1,height:H+1,r:$.buttonBorderRadius},F.strokeWidth())),F=D.path(S.swapXY([["M",H/2+(C?-1:1),H/2-3],["L",H/2+(C?-1:1),H/2+3],["L",H/2+(C?2:-2),H/2]],$.vertical)).addClass("highcharts-scrollbar-arrow").add(U[C]),this.chart.styledMode||F.attr({fill:$.buttonArrowColor})},S.prototype.init=function(C,D,U){this.scrollbarButtons=[],this.renderer=C,this.userOptions=D,this.options=T(u,h.scrollbar,D),this.chart=U,this.size=P(this.options.size,this.options.height),D.enabled&&(this.render(),this.addEvents())},S.prototype.mouseDownHandler=function(C){C=this.chart.pointer.normalize(C),C=this.cursorToScrollbarPosition(C),this.chartX=C.chartX,this.chartY=C.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},S.prototype.mouseMoveHandler=function(C){var D=this.chart.pointer.normalize(C),U=this.options.vertical?"chartY":"chartX",$=this.initPositions||[];!this.grabbedCenter||C.touches&&C.touches[0][U]===0||(D=this.cursorToScrollbarPosition(D)[U],U=this[U],U=D-U,this.hasDragged=!0,this.updatePosition($[0]+U,$[1]+U),this.hasDragged&&w(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:C.type,DOMEvent:C}))},S.prototype.mouseUpHandler=function(C){this.hasDragged&&w(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:C.type,DOMEvent:C}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},S.prototype.position=function(C,D,U,$){var H=this.options.vertical,F=this.rendered?"animate":"attr",M=$,I=0;this.group.show(),this.x=C,this.y=D+this.trackBorderWidth,this.width=U,this.height=$,this.xOffset=M,this.yOffset=I,H?(this.width=this.yOffset=U=I=this.size,this.xOffset=M=0,this.barWidth=$-2*U,this.x=C+=this.options.margin):(this.height=this.xOffset=$=M=this.size,this.barWidth=U-2*$,this.y+=this.options.margin),this.group[F]({translateX:C,translateY:this.y}),this.track[F]({width:U,height:$}),this.scrollbarButtons[1][F]({translateX:H?0:U-M,translateY:H?$-I:0})},S.prototype.removeEvents=function(){this._events.forEach(function(C){k.apply(null,C)}),this._events.length=0},S.prototype.render=function(){var C=this.renderer,D=this.options,U=this.size,$=this.chart.styledMode,H=C.g("scrollbar").attr({zIndex:D.zIndex}).hide().add();this.group=H,this.track=C.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:D.trackBorderRadius||0,height:U,width:U}).add(H),$||this.track.attr({fill:D.trackBackgroundColor,stroke:D.trackBorderColor,"stroke-width":D.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=C.g().add(H),this.scrollbar=C.rect().addClass("highcharts-scrollbar-thumb").attr({height:U,width:U,r:D.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=C.path(S.swapXY([["M",-3,U/4],["L",-3,2*U/3],["M",0,U/4],["L",0,2*U/3],["M",3,U/4],["L",3,2*U/3]],D.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),$||(this.scrollbar.attr({fill:D.barBackgroundColor,stroke:D.barBorderColor,"stroke-width":D.barBorderWidth}),this.scrollbarRifles.attr({stroke:D.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},S.prototype.setRange=function(C,D){var U=this.options,$=U.vertical,H=U.minWidth,F=this.barWidth,M=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(g(F)){var I=F*Math.min(D,1);C=Math.max(C,0);var A=Math.ceil(F*C);this.calculatedWidth=I=v(I-A),I<H&&(A=(F-H+I)*C,I=H),H=Math.floor(A+this.xOffset+this.yOffset),F=I/2-.5,this.from=C,this.to=D,$?(this.scrollbarGroup[M]({translateY:H}),this.scrollbar[M]({height:I}),this.scrollbarRifles[M]({translateY:F}),this.scrollbarTop=H,this.scrollbarLeft=0):(this.scrollbarGroup[M]({translateX:H}),this.scrollbar[M]({width:I}),this.scrollbarRifles[M]({translateX:F}),this.scrollbarLeft=H,this.scrollbarTop=0),12>=I?this.scrollbarRifles.hide():this.scrollbarRifles.show(),U.showFull===!1&&(0>=C&&1<=D?this.group.hide():this.group.show()),this.rendered=!0}},S.prototype.shouldUpdateExtremes=function(C){return P(this.options.liveRedraw,o.svg&&!o.isTouchDevice&&!this.chart.boosted)||C==="mouseup"||C==="touchend"||!g(C)},S.prototype.trackClick=function(C){var D=this.chart.pointer.normalize(C),U=this.to-this.from,$=this.y+this.scrollbarTop,H=this.x+this.scrollbarLeft;this.options.vertical&&D.chartY>$||!this.options.vertical&&D.chartX>H?this.updatePosition(this.from+U,this.to+U):this.updatePosition(this.from-U,this.to-U),w(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:C})},S.prototype.update=function(C){this.destroy(),this.init(this.chart.renderer,T(!0,this.options,C),this.chart)},S.prototype.updatePosition=function(C,D){1<D&&(C=v(1-v(D-C)),D=1),0>C&&(D=v(D-C),C=0),this.from=C,this.to=D},S.defaultOptions=u,S}(),h.scrollbar=T(!0,i.defaultOptions,h.scrollbar),i}),n(r,"Stock/Navigator/Navigator.js",[r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/Globals.js"],r["Core/Axis/NavigatorAxisComposition.js"],r["Stock/Navigator/NavigatorComposition.js"],r["Stock/Scrollbar/Scrollbar.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f){function v(x){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];if(m=[].filter.call(m,F),m.length)return Math[x].apply(0,m)}var g=o.defaultOptions,b=a.hasTouch,w=a.isTouchDevice,T=f.addEvent,P=f.clamp,k=f.correctFloat,S=f.defined,C=f.destroyObjectProperties,D=f.erase,U=f.extend,$=f.find,H=f.isArray,F=f.isNumber,M=f.merge,I=f.pick,A=f.removeEvent,E=f.splat;return function(){function x(m){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(m)}return x.compose=function(m,p,y){c.compose(m,p,x,y)},x.prototype.drawHandle=function(m,p,y,R){var _=this.navigatorOptions.handles.height;this.handles[p][R](y?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(m,10)+.5-_)}:{translateX:Math.round(this.left+parseInt(m,10)),translateY:Math.round(this.top+this.height/2-_/2-1)})},x.prototype.drawOutline=function(m,p,y,R){var _=this.navigatorOptions.maskInside,L=this.outline.strokeWidth(),z=L/2,K=L%2/2;L=this.outlineHeight;var X=this.scrollbarHeight||0,O=this.size,j=this.left-X,W=this.top;y?(j-=z,y=W+p+K,p=W+m+K,K=[["M",j+L,W-X-K],["L",j+L,y],["L",j,y],["L",j,p],["L",j+L,p],["L",j+L,W+O+X]],_&&K.push(["M",j+L,y-z],["L",j+L,p+z])):(m+=j+X-K,p+=j+X-K,W+=z,K=[["M",j,W],["L",m,W],["L",m,W+L],["L",p,W+L],["L",p,W],["L",j+O+2*X,W]],_&&K.push(["M",m-z,W],["L",p+z,W])),this.outline[R]({d:K})},x.prototype.drawMasks=function(m,p,y,R){var _=this.left,L=this.top,z=this.height;if(y)var K=[_,_,_],X=[L,L+m,L+p],O=[z,z,z],j=[m,p-m,this.size-p];else K=[_,_+m,_+p],X=[L,L,L],O=[m,p-m,this.size-p],j=[z,z,z];this.shades.forEach(function(W,q){W[R]({x:K[q],y:X[q],width:O[q],height:j[q]})})},x.prototype.renderElements=function(){var m=this,p=m.navigatorOptions,y=p.maskInside,R=m.chart,_=R.renderer,L={cursor:R.inverted?"ns-resize":"ew-resize"},z=m.navigatorGroup=_.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!y,y,!y].forEach(function(j,W){var q=_.rect().addClass("highcharts-navigator-mask"+(W===1?"-inside":"-outside")).add(z);R.styledMode||(q.attr({fill:j?p.maskFill:"rgba(0,0,0,0)"}),W===1&&q.css(L)),m.shades[W]=q}),m.outline=_.path().addClass("highcharts-navigator-outline").add(z),R.styledMode||m.outline.attr({"stroke-width":p.outlineWidth,stroke:p.outlineColor}),p.handles&&p.handles.enabled){var K=p.handles,X=K.height,O=K.width;[0,1].forEach(function(j){m.handles[j]=_.symbol(K.symbols[j],-O/2-1,0,O,X,K),R.inverted&&m.handles[j].attr({rotation:90,rotationOriginX:Math.floor(-O/2),rotationOriginY:(X+O)/2}),m.handles[j].attr({zIndex:7-j}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][j]).add(z),R.styledMode||m.handles[j].attr({fill:K.backgroundColor,stroke:K.borderColor,"stroke-width":K.lineWidth}).css(L)})}},x.prototype.update=function(m){(this.series||[]).forEach(function(p){p.baseSeries&&delete p.baseSeries.navigatorSeries}),this.destroy(),M(!0,this.chart.options.navigator,m),this.init(this.chart)},x.prototype.render=function(m,p,y,R){var _=this.chart,L=this.xAxis,z=L.pointRange||0,K=L.navigatorAxis.fake?_.xAxis[0]:L,X=this.navigatorEnabled,O=this.rendered,j=_.inverted,W=_.xAxis[0].minRange,q=_.xAxis[0].options.maxRange,Q=this.scrollbarHeight,B;if(!this.hasDragged||S(y)){if(m=k(m-z/2),p=k(p+z/2),!F(m)||!F(p))if(O)y=0,R=I(L.width,K.width);else return;this.left=I(L.left,_.plotLeft+Q+(j?_.plotWidth:0));var Y=this.size=B=I(L.len,(j?_.plotHeight:_.plotWidth)-2*Q);_=j?Q:B+2*Q,y=I(y,L.toPixels(m,!0)),R=I(R,L.toPixels(p,!0)),F(y)&&Math.abs(y)!==1/0||(y=0,R=_),m=L.toValue(y,!0),p=L.toValue(R,!0);var G=Math.abs(k(p-m));G<W?this.grabbedLeft?y=L.toPixels(p-W-z,!0):this.grabbedRight&&(R=L.toPixels(m+W+z,!0)):S(q)&&k(G-z)>q&&(this.grabbedLeft?y=L.toPixels(p-q-z,!0):this.grabbedRight&&(R=L.toPixels(m+q+z,!0))),this.zoomedMax=P(Math.max(y,R),0,Y),this.zoomedMin=P(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(y,R),0,Y),this.range=this.zoomedMax-this.zoomedMin,Y=Math.round(this.zoomedMax),y=Math.round(this.zoomedMin),X&&(this.navigatorGroup.attr({visibility:"inherit"}),O=O&&!this.hasDragged?"animate":"attr",this.drawMasks(y,Y,j,O),this.drawOutline(y,Y,j,O),this.navigatorOptions.handles.enabled&&(this.drawHandle(y,0,j,O),this.drawHandle(Y,1,j,O))),this.scrollbar&&(j?(j=this.top-Q,K=this.left-Q+(X||!K.opposite?0:(K.titleOffset||0)+K.axisTitleMargin),Q=B+2*Q):(j=this.top+(X?this.height:-Q),K=this.left-Q),this.scrollbar.position(K,j,_,Q),this.scrollbar.setRange(this.zoomedMin/(B||1),this.zoomedMax/(B||1))),this.rendered=!0}},x.prototype.addMouseEvents=function(){var m=this,p=m.chart,y=p.container,R=[],_,L;m.mouseMoveHandler=_=function(z){m.onMouseMove(z)},m.mouseUpHandler=L=function(z){m.onMouseUp(z)},R=m.getPartsEvents("mousedown"),R.push(T(p.renderTo,"mousemove",_),T(y.ownerDocument,"mouseup",L)),b&&(R.push(T(p.renderTo,"touchmove",_),T(y.ownerDocument,"touchend",L)),R.concat(m.getPartsEvents("touchstart"))),m.eventsToUnbind=R,m.series&&m.series[0]&&R.push(T(m.series[0].xAxis,"foundExtremes",function(){p.navigator.modifyNavigatorAxisExtremes()}))},x.prototype.getPartsEvents=function(m){var p=this,y=[];return["shades","handles"].forEach(function(R){p[R].forEach(function(_,L){y.push(T(_.element,m,function(z){p[R+"Mousedown"](z,L)}))})}),y},x.prototype.shadesMousedown=function(m,p){m=this.chart.pointer.normalize(m);var y=this.chart,R=this.xAxis,_=this.zoomedMin,L=this.size,z=this.range,K=this.left,X=m.chartX;if(y.inverted&&(X=m.chartY,K=this.top),p===1)this.grabbedCenter=X,this.fixedWidth=z,this.dragOffset=X-_;else{if(m=X-K-z/2,p===0)m=Math.max(0,m);else if(p===2&&m+z>=L)if(m=L-z,this.reversedExtremes){m-=z;var O=this.getUnionExtremes().dataMin}else var j=this.getUnionExtremes().dataMax;m!==_&&(this.fixedWidth=z,p=R.navigatorAxis.toFixedRange(m,m+z,O,j),S(p.min)&&y.xAxis[0].setExtremes(Math.min(p.min,p.max),Math.max(p.min,p.max),!0,null,{trigger:"navigator"}))}},x.prototype.handlesMousedown=function(m,p){this.chart.pointer.normalize(m),m=this.chart;var y=m.xAxis[0],R=this.reversedExtremes;p===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=R?y.min:y.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=R?y.max:y.min),m.fixedRange=null},x.prototype.onMouseMove=function(m){var p=this,y=p.chart,R=p.navigatorSize,_=p.range,L=p.dragOffset,z=y.inverted,K=p.left;m.touches&&m.touches[0].pageX===0||(m=y.pointer.normalize(m),y=m.chartX,z&&(K=p.top,y=m.chartY),p.grabbedLeft?(p.hasDragged=!0,p.render(0,0,y-K,p.otherHandlePos)):p.grabbedRight?(p.hasDragged=!0,p.render(0,0,p.otherHandlePos,y-K)):p.grabbedCenter&&(p.hasDragged=!0,y<L?y=L:y>R+L-_&&(y=R+L-_),p.render(0,0,y-L,y-L+_)),p.hasDragged&&p.scrollbar&&I(p.scrollbar.options.liveRedraw,a.svg&&!w&&!this.chart.boosted)&&(m.DOMType=m.type,setTimeout(function(){p.onMouseUp(m)},0)))},x.prototype.onMouseUp=function(m){var p=this.chart,y=this.xAxis,R=this.scrollbar,_=m.DOMEvent||m,L=p.inverted,z=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!R||!R.hasDragged)||m.trigger==="scrollbar"){if(R=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var K=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var X=this.fixedExtreme;this.zoomedMax===this.size&&(X=this.reversedExtremes?R.dataMin:R.dataMax),this.zoomedMin===0&&(K=this.reversedExtremes?R.dataMax:R.dataMin),y=y.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,K,X),S(y.min)&&p.xAxis[0].setExtremes(Math.min(y.min,y.max),Math.max(y.min,y.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:_})}m.DOMType!=="mousemove"&&m.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&F(this.zoomedMin)&&F(this.zoomedMax)&&(p=Math.round(this.zoomedMin),m=Math.round(this.zoomedMax),this.shades&&this.drawMasks(p,m,L,z),this.outline&&this.drawOutline(p,m,L,z),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(p,0,L,z),this.drawHandle(m,1,L,z)))},x.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(m){m()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},x.prototype.removeBaseSeriesEvents=function(){var m=this.baseSeries||[];this.navigatorEnabled&&m[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&m.forEach(function(p){A(p,"updatedData",this.updatedDataHandler)},this),m[0].xAxis&&A(m[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},x.prototype.init=function(m){var p=m.options,y=p.navigator||{},R=y.enabled,_=p.scrollbar||{},L=_.enabled;p=R&&y.height||0;var z=L&&_.height||0;this.handles=[],this.shades=[],this.chart=m,this.setBaseSeries(),this.height=p,this.scrollbarHeight=z,this.scrollbarEnabled=L,this.navigatorEnabled=R,this.navigatorOptions=y,this.scrollbarOptions=_,this.outlineHeight=p+z,this.opposite=I(y.opposite,!(R||!m.inverted));var K=this;R=K.baseSeries,_=m.xAxis.length,L=m.yAxis.length;var X=R&&R[0]&&R[0].xAxis||m.xAxis[0]||{options:{}};m.isDirtyBox=!0,K.navigatorEnabled?(K.xAxis=new i(m,M({breaks:X.options.breaks,ordinal:X.options.ordinal},y.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:_,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},m.inverted?{offsets:[z,0,-z,0],width:p}:{offsets:[0,-z,0,z],height:p})),K.yAxis=new i(m,M(y.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:L,isInternal:!0,reversed:I(y.yAxis&&y.yAxis.reversed,m.yAxis[0]&&m.yAxis[0].reversed,!1),zoomEnabled:!1},m.inverted?{width:p}:{height:p})),R||y.series.data?K.updateNavigatorSeries(!1):m.series.length===0&&(K.unbindRedraw=T(m,"beforeRedraw",function(){0<m.series.length&&!K.series&&(K.setBaseSeries(),K.unbindRedraw())})),K.reversedExtremes=m.inverted&&!K.xAxis.reversed||!m.inverted&&K.xAxis.reversed,K.renderElements(),K.addMouseEvents()):(K.xAxis={chart:m,navigatorAxis:{fake:!0},translate:function(O,j){var W=m.xAxis[0],q=W.getExtremes(),Q=W.len-2*z,B=v("min",W.options.min,q.dataMin);return W=v("max",W.options.max,q.dataMax)-B,j?O*W/Q+B:Q*(O-B)/W},toPixels:function(O){return this.translate(O)},toValue:function(O){return this.translate(O,!0)}},K.xAxis.navigatorAxis.axis=K.xAxis,K.xAxis.navigatorAxis.toFixedRange=u.prototype.toFixedRange.bind(K.xAxis.navigatorAxis)),m.options.scrollbar.enabled&&(m.scrollbar=K.scrollbar=new h(m.renderer,M(m.options.scrollbar,{margin:K.navigatorEnabled?0:10,vertical:m.inverted}),m),T(K.scrollbar,"changed",function(O){var j=K.size,W=j*this.to;j*=this.from,K.hasDragged=K.scrollbar.hasDragged,K.render(0,0,j,W),this.shouldUpdateExtremes(O.DOMType)&&setTimeout(function(){K.onMouseUp(O)})})),K.addBaseSeriesEvents(),K.addChartEvents()},x.prototype.getUnionExtremes=function(m){var p=this.chart.xAxis[0],y=this.xAxis,R=y.options,_=p.options,L;return m&&p.dataMin===null||(L={dataMin:I(R&&R.min,v("min",_.min,p.dataMin,y.dataMin,y.min)),dataMax:I(R&&R.max,v("max",_.max,p.dataMax,y.dataMax,y.max))}),L},x.prototype.setBaseSeries=function(m,p){var y=this.chart,R=this.baseSeries=[];m=m||y.options&&y.options.navigator.baseSeries||(y.series.length?$(y.series,function(_){return!_.options.isInternal}).index:0),(y.series||[]).forEach(function(_,L){_.options.isInternal||!_.options.showInNavigator&&(L!==m&&_.options.id!==m||_.options.showInNavigator===!1)||R.push(_)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,p)},x.prototype.updateNavigatorSeries=function(m,p){var y=this,R=y.chart,_=y.baseSeries,L={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},z=y.series=(y.series||[]).filter(function(W){var q=W.baseSeries;return 0>_.indexOf(q)?(q&&(A(q,"updatedData",y.updatedDataHandler),delete q.navigatorSeries),W.chart&&W.destroy(),!1):!0}),K,X,O=y.navigatorOptions.series,j;_&&_.length&&_.forEach(function(W){var q=W.navigatorSeries,Q=U({color:W.color,visible:W.visible},H(O)?g.navigator.series:O);q&&y.navigatorOptions.adaptToUpdatedData===!1||(L.name="Navigator "+_.length,K=W.options||{},j=K.navigatorOptions||{},Q.dataLabels=E(Q.dataLabels),X=M(K,L,Q,j),X.pointRange=I(Q.pointRange,j.pointRange,g.plotOptions[X.type||"line"].pointRange),Q=j.data||Q.data,y.hasNavigatorData=y.hasNavigatorData||!!Q,X.data=Q||K.data&&K.data.slice(0),q&&q.options?q.update(X,p):(W.navigatorSeries=R.initSeries(X),W.navigatorSeries.baseSeries=W,z.push(W.navigatorSeries)))}),(O.data&&(!_||!_.length)||H(O))&&(y.hasNavigatorData=!1,O=E(O),O.forEach(function(W,q){L.name="Navigator "+(z.length+1),X=M(g.navigator.series,{color:R.series[q]&&!R.series[q].options.isInternal&&R.series[q].color||R.options.colors[q]||R.options.colors[0]},L,W),X.data=W.data,X.data&&(y.hasNavigatorData=!0,z.push(R.initSeries(X)))})),m&&this.addBaseSeriesEvents()},x.prototype.addBaseSeriesEvents=function(){var m=this,p=this,y=p.baseSeries||[];y[0]&&y[0].xAxis&&y[0].eventsToUnbind.push(T(y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),y.forEach(function(R){R.eventsToUnbind.push(T(R,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),R.eventsToUnbind.push(T(R,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),m.navigatorOptions.adaptToUpdatedData!==!1&&R.xAxis&&R.eventsToUnbind.push(T(R,"updatedData",m.updatedDataHandler)),R.eventsToUnbind.push(T(R,"remove",function(){this.navigatorSeries&&(D(p.series,this.navigatorSeries),S(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})},x.prototype.getBaseSeriesMin=function(m){return this.baseSeries.reduce(function(p,y){return Math.min(p,y.xData&&y.xData.length?y.xData[0]:p)},m)},x.prototype.modifyNavigatorAxisExtremes=function(){var m=this.xAxis;if(typeof m.getExtremes<"u"){var p=this.getUnionExtremes(!0);!p||p.dataMin===m.min&&p.dataMax===m.max||(m.min=p.dataMin,m.max=p.dataMax)}},x.prototype.modifyBaseAxisExtremes=function(){var m=this.chart.navigator,p=this.getExtremes(),y=p.dataMin,R=p.dataMax;p=p.max-p.min;var _=m.stickToMin,L=m.stickToMax,z=I(this.options.overscroll,0),K=m.series&&m.series[0],X=!!this.setExtremes;if(!this.eventArgs||this.eventArgs.trigger!=="rangeSelectorButton"){if(_)var O=y,j=O+p;L&&(j=R+z,_||(O=Math.max(y,j-p,m.getBaseSeriesMin(K&&K.xData?K.xData[0]:-Number.MAX_VALUE)))),X&&(_||L)&&F(O)&&(this.min=this.userMin=O,this.max=this.userMax=j)}m.stickToMin=m.stickToMax=null},x.prototype.updatedDataHandler=function(){var m=this.chart.navigator,p=this.navigatorSeries;m.stickToMax=I(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,m.reversedExtremes?Math.round(m.zoomedMin)===0:Math.round(m.zoomedMax)>=Math.round(m.size)),m.stickToMin=m.shouldStickToMin(this,m),p&&!m.hasNavigatorData&&(p.options.pointStart=this.xData[0],p.setData(this.options.data,!1,null,!1))},x.prototype.shouldStickToMin=function(m,p){p=p.getBaseSeriesMin(m.xData[0]);var y=m.xAxis;m=y.max;var R=y.min;return y=y.options.range,F(m)&&F(R)?y&&0<m-p?m-p<y:R<=p:!1},x.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(T(this.chart,"redraw",function(){var m=this.navigator,p=m&&(m.baseSeries&&m.baseSeries[0]&&m.baseSeries[0].xAxis||this.xAxis[0]);p&&m.render(p.min,p.max)}),T(this.chart,"getMargins",function(){var m=this.navigator,p=m.opposite?"plotTop":"marginBottom";this.inverted&&(p=m.opposite?"marginRight":"plotLeft"),this[p]=(this[p]||0)+(m.navigatorEnabled||!this.inverted?m.outlineHeight:0)+m.navigatorOptions.margin}))},x.prototype.destroy=function(){var m=this;this.removeEvents(),this.xAxis&&(D(this.chart.xAxis,this.xAxis),D(this.chart.axes,this.xAxis)),this.yAxis&&(D(this.chart.yAxis,this.yAxis),D(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(p){p.destroy&&p.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(p){m[p]&&m[p].destroy&&m[p].destroy(),m[p]=null}),[this.handles].forEach(function(p){C(p)})},x}()}),n(r,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}}),n(r,"Stock/RangeSelector/RangeSelectorComposition.js",[r["Core/Defaults.js"],r["Stock/RangeSelector/RangeSelectorDefaults.js"],r["Core/Utilities.js"]],function(i,o,a){function u(){var A=this.range,E=A.type,x=this.max,m=this.chart.time,p=function(L,z){var K=E==="year"?"FullYear":"Month",X=new m.Date(L),O=m.get(K,X);return m.set(K,X,O+z),O===m.get(K,X)&&m.set("Date",X,0),X.getTime()-L};if(U(A))var y=x-A,R=A;else A&&(y=x+p(x,-(A.count||1)),this.chart&&(this.chart.fixedRange=x-y));var _=H(this.dataMin,Number.MIN_VALUE);return U(y)||(y=_),y<=_&&(y=_,typeof R>"u"&&(R=p(y,A.count)),this.newMax=Math.min(y+R,H(this.dataMax,Number.MAX_VALUE))),U(x)?!U(A)&&A&&A._offsetMin&&(y+=A._offsetMin):y=void 0,y}function c(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new I(this))}function h(){var A=this.axes,E=this.rangeSelector;E&&(U(E.deferredYTDClick)&&(E.clickButton(E.deferredYTDClick),delete E.deferredYTDClick),A.forEach(function(x){x.updateNames(),x.setScale()}),this.getAxisMargins(),E.render(),A=E.options.verticalAlign,E.options.floating||(A==="bottom"?this.extraBottomMargin=!0:A!=="middle"&&(this.extraTopMargin=!0)))}function f(A){var E,x,m,p,y=A.rangeSelector,R=function(){y&&(E=A.xAxis[0].getExtremes(),x=A.legend,p=y&&y.options.verticalAlign,U(E.min)&&y.render(E.min,E.max),x.display&&p==="top"&&p===x.options.verticalAlign&&(m=$(A.spacingBox),m.y=x.options.layout==="vertical"?A.plotTop:m.y+y.getHeight(),x.group.placed=!1,x.align(m)))};y&&(D(F,function(_){return _[0]===A})||F.push([A,[k(A.xAxis[0],"afterSetExtremes",function(_){y&&y.render(_.min,_.max)}),k(A,"redraw",R)]]),R())}function v(){for(var A=0,E=F.length;A<E;++A){var x=F[A];if(x[0]===this){x[1].forEach(function(m){return m()}),F.splice(A,1);break}}}function g(){var A=this.rangeSelector;A&&(A=A.getHeight(),this.extraTopMargin&&(this.plotTop+=A),this.extraBottomMargin&&(this.marginBottom+=A))}function b(){var A=this.rangeSelector;A&&!A.options.floating&&(A.render(),A=A.options.verticalAlign,A==="bottom"?this.extraBottomMargin=!0:A!=="middle"&&(this.extraTopMargin=!0))}function w(A){var E=A.options.rangeSelector;A=this.extraBottomMargin;var x=this.extraTopMargin,m=this.rangeSelector;E&&E.enabled&&!S(m)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=m=new I(this)),this.extraTopMargin=this.extraBottomMargin=!1,m&&(f(this),E=E&&E.verticalAlign||m.options&&m.options.verticalAlign,m.options.floating||(E==="bottom"?this.extraBottomMargin=!0:E!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==A||this.extraTopMargin!==x)&&(this.isDirtyBox=!0)}var T=i.defaultOptions,P=i.setOptions,k=a.addEvent,S=a.defined,C=a.extend,D=a.find,U=a.isNumber,$=a.merge,H=a.pick,F=[],M=[],I;return{compose:function(A,E,x){I=x,M.indexOf(A)===-1&&(M.push(A),A.prototype.minFromRange=u),M.indexOf(E)===-1&&(M.push(E),k(E,"afterGetContainer",c),k(E,"beforeRender",h),k(E,"destroy",v),k(E,"getMargins",g),k(E,"render",b),k(E,"update",w),E.prototype.callbacks.push(f)),M.indexOf(P)===-1&&(C(T,{rangeSelector:o.rangeSelector}),C(T.lang,o.lang))}}}),n(r,"Stock/RangeSelector/RangeSelector.js",[r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/Globals.js"],r["Stock/RangeSelector/RangeSelectorComposition.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){function f(A){if(A.indexOf("%L")!==-1)return"text";var E="aAdewbBmoyY".split("").some(function(m){return A.indexOf("%"+m)!==-1}),x="HkIlMS".split("").some(function(m){return A.indexOf("%"+m)!==-1});return E&&x?"datetime-local":E?"date":x?"time":"text"}var v=o.defaultOptions,g=h.addEvent,b=h.createElement,w=h.css,T=h.defined,P=h.destroyObjectProperties,k=h.discardElement,S=h.extend,C=h.fireEvent,D=h.isNumber,U=h.merge,$=h.objectEach,H=h.pad,F=h.pick,M=h.pInt,I=h.splat;return o=function(){function A(E){this.buttons=void 0,this.buttonOptions=A.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=E,this.init(E)}return A.compose=function(E,x){u.compose(E,x,A)},A.prototype.clickButton=function(E,x){var m=this.chart,p=this.buttonOptions[E],y=m.xAxis[0],R=m.scroller&&m.scroller.getUnionExtremes()||y||{},_=p.type,L=p.dataGrouping,z=R.dataMin,K=R.dataMax,X=y&&Math.round(Math.min(y.max,F(K,y.max)));R=p._range;var O,j=!0;if(z!==null&&K!==null){if(m.fixedRange=R,this.setSelected(E),L&&(this.forcedDataGrouping=!0,i.prototype.setDataGrouping.call(y||{chart:this.chart},L,!1),this.frozenStates=p.preserveDataGrouping),_==="month"||_==="year")if(y){_={range:p,max:X,chart:m,dataMin:z,dataMax:K};var W=y.minFromRange.call(_);D(_.newMax)&&(X=_.newMax),j=!1}else R=p;else if(R)W=Math.max(X-R,z),X=Math.min(W+R,K),j=!1;else if(_==="ytd")if(y)(typeof K>"u"||typeof z>"u")&&(z=Number.MAX_VALUE,K=Number.MIN_VALUE,m.series.forEach(function(Y){(Y=Y.xData)&&(z=Math.min(Y[0],z),K=Math.max(Y[Y.length-1],K))}),x=!1),_=this.getYTDExtremes(K,z,m.time.useUTC),W=O=_.min,X=_.max;else{this.deferredYTDClick=E;return}else _==="all"&&y&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),W=z,X=K);if(j&&p._offsetMin&&T(W)&&(W+=p._offsetMin),p._offsetMax&&T(X)&&(X+=p._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=E+1),y)y.setExtremes(W,X,F(x,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:p});else{var q=I(m.options.xAxis)[0],Q=q.range;q.range=R;var B=q.min;q.min=O,g(m,"load",function(){q.range=Q,q.min=B})}C(this,"afterBtnClick")}},A.prototype.setSelected=function(E){this.selected=this.options.selected=E},A.prototype.init=function(E){var x=this,m=E.options.rangeSelector,p=m.buttons||x.defaultButtons.slice(),y=m.selected,R=function(){var _=x.minInput,L=x.maxInput;_&&_.blur&&C(_,"blur"),L&&L.blur&&C(L,"blur")};x.chart=E,x.options=m,x.buttons=[],x.buttonOptions=p,this.eventsToUnbind=[],this.eventsToUnbind.push(g(E.container,"mousedown",R)),this.eventsToUnbind.push(g(E,"resize",R)),p.forEach(x.computeButtonRange),typeof y<"u"&&p[y]&&this.clickButton(y,!1),this.eventsToUnbind.push(g(E,"load",function(){E.xAxis&&E.xAxis[0]&&g(E.xAxis[0],"setExtremes",function(_){this.max-this.min!==E.fixedRange&&_.trigger!=="rangeSelectorButton"&&_.trigger!=="updatedData"&&x.forcedDataGrouping&&!x.frozenStates&&this.setDataGrouping(!1,!1)})}))},A.prototype.updateButtonStates=function(){var E=this,x=this.chart,m=this.dropdown,p=x.xAxis[0],y=Math.round(p.max-p.min),R=!p.hasVisibleSeries,_=x.scroller&&x.scroller.getUnionExtremes()||p,L=_.dataMin,z=_.dataMax;x=E.getYTDExtremes(z,L,x.time.useUTC);var K=x.min,X=x.max,O=E.selected,j=E.options.allButtonsEnabled,W=E.buttons,q=D(O);E.buttonOptions.forEach(function(Q,B){var Y=Q._range,G=Q.type,Z=Q.count||1,J=W[B],et=Q._offsetMax-Q._offsetMin,nt=B===O,at=Y>z-L,st=Y<p.minRange;Q=0;var mt=!1,wt=!1;Y=Y===y,(G==="month"||G==="year")&&y+36e5>=864e5*{month:28,year:365}[G]*Z-et&&y-36e5<=864e5*{month:31,year:366}[G]*Z+et?Y=!0:G==="ytd"?(Y=X-K+et===y,mt=!nt):G==="all"&&(Y=p.max-p.min>=z-L,wt=!nt&&q&&Y),G=!j&&(at||st||wt||R),Z=nt&&Y||Y&&!q&&!mt||nt&&E.frozenStates,G?Q=3:Z&&(q=!0,Q=2),J.state!==Q&&(J.setState(Q),m&&(m.options[B+1].disabled=G,Q===2&&(m.selectedIndex=B+1)),Q===0&&O===B&&E.setSelected())})},A.prototype.computeButtonRange=function(E){var x=E.type,m=E.count||1,p={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};p[x]?E._range=p[x]*m:(x==="month"||x==="year")&&(E._range=864e5*{month:30,year:365}[x]*m),E._offsetMin=F(E.offsetMin,0),E._offsetMax=F(E.offsetMax,0),E._range+=E._offsetMax-E._offsetMin},A.prototype.getInputValue=function(E){E=E==="min"?this.minInput:this.maxInput;var x=this.chart.options.rangeSelector,m=this.chart.time;return E?(E.type==="text"&&x.inputDateParser||this.defaultInputDateParser)(E.value,m.useUTC,m):0},A.prototype.setInputValue=function(E,x){var m=this.options,p=this.chart.time,y=E==="min"?this.minInput:this.maxInput;if(E=E==="min"?this.minDateBox:this.maxDateBox,y){var R=y.getAttribute("data-hc-time");R=T(R)?Number(R):void 0,T(x)&&(T(R)&&y.setAttribute("data-hc-time-previous",R),y.setAttribute("data-hc-time",x),R=x),y.value=p.dateFormat(this.inputTypeFormats[y.type]||m.inputEditDateFormat,R),E&&E.attr({text:p.dateFormat(m.inputDateFormat,R)})}},A.prototype.setInputExtremes=function(E,x,m){if(E=E==="min"?this.minInput:this.maxInput){var p=this.inputTypeFormats[E.type],y=this.chart.time;p&&(x=y.dateFormat(p,x),E.min!==x&&(E.min=x),m=y.dateFormat(p,m),E.max!==m&&(E.max=m))}},A.prototype.showInput=function(E){var x=E==="min"?this.minDateBox:this.maxDateBox;if((E=E==="min"?this.minInput:this.maxInput)&&x&&this.inputGroup){var m=E.type==="text",p=this.inputGroup,y=p.translateX;p=p.translateY;var R=this.options.inputBoxWidth;w(E,{width:m?x.width+(R?-2:20)+"px":"auto",height:m?x.height-2+"px":"auto",border:"2px solid silver"}),m&&R?w(E,{left:y+x.x+"px",top:p+"px"}):w(E,{left:Math.min(Math.round(x.x+y-(E.offsetWidth-x.width)/2),this.chart.chartWidth-E.offsetWidth)+"px",top:p-(E.offsetHeight-x.height)/2+"px"})}},A.prototype.hideInput=function(E){(E=E==="min"?this.minInput:this.maxInput)&&w(E,{top:"-9999em",border:0,width:"1px",height:"1px"})},A.prototype.defaultInputDateParser=function(E,x,m){var p=E.split("/").join("-").split(" ").join("T");if(p.indexOf("T")===-1&&(p+="T00:00"),x)p+="Z";else{var y;(y=a.isSafari)&&(y=p,y=!(6<y.length&&(y.lastIndexOf("-")===y.length-6||y.lastIndexOf("+")===y.length-6))),y&&(y=new Date(p).getTimezoneOffset()/60,p+=0>=y?"+".concat(H(-y),":00"):"-".concat(H(y),":00"))}return p=Date.parse(p),D(p)||(E=E.split("-"),p=Date.UTC(M(E[0]),M(E[1])-1,M(E[2]))),m&&x&&D(p)&&(p+=m.getTimezoneOffset(p)),p},A.prototype.drawInput=function(E){function x(){var W=R.maxInput,q=R.minInput,Q=m.xAxis[0],B=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:Q,Y=B.dataMin;B=B.dataMax;var G=R.getInputValue(E);G!==Number(O.getAttribute("data-hc-time-previous"))&&D(G)&&(O.setAttribute("data-hc-time-previous",G),K&&W&&D(Y)?G>Number(W.getAttribute("data-hc-time"))?G=void 0:G<Y&&(G=Y):q&&D(B)&&(G<Number(q.getAttribute("data-hc-time"))?G=void 0:G>B&&(G=B)),typeof G<"u"&&Q.setExtremes(K?G:Q.min,K?Q.max:G,void 0,void 0,{trigger:"rangeSelectorInput"}))}var m=this.chart,p=this.div,y=this.inputGroup,R=this,_=m.renderer.style||{},L=m.renderer,z=m.options.rangeSelector,K=E==="min",X=v.lang[K?"rangeSelectorFrom":"rangeSelectorTo"]||"";X=L.label(X,0).addClass("highcharts-range-label").attr({padding:X?2:0,height:X?z.inputBoxHeight:0}).add(y),L=L.label("",0).addClass("highcharts-range-input").attr({padding:2,width:z.inputBoxWidth,height:z.inputBoxHeight,"text-align":"center"}).on("click",function(){R.showInput(E),R[E+"Input"].focus()}),m.styledMode||L.attr({stroke:z.inputBoxBorderColor,"stroke-width":1}),L.add(y);var O=b("input",{name:E,className:"highcharts-range-selector"},void 0,p);O.setAttribute("type",f(z.inputDateFormat||"%b %e, %Y")),m.styledMode||(X.css(U(_,z.labelStyle)),L.css(U({color:"#333333"},_,z.inputStyle)),w(O,S({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:_.fontSize,fontFamily:_.fontFamily,top:"-9999em"},z.inputStyle))),O.onfocus=function(){R.showInput(E)},O.onblur=function(){O===a.doc.activeElement&&x(),R.hideInput(E),R.setInputValue(E),O.blur()};var j=!1;return O.onchange=function(){j||(x(),R.hideInput(E),O.blur())},O.onkeypress=function(W){W.keyCode===13&&x()},O.onkeydown=function(W){j=!0,W.keyCode!==38&&W.keyCode!==40||x()},O.onkeyup=function(){j=!1},{dateBox:L,input:O,label:X}},A.prototype.getPosition=function(){var E=this.chart,x=E.options.rangeSelector;return E=x.verticalAlign==="top"?E.plotTop-E.axisOffset[0]:0,{buttonTop:E+x.buttonPosition.y,inputTop:E+x.inputPosition.y-10}},A.prototype.getYTDExtremes=function(E,x,m){var p=this.chart.time,y=new p.Date(E),R=p.get("FullYear",y);return m=m?p.Date.UTC(R,0,1):+new p.Date(R,0,1),x=Math.max(x,m),y=y.getTime(),{max:Math.min(E||y,y),min:x}},A.prototype.render=function(E,x){var m=this.chart,p=m.renderer,y=m.container,R=m.options,_=R.rangeSelector,L=F(R.chart.style&&R.chart.style.zIndex,0)+1;if(R=_.inputEnabled,_.enabled!==!1){if(this.rendered||(this.group=p.g("range-selector-group").attr({zIndex:7}).add(),this.div=b("div",void 0,{position:"relative",height:0,zIndex:L}),this.buttonOptions.length&&this.renderButtons(),y.parentNode&&y.parentNode.insertBefore(this.div,y),R&&(this.inputGroup=p.g("input-group").add(this.group),p=this.drawInput("min"),this.minDateBox=p.dateBox,this.minLabel=p.label,this.minInput=p.input,p=this.drawInput("max"),this.maxDateBox=p.dateBox,this.maxLabel=p.label,this.maxInput=p.input)),R&&(this.setInputValue("min",E),this.setInputValue("max",x),E=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},T(E.dataMin)&&T(E.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",E.dataMin,Math.min(E.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(E.dataMin,this.getInputValue("min"))+m,E.dataMax)),this.inputGroup)){var z=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(K){if(K){var X=K.getBBox().width;X&&(K.attr({x:z}),z+=X+_.inputSpacing)}})}this.alignElements(),this.rendered=!0}},A.prototype.renderButtons=function(){var E=this,x=this.buttons,m=this.options,p=v.lang,y=this.chart.renderer,R=U(m.buttonTheme),_=R&&R.states,L=R.width||28;delete R.width,delete R.states,this.buttonGroup=y.g("range-selector-buttons").add(this.group);var z=this.dropdown=b("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);g(z,"touchstart",function(){z.style.fontSize="16px"}),[[a.isMS?"mouseover":"mouseenter"],[a.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(K){var X=K[0],O=K[1];g(z,X,function(){var j=x[E.currentButtonIndex()];j&&C(j.element,O||X)})}),this.zoomText=y.label(p&&p.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),R["stroke-width"]=F(R["stroke-width"],0)),b("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,z),this.buttonOptions.forEach(function(K,X){b("option",{textContent:K.title||K.text},void 0,z),x[X]=y.button(K.text,0,0,function(O){var j=K.events&&K.events.click,W;j&&(W=j.call(K,O)),W!==!1&&E.clickButton(X),E.isActive=!0},R,_&&_.hover,_&&_.select,_&&_.disabled).attr({"text-align":"center",width:L}).add(E.buttonGroup),K.title&&x[X].attr("title",K.title)})},A.prototype.alignElements=function(){var E=this,x=this.buttonGroup,m=this.buttons,p=this.chart,y=this.group,R=this.inputGroup,_=this.options,L=this.zoomText,z=p.options,K=z.exporting&&z.exporting.enabled!==!1&&z.navigation&&z.navigation.buttonOptions;z=_.buttonPosition;var X=_.inputPosition,O=_.verticalAlign,j=function(B,Y){return K&&E.titleCollision(p)&&O==="top"&&Y.align==="right"&&Y.y-B.getBBox().height-12<(K.y||0)+(K.height||0)+p.spacing[0]?-40:0},W=p.plotLeft;if(y&&z&&X){var q=z.x-p.spacing[3];if(x){if(this.positionButtons(),!this.initialButtonGroupWidth){var Q=0;L&&(Q+=L.getBBox().width+5),m.forEach(function(B,Y){Q+=B.width,Y!==m.length-1&&(Q+=_.buttonSpacing)}),this.initialButtonGroupWidth=Q}W-=p.spacing[3],this.updateButtonStates(),L=j(x,z),this.alignButtonGroup(L),y.placed=x.placed=p.hasLoaded}x=0,R&&(x=j(R,X),X.align==="left"?q=W:X.align==="right"&&(q=-Math.max(p.axisOffset[1],-x)),R.align({y:X.y,width:R.getBBox().width,align:X.align,x:X.x+q-2},!0,p.spacingBox),R.placed=p.hasLoaded),this.handleCollision(x),y.align({verticalAlign:O},!0,p.spacingBox),R=y.alignAttr.translateY,x=y.getBBox().height+20,j=0,O==="bottom"&&(j=(j=p.legend&&p.legend.options)&&j.verticalAlign==="bottom"&&j.enabled&&!j.floating?p.legend.legendHeight+F(j.margin,10):0,x=x+j-20,j=R-x-(_.floating?0:_.y)-(p.titleOffset?p.titleOffset[2]:0)-10),O==="top"?(_.floating&&(j=0),p.titleOffset&&p.titleOffset[0]&&(j=p.titleOffset[0]),j+=p.margin[0]-p.spacing[0]||0):O==="middle"&&(X.y===z.y?j=R:(X.y||z.y)&&(j=0>X.y||0>z.y?j-Math.min(X.y,z.y):R-x)),y.translate(_.x,_.y+Math.floor(j)),z=this.minInput,X=this.maxInput,R=this.dropdown,_.inputEnabled&&z&&X&&(z.style.marginTop=y.translateY+"px",X.style.marginTop=y.translateY+"px"),R&&(R.style.marginTop=y.translateY+"px")}},A.prototype.alignButtonGroup=function(E,x){var m=this.chart,p=this.buttonGroup,y=this.options.buttonPosition,R=m.plotLeft-m.spacing[3],_=y.x-m.spacing[3];y.align==="right"?_+=E-R:y.align==="center"&&(_-=R/2),p&&p.align({y:y.y,width:F(x,this.initialButtonGroupWidth),align:y.align,x:_},!0,m.spacingBox)},A.prototype.positionButtons=function(){var E=this.buttons,x=this.chart,m=this.options,p=this.zoomText,y=x.hasLoaded?"animate":"attr",R=m.buttonPosition,_=x=x.plotLeft;for(p&&p.visibility!=="hidden"&&(p[y]({x:F(x+R.x,x)}),_+=R.x+p.getBBox().width+5),p=0,R=this.buttonOptions.length;p<R;++p)E[p].visibility!=="hidden"?(E[p][y]({x:_}),_+=E[p].width+m.buttonSpacing):E[p][y]({x})},A.prototype.handleCollision=function(E){var x=this,m=this.chart,p=this.buttonGroup,y=this.inputGroup,R=this.options,_=R.buttonPosition,L=R.dropdown,z=R.inputPosition;R=function(){var O=0;return x.buttons.forEach(function(j){j=j.getBBox(),j.width>O&&(O=j.width)}),O};var K=function(O){if(y&&p){var j=y.alignAttr.translateX+y.alignOptions.x-E+y.getBBox().x+2,W=y.alignOptions.width,q=p.alignAttr.translateX+p.getBBox().x;return q+O>j&&j+W>q&&_.y<z.y+y.getBBox().height}return!1},X=function(){y&&p&&y.attr({translateX:y.alignAttr.translateX+(m.axisOffset[1]>=-E?0:-E),translateY:y.alignAttr.translateY+p.getBBox().height+10})};if(p){if(L==="always"){this.collapseButtons(E),K(R())&&X();return}L==="never"&&this.expandButtons()}y&&p?z.align===_.align||K(this.initialButtonGroupWidth+20)?L==="responsive"?(this.collapseButtons(E),K(R())&&X()):X():L==="responsive"&&this.expandButtons():p&&L==="responsive"&&(this.initialButtonGroupWidth>m.plotWidth?this.collapseButtons(E):this.expandButtons())},A.prototype.collapseButtons=function(E){var x=this.buttons,m=this.buttonOptions,p=this.chart,y=this.dropdown,R=this.options,_=this.zoomText,L=p.userOptions.rangeSelector&&p.userOptions.rangeSelector.buttonTheme||{},z=function(X){return{text:X?""+X+" ▾":"▾",width:"auto",paddingLeft:F(R.buttonTheme.paddingLeft,L.padding,8),paddingRight:F(R.buttonTheme.paddingRight,L.padding,8)}};_&&_.hide();var K=!1;m.forEach(function(X,O){O=x[O],O.state!==2?O.hide():(O.show(),O.attr(z(X.text)),K=!0)}),K||(y&&(y.selectedIndex=0),x[0].show(),x[0].attr(z(this.zoomText&&this.zoomText.textStr))),m=R.buttonPosition.align,this.positionButtons(),m!=="right"&&m!=="center"||this.alignButtonGroup(E,x[this.currentButtonIndex()].getBBox().width),this.showDropdown()},A.prototype.expandButtons=function(){var E=this.buttons,x=this.buttonOptions,m=this.options,p=this.zoomText;this.hideDropdown(),p&&p.show(),x.forEach(function(y,R){R=E[R],R.show(),R.attr({text:y.text,width:m.buttonTheme.width||28,paddingLeft:F(m.buttonTheme.paddingLeft,"unset"),paddingRight:F(m.buttonTheme.paddingRight,"unset")}),2>R.state&&R.setState(0)}),this.positionButtons()},A.prototype.currentButtonIndex=function(){var E=this.dropdown;return E&&0<E.selectedIndex?E.selectedIndex-1:0},A.prototype.showDropdown=function(){var E=this.buttonGroup,x=this.buttons,m=this.chart,p=this.dropdown;if(E&&p){var y=E.translateX;E=E.translateY,x=x[this.currentButtonIndex()].getBBox(),w(p,{left:m.plotLeft+y+"px",top:E+.5+"px",width:x.width+"px",height:x.height+"px"}),this.hasVisibleDropdown=!0}},A.prototype.hideDropdown=function(){var E=this.dropdown;E&&(w(E,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},A.prototype.getHeight=function(){var E=this.options,x=this.group,m=E.y,p=E.buttonPosition.y,y=E.inputPosition.y;return E.height?E.height:(this.alignElements(),E=x?x.getBBox(!0).height+13+m:0,x=Math.min(y,p),(0>y&&0>p||0<y&&0<p)&&(E+=Math.abs(x)),E)},A.prototype.titleCollision=function(E){return!(E.options.title.text||E.options.subtitle.text)},A.prototype.update=function(E){var x=this.chart;U(!0,x.options.rangeSelector,E),this.destroy(),this.init(x),this.render()},A.prototype.destroy=function(){var E=this,x=E.minInput,m=E.maxInput;E.eventsToUnbind&&(E.eventsToUnbind.forEach(function(p){return p()}),E.eventsToUnbind=void 0),P(E.buttons),x&&(x.onfocus=x.onblur=x.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),$(E,function(p,y){p&&y!=="chart"&&(p instanceof c?p.destroy():p instanceof e.HTMLElement&&k(p)),p!==A.prototype[y]&&(E[y]=null)},this)},A}(),S(o.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),o}),n(r,"Core/Axis/OrdinalAxis.js",[r["Core/Axis/Axis.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=u.addEvent,h=u.correctFloat,f=u.css,v=u.defined,g=u.error,b=u.pick,w=u.timeUnits,T=[],P;return function(k){function S(m,p,y,R,_,L,z){_===void 0&&(_=[]),L===void 0&&(L=0);var K={},X=this.options.tickPixelInterval,O=this.chart.time,j=[],W,q,Q=0,B=[],Y=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!_||3>_.length||typeof p>"u")return O.getTimeTicks.apply(O,arguments);var G=_.length;for(W=0;W<G;W++){var Z=W&&_[W-1]>y;if(_[W]<p&&(Q=W),W===G-1||_[W+1]-_[W]>5*L||Z){if(_[W]>Y){for(q=O.getTimeTicks(m,_[Q],_[W],R);q.length&&q[0]<=Y;)q.shift();q.length&&(Y=q[q.length-1]),j.push(B.length),B=B.concat(q)}Q=W+1}if(Z)break}if(q){if(q=q.info,z&&q.unitRange<=w.hour){for(W=B.length-1,Q=1;Q<W;Q++)if(O.dateFormat("%d",B[Q])!==O.dateFormat("%d",B[Q-1])){K[B[Q]]="day";var J=!0}J&&(K[B[0]]="day"),q.higherRanks=K}q.segmentStarts=j,B.info=q}else g(12,!1,this.chart);if(z&&v(X)){for(q=B.length,O=[],Q=[],W=void 0,J=q;J--;)j=this.translate(B[J]),W&&(Q[J]=W-j),O[J]=W=j;for(Q.sort(),Q=Q[Math.floor(Q.length/2)],Q<.6*X&&(Q=null),J=B[q-1]>y?q-1:q,W=void 0;J--;)j=O[J],q=Math.abs(W-j),W&&q<.8*X&&(Q===null||q<.8*Q)?(K[B[J]]&&!K[B[J+1]]?(q=J+1,W=j):q=J,B.splice(q,1)):W=j}return B}function C(m){var p=this.ordinal.positions;if(!p)return m;var y=p.length-1;if(0>m)m=p[0];else if(m>y)m=p[y];else{y=Math.floor(m);var R=m-y}return typeof R<"u"&&typeof p[y]<"u"?p[y]+(R?R*(p[y+1]-p[y]):0):m}function D(m){var p=this.ordinal,y=p.positions;if(!y)return m;var R=(m-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<R&&R<this.left+this.len||(p.extendedOrdinalPositions||(p.extendedOrdinalPositions=p.getExtendedPositions()),y=p.extendedOrdinalPositions),y&&y.length){if(m=p.getIndexOfPoint(R,y),p=h(m%1),0<=m&&m<y.length-1)return y[Math.floor(m)]+p*(y[Math.ceil(m)]-y[Math.floor(m)]);p=y.length,R=y[0],y=y[p-1];var _=(y-R)/(p-1);return 0>m?R+_*m:y+_*(m-p)}return m}function U(m,p){var y=k.Additions.findIndexOf(m,p,!0);return m[y]===p?y:y+(p-m[y])/(m[y+1]-m[y])}function $(){this.ordinal||(this.ordinal=new k.Additions(this))}function H(){this.isXAxis&&v(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&v(this.userMin)&&(this.min+=this.options.overscroll))}function F(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function M(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function I(m){var p=this.xAxis[0],y=p.options.overscroll,R=m.originalEvent.chartX,_=this.options.chart.panning,L=!1;if(_&&_.type!=="y"&&p.options.ordinal&&p.series.length){var z=this.mouseDownX,K=p.getExtremes(),X=K.dataMax,O=K.min,j=K.max,W=this.hoverPoints,q=p.closestPointRange||p.ordinal&&p.ordinal.overscrollPointsRange;z=(z-R)/(p.translationSlope*(p.ordinal.slope||q)),q=p.ordinal.getExtendedPositions(),q={ordinal:{positions:q,extendedOrdinalPositions:q}};var Q=p.index2val,B=p.val2lin,Y=void 0,G=Y=void 0,Z=void 0;q.ordinal.positions?1<Math.abs(z)&&(W&&W.forEach(function(J){J.setState()}),0>z?(G=q,Z=p.ordinal.positions?p:q):(G=p.ordinal.positions?p:q,Z=q),Y=Z.ordinal.positions,X>Y[Y.length-1]&&Y.push(X),this.fixedRange=j-O,Y=p.navigatorAxis.toFixedRange(void 0,void 0,Q.apply(G,[B.apply(G,[O,!0])+z]),Q.apply(Z,[B.apply(Z,[j,!0])+z])),Y.min>=Math.min(K.dataMin,O)&&Y.max<=Math.max(X,j)+y&&p.setExtremes(Y.min,Y.max,!0,!1,{trigger:"pan"}),this.mouseDownX=R,f(this.container,{cursor:"move"})):L=!0}else L=!0;L||_&&/y/.test(_.type)?y&&(p.max=p.dataMax+y):m.preventDefault()}function A(){var m=this.xAxis;m&&m.options.ordinal&&(delete m.ordinal.index,delete m.ordinal.extendedOrdinalPositions)}function E(m,p){var y=this.ordinal,R=y.positions,_=y.slope,L=y.extendedOrdinalPositions;if(!R)return m;var z=R.length;if(R[0]<=m&&R[z-1]>=m)m=U(R,m);else{if(L||(L=y.getExtendedPositions&&y.getExtendedPositions(),y.extendedOrdinalPositions=L),!L||!L.length)return m;z=L.length,_||(_=(L[z-1]-L[0])/z),R=U(L,R[0]),m>=L[0]&&m<=L[z-1]?m=U(L,m)-R:m<L[0]?(m=L[0]-m,m=-R-m/_):(m-=L[z-1],m=m/_+z-R)}return p?m:_*(m||0)+y.offset}k.compose=function(m,p,y){if(T.indexOf(m)===-1){T.push(m);var R=m.prototype;R.getTimeTicks=S,R.index2val=C,R.lin2val=D,R.val2lin=E,R.ordinal2lin=R.val2lin,c(m,"afterInit",$),c(m,"foundExtremes",H),c(m,"afterSetScale",F),c(m,"initialAxisTranslation",M)}return T.indexOf(y)===-1&&(T.push(y),c(y,"pan",I)),T.indexOf(p)===-1&&(T.push(p),c(p,"updatedData",A)),m};var x=function(){function m(p){this.index={},this.axis=p}return m.prototype.beforeSetTickPositions=function(){var p=this.axis,y=p.ordinal,R=p.getExtremes(),_=R.min,L=R.max,z=p.isXAxis&&!!p.options.breaks;R=p.options.ordinal;var K=p.chart.options.chart.ignoreHiddenSeries,X,O,j=[],W=Number.MAX_VALUE,q=!1,Q=!1,B=!1;if(R||z){var Y=0;p.series.forEach(function(J,et){if(X=[],0<et&&J.options.id!=="highcharts-navigator-series"&&1<J.processedXData.length&&(Q=Y!==J.processedXData[1]-J.processedXData[0]),Y=J.processedXData[1]-J.processedXData[0],J.boosted&&(B=J.boosted),!(K&&J.visible===!1||J.takeOrdinalPosition===!1&&!z)&&(j=j.concat(J.processedXData),G=j.length,j.sort(function(nt,at){return nt-at}),W=Math.min(W,b(J.closestPointRange,W)),G)){for(et=0;et<G-1;)j[et]!==j[et+1]&&X.push(j[et+1]),et++;X[0]!==j[0]&&X.unshift(j[0]),j=X}}),Q&&B&&(j.pop(),j.shift());var G=j.length;if(2<G){var Z=j[1]-j[0];for(O=G-1;O--&&!q;)j[O+1]-j[O]!==Z&&(q=!0);!p.options.keepOrdinalPadding&&(j[0]-_>Z||L-j[j.length-1]>Z)&&(q=!0)}else p.options.overscroll&&(G===2?W=j[1]-j[0]:G===1?(W=p.options.overscroll,j=[j[0],j[0]+W]):W=y.overscrollPointsRange);q||p.forceOrdinal?(p.options.overscroll&&(y.overscrollPointsRange=W,j=j.concat(y.getOverscrollPositions())),y.positions=j,Z=p.ordinal2lin(Math.max(_,j[0]),!0),O=Math.max(p.ordinal2lin(Math.min(L,j[j.length-1]),!0),1),y.slope=L=(L-_)/(O-Z),y.offset=_-Z*L):(y.overscrollPointsRange=b(p.closestPointRange,y.overscrollPointsRange),y.positions=p.ordinal.slope=y.offset=void 0)}p.isOrdinal=R&&q,y.groupIntervalFactor=null},m.findIndexOf=function(p,y,R){for(var _=0,L=p.length-1,z;_<L;)z=Math.ceil((_+L)/2),p[z]<=y?_=z:L=z-1;return p[_]===y||R?_:-1},m.prototype.getExtendedPositions=function(){var p=this,y=p.axis,R=y.constructor.prototype,_=y.chart,L=y.series[0].currentDataGrouping,z=L?L.count+L.unitName:"raw",K=y.options.overscroll,X=y.getExtremes(),O=void 0,j=p.index;if(j||(j=p.index={}),!j[z]){var W={series:[],chart:_,forceOrdinal:!1,getExtremes:function(){return{min:X.dataMin,max:X.dataMax+K}},getGroupPixelWidth:R.getGroupPixelWidth,getTimeTicks:R.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:R.ordinal2lin,getIndexOfPoint:R.getIndexOfPoint,val2lin:R.val2lin};W.ordinal.axis=W,y.series.forEach(function(q){O={xAxis:W,xData:q.xData.slice(),chart:_,destroyGroupedData:o.noop,getProcessedData:a.prototype.getProcessedData,applyGrouping:a.prototype.applyGrouping},O.xData=O.xData.concat(p.getOverscrollPositions()),O.options={dataGrouping:L?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[L.unitName,[L.count]]]}:{enabled:!1}},W.series.push(O),q.processData.apply(O)}),O.closestPointRange!==O.basePointRange&&O.currentDataGrouping&&(W.forceOrdinal=!0),y.ordinal.beforeSetTickPositions.apply({axis:W}),j[z]=W.ordinal.positions}return j[z]},m.prototype.getGroupIntervalFactor=function(p,y,R){R=R.processedXData;var _=R.length,L=[],z=this.groupIntervalFactor;if(!z){for(z=0;z<_-1;z++)L[z]=R[z+1]-R[z];L.sort(function(K,X){return K-X}),L=L[Math.floor(_/2)],p=Math.max(p,R[0]),y=Math.min(y,R[_-1]),this.groupIntervalFactor=z=_*L/(y-p)}return z},m.prototype.getIndexOfPoint=function(p,y){var R=this.axis,_=this.positions?this.positions[0]:0,L=R.series[0].points&&R.series[0].points[0]&&R.series[0].points[0].plotX||R.minPixelPadding;return 1<R.series.length&&R.series.forEach(function(z){z.points&&v(z.points[0])&&v(z.points[0].plotX)&&z.points[0].plotX<L&&z.points[0].plotX>=b(R.min,-1/0)&&(L=z.points[0].plotX)}),p=(p-L)/(R.translationSlope*(this.slope||R.closestPointRange||this.overscrollPointsRange)),m.findIndexOf(y,_)+p},m.prototype.getOverscrollPositions=function(){var p=this.axis,y=p.options.overscroll,R=this.overscrollPointsRange,_=[],L=p.dataMax;if(v(R))for(;L<=p.dataMax+y;)L+=R,_.push(L);return _},m.prototype.postProcessTickInterval=function(p){var y=this.axis,R=this.slope;return R?y.options.breaks?y.closestPointRange||p:p/(R/y.closestPointRange):p},m}();k.Additions=x}(P||(P={})),P}),n(r,"Series/HLC/HLCPoint.js",[r["Core/Series/SeriesRegistry.js"]],function(i){var o=this&&this.__extends||function(){var a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var v in f)f.hasOwnProperty(v)&&(h[v]=f[v])},a(u,c)};return function(u,c){function h(){this.constructor=u}a(u,c),u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();return function(a){function u(){var c=a!==null&&a.apply(this,arguments)||this;return c.close=void 0,c.high=void 0,c.low=void 0,c.options=void 0,c.plotClose=void 0,c.series=void 0,c}return o(u,a),u}(i.seriesTypes.column.prototype.pointClass)}),n(r,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),n(r,"Series/HLC/HLCSeries.js",[r["Series/HLC/HLCPoint.js"],r["Series/HLC/HLCSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var g=function(b,w){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,P){T.__proto__=P}||function(T,P){for(var k in P)P.hasOwnProperty(k)&&(T[k]=P[k])},g(b,w)};return function(b,w){function T(){this.constructor=b}g(b,w),b.prototype=w===null?Object.create(w):(T.prototype=w.prototype,new T)}}(),h=a.seriesTypes.column,f=u.extend,v=u.merge;return u=function(g){function b(){var w=g!==null&&g.apply(this,arguments)||this;return w.data=void 0,w.options=void 0,w.points=void 0,w.yData=void 0,w}return c(b,g),b.prototype.extendStem=function(w,T,P){var k=w[0];w=w[1],typeof k[2]=="number"&&(k[2]=Math.max(P+T,k[2])),typeof w[2]=="number"&&(w[2]=Math.min(P-T,w[2]))},b.prototype.getPointPath=function(w,T){T=T.strokeWidth();var P=w.series,k=T%2/2,S=Math.round(w.plotX)-k,C=Math.round(w.shapeArgs.width/2),D=[["M",S,Math.round(w.yBottom)],["L",S,Math.round(w.plotHigh)]];return w.close!==null&&(w=Math.round(w.plotClose)+k,D.push(["M",S,w],["L",S+C,w]),P.extendStem(D,T/2,w)),D},b.prototype.drawSinglePoint=function(w){var T=w.series,P=T.chart,k=w.graphic;typeof w.plotY<"u"&&(k||(w.graphic=k=P.renderer.path().add(T.group)),P.styledMode||k.attr(T.pointAttribs(w,w.selected&&"select")),T=T.getPointPath(w,k),k[k?"animate":"attr"]({d:T}).addClass(w.getClassName(),!0))},b.prototype.drawPoints=function(){this.points.forEach(this.drawSinglePoint)},b.prototype.init=function(){g.prototype.init.apply(this,arguments),this.options.stacking=void 0},b.prototype.pointAttribs=function(w,T){return w=g.prototype.pointAttribs.call(this,w,T),delete w.fill,w},b.prototype.toYData=function(w){return[w.high,w.low,w.close]},b.prototype.translate=function(){var w=this,T=w.yAxis,P=this.pointArrayMap&&this.pointArrayMap.slice()||[],k=P.map(function(S){return"plot".concat(S.charAt(0).toUpperCase()+S.slice(1))});k.push("yBottom"),P.push("low"),g.prototype.translate.apply(w),w.points.forEach(function(S){P.forEach(function(C,D){C=S[C],C!==null&&(w.dataModify&&(C=w.dataModify.modifyValue(C)),S[k[D]]=T.toPixels(C,!0))}),S.tooltipPos[1]=S.plotHigh+T.pos-w.chart.plotTop})},b.defaultOptions=v(h.defaultOptions,o),b}(h),f(u.prototype,{pointClass:i,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),a.registerSeriesType("hlc",u),u}),n(r,"Series/OHLC/OHLCPoint.js",[r["Core/Series/SeriesRegistry.js"]],function(i){var o=this&&this.__extends||function(){var a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var v in f)f.hasOwnProperty(v)&&(h[v]=f[v])},a(u,c)};return function(u,c){function h(){this.constructor=u}a(u,c),u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();return function(a){function u(){var c=a!==null&&a.apply(this,arguments)||this;return c.open=void 0,c.options=void 0,c.plotOpen=void 0,c.series=void 0,c}return o(u,a),u.prototype.getClassName=function(){return a.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")},u.prototype.resolveUpColor=function(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)},u.prototype.resolveColor=function(){a.prototype.resolveColor.call(this),this.resolveUpColor()},u.prototype.getZone=function(){var c=a.prototype.getZone.call(this);return this.resolveUpColor(),c},u.prototype.applyOptions=function(){return a.prototype.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this},u}(i.seriesTypes.hlc.prototype.pointClass)}),n(r,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),n(r,"Series/OHLC/OHLCSeries.js",[r["Series/OHLC/OHLCPoint.js"],r["Series/OHLC/OHLCSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){function c(k){k=k.options;var S=k.dataGrouping;S&&k.useOhlcData&&k.id!=="highcharts-navigator-series"&&(S.approximation="ohlc")}function h(k){k=k.options,k.useOhlcData&&k.id!=="highcharts-navigator-series"&&b(this,{pointValKey:P.prototype.pointValKey,pointArrayMap:P.prototype.pointArrayMap,toYData:P.prototype.toYData})}var f=this&&this.__extends||function(){var k=function(S,C){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,U){D.__proto__=U}||function(D,U){for(var $ in U)U.hasOwnProperty($)&&(D[$]=U[$])},k(S,C)};return function(S,C){function D(){this.constructor=S}k(S,C),S.prototype=C===null?Object.create(C):(D.prototype=C.prototype,new D)}}(),v=a.seriesTypes.hlc,g=u.addEvent,b=u.extend,w=u.merge,T=[],P=function(k){function S(){var C=k!==null&&k.apply(this,arguments)||this;return C.data=void 0,C.options=void 0,C.points=void 0,C}return f(S,k),S.compose=function(C){T.indexOf(C)===-1&&(T.push(C),g(C,"afterSetOptions",c),g(C,"init",h))},S.prototype.getPointPath=function(C,D){var U=k.prototype.getPointPath.call(this,C,D);D=D.strokeWidth();var $=D%2/2,H=Math.round(C.plotX)-$,F=Math.round(C.shapeArgs.width/2);return C.open!==null&&(C=Math.round(C.plotOpen)+$,U.push(["M",H,C],["L",H-F,C]),k.prototype.extendStem.call(this,U,D/2,C)),U},S.prototype.pointAttribs=function(C,D){D=k.prototype.pointAttribs.call(this,C,D);var U=this.options;return delete D.fill,!C.options.color&&U.upColor&&C.open<C.close&&(D.stroke=U.upColor),D},S.prototype.toYData=function(C){return[C.open,C.high,C.low,C.close]},S.defaultOptions=w(v.defaultOptions,o),S}(v);return b(P.prototype,{pointClass:i,pointArrayMap:["open","high","low","close"]}),a.registerSeriesType("ohlc",P),P}),n(r,"Series/Candlestick/CandlestickSeriesDefaults.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(i,o){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),n(r,"Series/Candlestick/CandlestickSeries.js",[r["Series/Candlestick/CandlestickSeriesDefaults.js"],r["Core/Defaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var b=function(w,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var S in k)k.hasOwnProperty(S)&&(P[S]=k[S])},b(w,T)};return function(w,T){function P(){this.constructor=w}b(w,T),w.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}(),h=o.defaultOptions;o=a.seriesTypes;var f=o.column,v=o.ohlc,g=u.merge;return u=function(b){function w(){var T=b!==null&&b.apply(this,arguments)||this;return T.data=void 0,T.options=void 0,T.points=void 0,T}return c(w,b),w.prototype.pointAttribs=function(T,P){var k=f.prototype.pointAttribs.call(this,T,P),S=this.options,C=T.open<T.close,D=S.lineColor||this.color,U=T.color||this.color;return k["stroke-width"]=S.lineWidth,k.fill=T.options.color||C&&S.upColor||U,k.stroke=T.options.lineColor||C&&S.upLineColor||D,P&&(T=S.states[P],k.fill=T.color||k.fill,k.stroke=T.lineColor||k.stroke,k["stroke-width"]=T.lineWidth||k["stroke-width"]),k},w.prototype.drawPoints=function(){for(var T=this.chart,P=this.yAxis.reversed,k=0,S=this.points;k<S.length;k++){var C=S[k],D=C.graphic,U=!D;if(typeof C.plotY<"u"){D||(C.graphic=D=T.renderer.path().add(this.group)),this.chart.styledMode||D.attr(this.pointAttribs(C,C.selected&&"select")).shadow(this.options.shadow);var $=D.strokeWidth()%2/2,H=Math.round(C.plotX)-$,F=C.plotOpen,M=C.plotClose,I=Math.min(F,M);F=Math.max(F,M);var A=Math.round(C.shapeArgs.width/2);M=P?F!==C.yBottom:Math.round(I)!==Math.round(C.plotHigh);var E=P?Math.round(I)!==Math.round(C.plotHigh):F!==C.yBottom;I=Math.round(I)+$,F=Math.round(F)+$,$=[],$.push(["M",H-A,F],["L",H-A,I],["L",H+A,I],["L",H+A,F],["Z"],["M",H,I],["L",H,M?Math.round(P?C.yBottom:C.plotHigh):I],["M",H,F],["L",H,E?Math.round(P?C.plotHigh:C.yBottom):F]),D[U?"attr":"animate"]({d:$}).addClass(C.getClassName(),!0)}}},w.defaultOptions=g(v.defaultOptions,h.plotOptions,{tooltip:v.defaultOptions.tooltip},i),w}(v),a.registerSeriesType("candlestick",u),u}),n(r,"Series/Flags/FlagsPoint.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o){var a=this&&this.__extends||function(){var c=function(h,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var b in g)g.hasOwnProperty(b)&&(v[b]=g[b])},c(h,f)};return function(h,f){function v(){this.constructor=h}c(h,f),h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),u=o.isNumber;return function(c){function h(){var f=c!==null&&c.apply(this,arguments)||this;return f.options=void 0,f.series=void 0,f.ttBelow=!1,f}return a(h,c),h.prototype.isValid=function(){return u(this.y)||typeof this.y>"u"},h.prototype.hasNewShapeType=function(){var f=this.options.shape||this.series.options.shape;return this.graphic&&f&&f!==this.graphic.symbolKey},h}(i.seriesTypes.column.prototype.pointClass)}),n(r,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}}}),n(r,"Series/Flags/FlagsSymbols.js",[r["Core/Renderer/RendererRegistry.js"]],function(i){var o;return function(a){function u(f,v,g,b,w){var T=w&&w.anchorX||f;w=w&&w.anchorY||v;var P=this.circle(T-1,w-1,2,2);return P.push(["M",T,w],["L",f,v+b],["L",f,v],["L",f+g,v],["L",f+g,v+b],["L",f,v+b],["Z"]),P}function c(f,v){f[v+"pin"]=function(g,b,w,T,P){var k=P&&P.anchorX;P=P&&P.anchorY,v==="circle"&&T>w&&(g-=Math.round((T-w)/2),w=T);var S=f[v](g,b,w,T);if(k&&P){var C=k;v==="circle"?C=g+w/2:(g=S[0],w=S[1],g[0]==="M"&&w[0]==="L"&&(C=(g[1]+w[1])/2)),S.push(["M",C,b>P?b:b+T],["L",k,P]),S=S.concat(f.circle(k-1,P-1,2,2))}return S}}var h=[];a.compose=function(f){if(h.indexOf(f)===-1){h.push(f);var v=f.prototype.symbols;v.flag=u,c(v,"circle"),c(v,"square")}var g=i.getRendererType();h.indexOf(g)&&(h.push(g),v=f.prototype.symbols,f=g.prototype.symbols,f.circlepin=v.circlepin,f.flag=v.flag.bind(v),f.squarepin=v.squarepin)}}(o||(o={})),o}),n(r,"Series/OnSeriesComposition.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.prototype,c=o.prototype,h=a.defined,f=a.stableSort,v;return function(g){function b(P){return c.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,P)}function w(){u.translate.apply(this);var P=this,k=P.options,S=P.chart,C=P.points,D=k.onSeries,U=(D=D&&S.get(D))&&D.options.step,$=D&&D.points,H=S.inverted,F=P.xAxis,M=P.yAxis;S=C.length-1;var I;k=k.onKey||"y";var A=$&&$.length,E=0,x;if(D&&D.visible&&A){E=(D.pointXOffset||0)+(D.barW||0)/2;var m=D.currentDataGrouping,p=$[A-1].x+(m?m.totalRange:0);for(f(C,function(_,L){return _.x-L.x}),k="plot"+k[0].toUpperCase()+k.substr(1);A--&&C[S];){var y=$[A];if(m=C[S],m.y=y.y,y.x<=m.x&&typeof y[k]<"u"){if(m.x<=p&&(m.plotY=y[k],y.x<m.x&&!U&&(x=$[A+1])&&typeof x[k]<"u")){var R=(m.x-y.x)/(x.x-y.x);m.plotY+=R*(x[k]-y[k]),m.y+=R*(x.y-y.y)}if(S--,A++,0>S)break}}}C.forEach(function(_,L){if(_.plotX+=E,(typeof _.plotY>"u"||H)&&(0<=_.plotX&&_.plotX<=F.len?H?(_.plotY=F.translate(_.x,0,1,0,1),_.plotX=h(_.y)?M.translate(_.y,0,0,0,1):0):_.plotY=(F.opposite?0:P.yAxis.len)+F.offset:_.shapeArgs={}),(I=C[L-1])&&I.plotX===_.plotX){typeof I.stackIndex>"u"&&(I.stackIndex=0);var z=I.stackIndex+1}_.stackIndex=z}),this.onSeries=D}var T=[];g.compose=function(P){if(T.indexOf(P)===-1){T.push(P);var k=P.prototype;k.getPlotBox=b,k.translate=w}return P},g.getPlotBox=b,g.translate=w}(v||(v={})),v}),n(r,"Series/Flags/FlagsSeries.js",[r["Series/Flags/FlagsPoint.js"],r["Series/Flags/FlagsSeriesDefaults.js"],r["Series/Flags/FlagsSymbols.js"],r["Core/Globals.js"],r["Series/OnSeriesComposition.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g){var b=this&&this.__extends||function(){var $=function(H,F){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,I){M.__proto__=I}||function(M,I){for(var A in I)I.hasOwnProperty(A)&&(M[A]=I[A])},$(H,F)};return function(H,F){function M(){this.constructor=H}$(H,F),H.prototype=F===null?Object.create(F):(M.prototype=F.prototype,new M)}}();u=u.noop;var w=h.distribute,T=f.series,P=f.seriesTypes.column,k=g.addEvent,S=g.defined;h=g.extend;var C=g.merge,D=g.objectEach,U=g.wrap;return g=function($){function H(){var F=$!==null&&$.apply(this,arguments)||this;return F.data=void 0,F.options=void 0,F.points=void 0,F}return b(H,$),H.prototype.animate=function(F){F&&this.setClip()},H.prototype.drawPoints=function(){var F=this.points,M=this.chart,I=M.renderer,A=M.inverted,E=this.options,x=E.y,m=this.yAxis,p={},y=[],R;for(R=F.length;R--;){var _=F[R],L=(A?_.plotY:_.plotX)>this.xAxis.len,z=_.plotX,K=_.stackIndex,X=_.options.shape||E.shape,O=_.plotY;typeof O<"u"&&(O=_.plotY+x-(typeof K<"u"&&K*E.stackDistance)),_.anchorX=K?void 0:_.plotX;var j=K?void 0:_.plotY,W=X!=="flag";K=_.graphic,typeof O<"u"&&0<=z&&!L?(K&&_.hasNewShapeType()&&(K=K.destroy()),K||(K=_.graphic=I.label("",null,null,X,null,null,E.useHTML).addClass("highcharts-point").add(this.markerGroup),_.graphic.div&&(_.graphic.div.point=_),K.isNew=!0),K.attr({align:W?"center":"left",width:E.width,height:E.height,"text-align":E.textAlign}),M.styledMode||K.attr(this.pointAttribs(_)).css(C(E.style,_.style)).shadow(E.shadow),0<z&&(z-=K.strokeWidth()%2),X={y:O,anchorY:j},E.allowOverlapX&&(X.x=z,X.anchorX=_.anchorX),K.attr({text:_.options.title||E.title||"A"})[K.isNew?"attr":"animate"](X),E.allowOverlapX||(p[_.plotX]?p[_.plotX].size=Math.max(p[_.plotX].size,K.width):p[_.plotX]={align:W?.5:0,size:K.width,target:z,anchorX:z}),_.tooltipPos=[z,O+m.pos-M.plotTop]):K&&(_.graphic=K.destroy())}if(!E.allowOverlapX){var q=100;for(D(p,function(Q){Q.plotX=Q.anchorX,y.push(Q),q=Math.max(Q.size,q)}),w(y,A?m.len:this.xAxis.len,q),M=0;M<F.length;M++)I=F[M],x=I.plotX,(x=(A=I.graphic)&&p[x])&&A&&(S(x.pos)?A[A.isNew?"attr":"animate"]({x:x.pos+(x.align||0)*x.size,anchorX:I.anchorX}).show().isNew=!1:A.hide().isNew=!0)}E.useHTML&&this.markerGroup&&U(this.markerGroup,"on",function(Q){return v.prototype.on.apply(Q.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},H.prototype.drawTracker=function(){var F=this.points;$.prototype.drawTracker.call(this);for(var M=function(A){var E=A.graphic;E&&(A.unbindMouseOver&&A.unbindMouseOver(),A.unbindMouseOver=k(E.element,"mouseover",function(){0<A.stackIndex&&!A.raised&&(A._y=E.y,E.attr({y:A._y-8}),A.raised=!0);for(var x=0;x<F.length;x++){var m=F[x];m!==A&&m.raised&&m.graphic&&(m.graphic.attr({y:m._y}),m.raised=!1)}}))},I=0;I<F.length;I++)M(F[I])},H.prototype.pointAttribs=function(F,M){var I=this.options,A=F&&F.color||this.color,E=I.lineColor,x=F&&F.lineWidth;return F=F&&F.fillColor||I.fillColor,M&&(F=I.states[M].fillColor,E=I.states[M].lineColor,x=I.states[M].lineWidth),{fill:F||A,stroke:E||A,"stroke-width":x||I.lineWidth||0}},H.prototype.setClip=function(){T.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])},H.compose=a.compose,H.defaultOptions=C(P.defaultOptions,o),H}(P),c.compose(g),h(g.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:i,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:u,init:T.prototype.init}),f.registerSeriesType("flags",g),g}),n(r,"Core/Chart/StockChart.js",[r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/FormatUtilities.js"],r["Core/Defaults.js"],r["Stock/Navigator/NavigatorDefaults.js"],r["Stock/RangeSelector/RangeSelectorDefaults.js"],r["Stock/Scrollbar/ScrollbarDefaults.js"],r["Core/Series/Series.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g,b){function w(E,x){return E==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:E==="yAxis"?{labels:{y:-2},opposite:I(x.opposite,!0),showLastLabel:!(!x.categories&&x.type!=="category"),title:{text:null}}:{}}function T(E,x){return E==="xAxis"?(E={type:"datetime",categories:void 0},I(x.navigator&&x.navigator.enabled,c.enabled,!0)&&(E.startOnTick=!1,E.endOnTick=!1),E):{}}var P=this&&this.__extends||function(){var E=function(x,m){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var R in y)y.hasOwnProperty(R)&&(p[R]=y[R])},E(x,m)};return function(x,m){function p(){this.constructor=x}E(x,m),x.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}(),k=a.format,S=u.getOptions;a=b.addEvent;var C=b.clamp,D=b.defined,U=b.extend,$=b.find,H=b.isNumber,F=b.isString,M=b.merge,I=b.pick,A=b.splat;return b=function(E){function x(){return E!==null&&E.apply(this,arguments)||this}return P(x,E),x.prototype.init=function(m,p){var y=S(),R=m.xAxis,_=m.yAxis,L=I(m.navigator&&m.navigator.enabled,c.enabled,!0);m.xAxis=m.yAxis=void 0,L=M({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:L},scrollbar:{enabled:I(f.enabled,!0)},rangeSelector:{enabled:I(h.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:I(y.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},m,{isStock:!0}),m.xAxis=R,m.yAxis=_,L.xAxis=A(m.xAxis||{}).map(function(z,K){return M(w("xAxis",z),y.xAxis,y.xAxis&&y.xAxis[K],z,T("xAxis",m))}),L.yAxis=A(m.yAxis||{}).map(function(z,K){return M(w("yAxis",z),y.yAxis,y.yAxis&&y.yAxis[K],z)}),E.prototype.init.call(this,L,p)},x.prototype.createAxis=function(m,p){return p.axis=M(w(m,p.axis),p.axis,T(m,this.userOptions)),E.prototype.createAxis.call(this,m,p)},x}(o),function(E){E.stockChart=function(x,m,p){return new E(x,m,p)}}(b||(b={})),a(v,"setOptions",function(E){var x;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?x={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(x={marker:{enabled:!1,radius:2}}),x&&(E.plotOptions[this.type]=M(E.plotOptions[this.type],x)))}),a(i,"autoLabelAlign",function(E){var x=this.chart,m=this.options;x=x._labelPanes=x._labelPanes||{};var p=this.options.labels;this.chart.options.isStock&&this.coll==="yAxis"&&(m=m.top+","+m.height,!x[m]&&p.enabled&&(p.x===15&&(p.x=0),typeof p.align>"u"&&(p.align="right"),x[m]=this,E.align="right",E.preventDefault()))}),a(i,"destroy",function(){var E=this.chart,x=this.options&&this.options.top+","+this.options.height;x&&E._labelPanes&&E._labelPanes[x]===this&&delete E._labelPanes[x]}),a(i,"getPlotLinePath",function(E){function x(J){var et=J==="xAxis"?"yAxis":"xAxis";return J=m.options[et],H(J)?[y[et][J]]:F(J)?[y.get(J)]:p.map(function(nt){return nt[et]})}var m=this,p=this.isLinked&&!this.series?this.linkedParent.series:this.series,y=m.chart,R=y.renderer,_=m.left,L=m.top,z,K,X,O,j=[],W=[],q=E.translatedValue,Q=E.value,B=E.force;if(y.options.isStock&&E.acrossPanes!==!1&&m.coll==="xAxis"||m.coll==="yAxis"){E.preventDefault(),W=x(m.coll);var Y=m.isXAxis?y.yAxis:y.xAxis;Y.forEach(function(J){if(!D(J.options.id)||J.options.id.indexOf("navigator")===-1){var et=J.isXAxis?"yAxis":"xAxis";et=D(J.options[et])?y[et][J.options[et]]:y[et][0],m===et&&W.push(J)}});var G=W.length?[]:[m.isXAxis?y.yAxis[0]:y.xAxis[0]];W.forEach(function(J){G.indexOf(J)!==-1||$(G,function(et){return et.pos===J.pos&&et.len===J.len})||G.push(J)});var Z=I(q,m.translate(Q,void 0,void 0,E.old));H(Z)&&(m.horiz?G.forEach(function(J){var et;K=J.pos,O=K+J.len,z=X=Math.round(Z+m.transB),B!=="pass"&&(z<_||z>_+m.width)&&(B?z=X=C(z,_,_+m.width):et=!0),et||j.push(["M",z,K],["L",X,O])}):G.forEach(function(J){var et;z=J.pos,X=z+J.len,K=O=Math.round(L+m.height-Z),B!=="pass"&&(K<L||K>L+m.height)&&(B?K=O=C(K,L,L+m.height):et=!0),et||j.push(["M",z,K],["L",X,O])})),E.path=0<j.length?R.crispPolyLine(j,E.lineWidth||1):null}}),g.prototype.crispPolyLine=function(E,x){for(var m=0;m<E.length;m+=2){var p=E[m],y=E[m+1];p[1]===y[1]&&(p[1]=y[1]=Math.round(p[1])-x%2/2),p[2]===y[2]&&(p[2]=y[2]=Math.round(p[2])+x%2/2)}return E},a(i,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),a(i,"afterDrawCrosshair",function(E){var x,m;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&H(this.min)&&H(this.max)){var p=this.chart,y=this.logarithmic,R=this.crosshair.label,_=this.horiz,L=this.opposite,z=this.left,K=this.top,X=this.crossLabel,O=R.format,j="",W=this.options.tickPosition==="inside",q=this.crosshair.snap!==!1,Q=0,B=E.e||this.cross&&this.cross.e;E=E.point;var Y=this.min,G=this.max;y&&(Y=y.lin2log(Y),G=y.lin2log(G)),y=_?"center":L?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",X||(X=this.crossLabel=p.renderer.label("",0,void 0,R.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(E&&E.series?E.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:R.align||y,padding:I(R.padding,8),r:I(R.borderRadius,3),zIndex:2}).add(this.labelGroup),p.styledMode||X.attr({fill:R.backgroundColor||E&&E.series&&E.series.color||"#666666",stroke:R.borderColor||"","stroke-width":R.borderWidth||0}).css(U({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},R.style||{}))),_?(y=q?(E.plotX||0)+z:B.chartX,K+=L?0:this.height):(y=L?this.width+z:0,K=q?(E.plotY||0)+K:B.chartY),O||R.formatter||(this.dateTime&&(j="%b %d, %Y"),O="{value"+(j?":"+j:"")+"}"),j=q?this.isXAxis?E.x:E.y:this.toValue(_?B.chartX:B.chartY),q=E&&E.series?E.series.isPointInside(E):H(j)&&j>Y&&j<G,B="",O?B=k(O,{value:j},p):R.formatter&&H(j)&&(B=R.formatter.call(this,j)),X.attr({text:B,x:y,y:K,visibility:q?"inherit":"hidden"}),R=X.getBBox(),H(X.y)&&(_?(W&&!L||!W&&L)&&(K=X.y-R.height):K=X.y-R.height/2),_?(x=z-R.x,m=z+this.width-R.x):(x=this.labelAlign==="left"?z:0,m=this.labelAlign==="right"?z+this.width:p.chartWidth),X.translateX<x&&(Q=x-X.translateX),X.translateX+R.width>=m&&(Q=-(X.translateX+R.width-m)),X.attr({x:y+Q,y:K,anchorX:_?y:this.opposite?0:p.chartWidth,anchorY:_?this.opposite?p.chartHeight:0:K+R.height/2})}}),v.prototype.forceCropping=function(){var E=this.chart,x=this.options.dataGrouping;return this.allowDG!==!1&&x&&I(x.enabled,E.options.isStock)},a(o,"update",function(E){E=E.options,"scrollbar"in E&&this.navigator&&(M(!0,this.options.scrollbar,E.scrollbar),this.navigator.update({}),delete E.scrollbar)}),b}),n(r,"masters/modules/stock.src.js",[r["Core/Globals.js"],r["Series/DataModifyComposition.js"],r["Stock/Navigator/Navigator.js"],r["Stock/RangeSelector/RangeSelector.js"],r["Stock/Scrollbar/Scrollbar.js"],r["Core/Axis/OrdinalAxis.js"],r["Series/OHLC/OHLCSeries.js"],r["Series/Flags/FlagsSeries.js"],r["Core/Chart/StockChart.js"]],function(i,o,a,u,c,h,f,v,g){i.Navigator=a,i.RangeSelector=u,i.Scrollbar=c,i.StockChart=i.stockChart=g.stockChart,o.compose(i.Series,i.Axis,i.Point),v.compose(i.Renderer),a.compose(i.Axis,i.Chart,i.Series),f.compose(i.Series),h.compose(i.Axis,i.Series,i.Chart),u.compose(i.Axis,i.Chart),c.compose(i.Axis)}),n(r,"masters/highstock.src.js",[r["masters/highcharts.src.js"]],function(i){return i.product="Highstock",i}),r["masters/highstock.src.js"]._modules=r,r["masters/highstock.src.js"]})})(Sct);const ag=rE;var iE={},Ect={get exports(){return iE},set exports(t){iE=t}};(function(t,e){(function(n,r){t.exports=r(ut)})(typeof self<"u"?self:xL,function(n){return function(r){function i(a){if(o[a])return o[a].exports;var u=o[a]={i:a,l:!1,exports:{}};return r[a].call(u.exports,u,u.exports,i),u.l=!0,u.exports}var o={};return i.m=r,i.c=o,i.d=function(a,u,c){i.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(u,"a",u),u},i.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},i.p="",i(i.s=0)}([function(r,i,o){function a(){return a=Object.assign?Object.assign.bind():function(S){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var U in D)Object.prototype.hasOwnProperty.call(D,U)&&(S[U]=D[U])}return S},a.apply(this,arguments)}function u(S){return v(S)||f(S)||h(S)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(S,C){if(S){if(typeof S=="string")return g(S,C);var D=Object.prototype.toString.call(S).slice(8,-1);return D==="Object"&&S.constructor&&(D=S.constructor.name),D==="Map"||D==="Set"?Array.from(S):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?g(S,C):void 0}}function f(S){if(typeof Symbol<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}function v(S){if(Array.isArray(S))return g(S)}function g(S,C){(C==null||C>S.length)&&(C=S.length);for(var D=0,U=new Array(C);D<C;D++)U[D]=S[D];return U}function b(S){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(S)}Object.defineProperty(i,"__esModule",{value:!0}),o.d(i,"HighchartsReact",function(){return k});var w=o(1),T=o.n(w),P=typeof window<"u"?w.useLayoutEffect:w.useEffect,k=Object(w.memo)(Object(w.forwardRef)(function(S,C){var D=Object(w.useRef)(),U=Object(w.useRef)(),$=Object(w.useRef)(S.constructorType),H=Object(w.useRef)(S.highcharts);return P(function(){function F(){var I=S.highcharts||(typeof window>"u"?"undefined":b(window))==="object"&&window.Highcharts,A=S.constructorType||"chart";I?I[A]?S.options?U.current=I[A](D.current,S.options,S.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(U.current){if(S.allowChartUpdate!==!1)if(S.constructorType!==$.current||S.highcharts!==H.current)$.current=S.constructorType,H.current=S.highcharts,F();else if(!S.immutable&&U.current){var M;(M=U.current).update.apply(M,[S.options].concat(u(S.updateArgs||[!0,!0])))}else F()}else F()},[S.options,S.allowChartUpdate,S.updateArgs,S.containerProps,S.highcharts,S.constructorType]),P(function(){return function(){U.current&&(U.current.destroy(),U.current=null)}},[]),Object(w.useImperativeHandle)(C,function(){return{get chart(){return U.current},container:D}},[]),T.a.createElement("div",a({},S.containerProps,{ref:D}))}));i.default=k},function(r,i){r.exports=n}])})})(Ect);const Tct=oE(iE);function kct({data:t}){const e={chart:{zoomType:"x",width:1e3},credits:{enabled:!1},xAxis:{type:"datetime"},yAxis:{title:{text:"BP Measures"}},title:{text:"",enabled:!1},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,ag.getOptions().colors[0]],[1,ag.color(ag.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{type:"area",name:"LowBP",color:"blue",data:t.map(n=>({x:Date.UTC(new Date(n.timestamp).getFullYear(),new Date(n.timestamp).getMonth(),new Date(n.timestamp).getDate(),new Date(n.timestamp).getHours(),new Date(n.timestamp).getMinutes(),new Date(n.timestamp).getSeconds()),y:n.lowBP}))},{type:"area",name:"HighBP",color:"black",data:t.map(n=>({x:Date.UTC(new Date(n.timestamp).getFullYear(),new Date(n.timestamp).getMonth(),new Date(n.timestamp).getDate(),new Date(n.timestamp).getHours(),new Date(n.timestamp).getMinutes(),new Date(n.timestamp).getSeconds()),y:n.highBP}))}]};return be.jsx(Tct,{highcharts:ag,options:e})}const Cct=({data:t})=>{const e=(r,i)=>{const{name:o,value:a}=r.target;Xm.collection("items").doc(i).update({[o]:a&&!a.endsWith(".")?parseFloat(a):a})},n=r=>{Xm.collection("items").doc(r).delete()};return be.jsx("div",{className:"container",children:be.jsxs("table",{children:[be.jsx("thead",{children:be.jsxs("tr",{children:[be.jsx("th",{children:"Date time"}),be.jsx("th",{children:"High BP"}),be.jsx("th",{children:"Low BP"}),be.jsx("th",{children:"Operation"})]})}),be.jsx("tbody",{children:t.map(({id:r,highBP:i,lowBP:o,timestamp:a})=>be.jsxs("tr",{children:[be.jsx("td",{children:be.jsx("pan",{children:new Date(a).toLocaleString()})}),be.jsx("td",{children:be.jsx("input",{name:"highBP",value:i,type:"text",onChange:u=>e(u,r),placeholder:"Type High BP"})}),be.jsx("td",{children:be.jsx("input",{name:"lowBP",value:o,type:"text",onChange:u=>e(u,r),placeholder:"Type Low BP"})}),be.jsx("td",{children:be.jsx("button",{style:{marginLeft:20},onClick:u=>n(r),children:"Delete"})})]},r))})]})})};function Ict(){const[t,e]=ut.useState([]),[n,r]=ut.useState(""),[i,o]=ut.useState("");ut.useEffect(()=>{a()},[]);function a(){Xm.collection("items").onSnapshot(function(c){e(c.docs.map(h=>({id:h.id,highBP:h.data().highBP,lowBP:h.data().lowBP,timestamp:h.data().timestamp})))})}function u(c){c.preventDefault(),Xm.collection("items").add({timestamp:Date.now(),highBP:parseFloat(n),lowBP:parseFloat(i)}),r(""),o("")}return be.jsx("div",{className:"App",children:be.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},children:[be.jsx("h1",{children:"BP Tracking 😃"}),t.length>0&&be.jsx(kct,{data:t}),be.jsxs("form",{style:{display:"flex",flexDirection:"row",width:"40vw"},children:[be.jsx(_O,{id:"highBP",label:"highBP",value:n,style:{width:"50vw"},onChange:c=>r(c.target.value)}),be.jsx(_O,{id:"lowBP",label:"lowBP",value:i,style:{width:"50vw"},onChange:c=>o(c.target.value)}),be.jsx(Qq,{type:"submit",variant:"contained",onClick:u,style:{display:"none"},children:"Default"})]}),t.length>0&&be.jsx(Cct,{data:t.sort((c,h)=>h.timestamp-c.timestamp)})]})})}uf.render(be.jsx($e.StrictMode,{children:be.jsx(Ict,{})}),document.getElementById("root"));
